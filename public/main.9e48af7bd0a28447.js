(self.webpackChunkerp_app=self.webpackChunkerp_app||[]).push([[179],{527:(_d,jc,Si)=>{"use strict";function Me(t){return"function"==typeof t}function ma(t){const n=t(r=>{Error.call(r),r.stack=(new Error).stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}const fs=ma(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:\n${n.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=n});function _a(t,e){if(t){const n=t.indexOf(e);0<=n&&t.splice(n,1)}}class rn{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(const s of n)s.remove(this);else n.remove(this);const{initialTeardown:r}=this;if(Me(r))try{r()}catch(s){e=s instanceof fs?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{vd(s)}catch(o){e=e??[],o instanceof fs?e=[...e,...o.errors]:e.push(o)}}if(e)throw new fs(e)}}add(e){var n;if(e&&e!==this)if(this.closed)vd(e);else{if(e instanceof rn){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(n=this._finalizers)&&void 0!==n?n:[]).push(e)}}_hasParent(e){const{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){const{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){const{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&_a(n,e)}remove(e){const{_finalizers:n}=this;n&&_a(n,e),e instanceof rn&&e._removeParent(this)}}rn.EMPTY=(()=>{const t=new rn;return t.closed=!0,t})();const yd=rn.EMPTY;function $c(t){return t instanceof rn||t&&"closed"in t&&Me(t.remove)&&Me(t.add)&&Me(t.unsubscribe)}function vd(t){Me(t)?t():t.unsubscribe()}const Zn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},_r={setTimeout(t,e,...n){const{delegate:r}=_r;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){const{delegate:e}=_r;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Nt(t){_r.setTimeout(()=>{const{onUnhandledError:e}=Zn;if(!e)throw t;e(t)})}function Hc(){}const Gc=Ai("C",void 0,void 0);function Ai(t,e,n){return{kind:t,value:e,error:n}}let xi=null;function He(t){if(Zn.useDeprecatedSynchronousErrorHandling){const e=!xi;if(e&&(xi={errorThrown:!1,error:null}),t(),e){const{errorThrown:n,error:r}=xi;if(xi=null,n)throw r}}else t()}class zc extends rn{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,$c(e)&&e.add(this)):this.destination=AI}static create(e,n,r){return new li(e,n,r)}next(e){this.isStopped?Ed(function Dg(t){return Ai("N",t,void 0)}(e),this):this._next(e)}error(e){this.isStopped?Ed(function Cg(t){return Ai("E",void 0,t)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ed(Gc,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const wd=Function.prototype.bind;function Id(t,e){return wd.call(t,e)}class DI{constructor(e){this.partialObserver=e}next(e){const{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){ya(r)}}error(e){const{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){ya(r)}else ya(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){ya(n)}}}class li extends zc{constructor(e,n,r){let i;if(super(),Me(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&Zn.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Id(e.next,s),error:e.error&&Id(e.error,s),complete:e.complete&&Id(e.complete,s)}):i=e}this.destination=new DI(i)}}function ya(t){Zn.useDeprecatedSynchronousErrorHandling?function ps(t){Zn.useDeprecatedSynchronousErrorHandling&&xi&&(xi.errorThrown=!0,xi.error=t)}(t):Nt(t)}function Ed(t,e){const{onStoppedNotification:n}=Zn;n&&_r.setTimeout(()=>n(t,e))}const AI={closed:!0,next:Hc,error:function SI(t){throw t},complete:Hc},oo="function"==typeof Symbol&&Symbol.observable||"@@observable";function h(t){return t}function y(t){return 0===t.length?h:1===t.length?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}let m=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){const r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){const s=function D(t){return t&&t instanceof zc||function x(t){return t&&Me(t.next)&&Me(t.error)&&Me(t.complete)}(t)&&$c(t)}(n)?n:new li(n,r,i);return He(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return new(r=b(r))((i,s)=>{const o=new li({next:a=>{try{n(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(n)}[oo](){return this}pipe(...n){return y(n)(this)}toPromise(n){return new(n=b(n))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function b(t){var e;return null!==(e=t??Zn.Promise)&&void 0!==e?e:Promise}const R=ma(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let F=(()=>{class t extends m{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){const r=new le(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new R}next(n){He(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(n)}})}error(n){He(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;const{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){He(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return(null===(n=this.observers)||void 0===n?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){const{hasError:r,isStopped:i,observers:s}=this;return r||i?yd:(this.currentObservers=null,s.push(n),new rn(()=>{this.currentObservers=null,_a(s,n)}))}_checkFinalizedStatuses(n){const{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){const n=new m;return n.source=this,n}}return t.create=(e,n)=>new le(e,n),t})();class le extends F{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.next)||void 0===r||r.call(n,e)}error(e){var n,r;null===(r=null===(n=this.destination)||void 0===n?void 0:n.error)||void 0===r||r.call(n,e)}complete(){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===n||n.call(e)}_subscribe(e){var n,r;return null!==(r=null===(n=this.source)||void 0===n?void 0:n.subscribe(e))&&void 0!==r?r:yd}}function we(t){return Me(t?.lift)}function re(t){return e=>{if(we(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ie(t,e,n,r,i){return new Se(t,e,n,r,i)}class Se extends zc{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:n}=this;super.unsubscribe(),!n&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function ee(t,e){return re((n,r)=>{let i=0;n.subscribe(ie(r,s=>{r.next(t.call(e,s,i++))}))})}function wt(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]])}return n}function ao(t){return this instanceof ao?(this.v=t,this):new ao(t)}function CO(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n,e=t[Symbol.asyncIterator];return e?e.call(t):(t=function MI(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,c){!function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}(a,c,(o=t[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const NI=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function DO(t){return Me(t?.then)}function SO(t){return Me(t[oo])}function AO(t){return Symbol.asyncIterator&&Me(t?.[Symbol.asyncIterator])}function xO(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const MO=function BY(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function NO(t){return Me(t?.[MO])}function RO(t){return function TO(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(f){r[f]&&(i[f]=function(g){return new Promise(function(_,w){s.push([f,g,_,w])>1||a(f,g)})})}function a(f,g){try{!function c(f){f.value instanceof ao?Promise.resolve(f.value.v).then(l,u):d(s[0][2],f)}(r[f](g))}catch(_){d(s[0][3],_)}}function l(f){a("next",f)}function u(f){a("throw",f)}function d(f,g){f(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const n=t.getReader();try{for(;;){const{value:r,done:i}=yield ao(n.read());if(i)return yield ao(void 0);yield yield ao(r)}}finally{n.releaseLock()}})}function kO(t){return Me(t?.getReader)}function er(t){if(t instanceof m)return t;if(null!=t){if(SO(t))return function jY(t){return new m(e=>{const n=t[oo]();if(Me(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(NI(t))return function $Y(t){return new m(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}(t);if(DO(t))return function HY(t){return new m(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Nt)})}(t);if(AO(t))return PO(t);if(NO(t))return function GY(t){return new m(e=>{for(const n of t)if(e.next(n),e.closed)return;e.complete()})}(t);if(kO(t))return function zY(t){return PO(RO(t))}(t)}throw xO(t)}function PO(t){return new m(e=>{(function WY(t,e){var n,r,i,s;return function EO(t,e,n,r){return new(n||(n=Promise))(function(s,o){function a(u){try{l(r.next(u))}catch(d){o(d)}}function c(u){try{l(r.throw(u))}catch(d){o(d)}}function l(u){u.done?s(u.value):function i(s){return s instanceof n?s:new n(function(o){o(s)})}(u.value).then(a,c)}l((r=r.apply(t,e||[])).next())})}(this,void 0,void 0,function*(){try{for(n=CO(t);!(r=yield n.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})})(t,e).catch(n=>e.error(n))})}function gs(t,e,n,r=0,i=!1){const s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function dn(t,e,n=1/0){return Me(e)?dn((r,i)=>ee((s,o)=>e(r,s,i,o))(er(t(r,i))),n):("number"==typeof e&&(n=e),re((r,i)=>function qY(t,e,n,r,i,s,o,a){const c=[];let l=0,u=0,d=!1;const f=()=>{d&&!c.length&&!l&&e.complete()},g=w=>l<r?_(w):c.push(w),_=w=>{s&&e.next(w),l++;let I=!1;er(n(w,u++)).subscribe(ie(e,T=>{i?.(T),s?g(T):e.next(T)},()=>{I=!0},void 0,()=>{if(I)try{for(l--;c.length&&l<r;){const T=c.shift();o?gs(e,o,()=>_(T)):_(T)}f()}catch(T){e.error(T)}}))};return t.subscribe(ie(e,g,()=>{d=!0,f()})),()=>{a?.()}}(r,i,t,n)))}function Wc(t=1/0){return dn(h,t)}const Mi=new m(t=>t.complete());function OO(t){return t&&Me(t.schedule)}function RI(t){return t[t.length-1]}function LO(t){return Me(RI(t))?t.pop():void 0}function Td(t){return OO(RI(t))?t.pop():void 0}function Sg(t,e=0){return re((n,r)=>{n.subscribe(ie(r,i=>gs(r,t,()=>r.next(i),e),()=>gs(r,t,()=>r.complete(),e),i=>gs(r,t,()=>r.error(i),e)))})}function Ag(t,e=0){return re((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function FO(t,e){if(!t)throw new Error("Iterable cannot be null");return new m(n=>{gs(n,e,()=>{const r=t[Symbol.asyncIterator]();gs(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function hn(t,e){return e?function tQ(t,e){if(null!=t){if(SO(t))return function QY(t,e){return er(t).pipe(Ag(e),Sg(e))}(t,e);if(NI(t))return function JY(t,e){return new m(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}(t,e);if(DO(t))return function XY(t,e){return er(t).pipe(Ag(e),Sg(e))}(t,e);if(AO(t))return FO(t,e);if(NO(t))return function ZY(t,e){return new m(n=>{let r;return gs(n,e,()=>{r=t[MO](),gs(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void n.error(o)}s?n.complete():n.next(i)},0,!0)}),()=>Me(r?.return)&&r.return()})}(t,e);if(kO(t))return function eQ(t,e){return FO(RO(t),e)}(t,e)}throw xO(t)}(t,e):er(t)}class yr extends F{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){const{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function se(...t){return hn(t,Td(t))}function kI(t={}){const{connector:e=(()=>new F),resetOnError:n=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=t;return s=>{let o,a,c,l=0,u=!1,d=!1;const f=()=>{a?.unsubscribe(),a=void 0},g=()=>{f(),o=c=void 0,u=d=!1},_=()=>{const w=o;g(),w?.unsubscribe()};return re((w,I)=>{l++,!d&&!u&&f();const T=c=c??e();I.add(()=>{l--,0===l&&!d&&!u&&(a=PI(_,i))}),T.subscribe(I),!o&&l>0&&(o=new li({next:E=>T.next(E),error:E=>{d=!0,f(),a=PI(g,n,E),T.error(E)},complete:()=>{u=!0,f(),a=PI(g,r),T.complete()}}),er(w).subscribe(o))})(s)}}function PI(t,e,...n){if(!0===e)return void t();if(!1===e)return;const r=new li({next:()=>{r.unsubscribe(),t()}});return er(e(...n)).subscribe(r)}function Ni(t,e){return re((n,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();n.subscribe(ie(r,c=>{i?.unsubscribe();let l=0;const u=s++;er(t(c,u)).subscribe(i=ie(r,d=>r.next(e?e(c,d,u,l++):d),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function rQ(t,e){return t===e}function Qe(t){for(let e in t)if(t[e]===Qe)return e;throw Error("Could not find renamed property on target object.")}function xg(t,e){for(const n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function sn(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(sn).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const e=t.toString();if(null==e)return""+e;const n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function OI(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}const iQ=Qe({__forward_ref__:Qe});function Xe(t){return t.__forward_ref__=Xe,t.toString=function(){return sn(this())},t}function he(t){return LI(t)?t():t}function LI(t){return"function"==typeof t&&t.hasOwnProperty(iQ)&&t.__forward_ref__===Xe}function FI(t){return t&&!!t.\u0275providers}const UO="https://g.co/ng/security#xss";class O extends Error{constructor(e,n){super(function Mg(t,e){return`NG0${Math.abs(t)}${e?": "+e:""}`}(e,n)),this.code=e}}function pe(t){return"string"==typeof t?t:null==t?"":String(t)}function VI(t,e){throw new O(-201,!1)}function Kr(t,e){null==t&&function ue(t,e,n,r){throw new Error(`ASSERTION ERROR: ${t}`+(null==r?"":` [Expected=> ${n} ${r} ${e} <=Actual]`))}(e,t,null,"!=")}function J(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Rt(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ng(t){return BO(t,kg)||BO(t,jO)}function BO(t,e){return t.hasOwnProperty(e)?t[e]:null}function Rg(t){return t&&(t.hasOwnProperty(UI)||t.hasOwnProperty(hQ))?t[UI]:null}const kg=Qe({\u0275prov:Qe}),UI=Qe({\u0275inj:Qe}),jO=Qe({ngInjectableDef:Qe}),hQ=Qe({ngInjectorDef:Qe});var Ae=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Ae||{});let BI;function vr(t){const e=BI;return BI=t,e}function HO(t,e,n){const r=Ng(t);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:n&Ae.Optional?null:void 0!==e?e:void VI(sn(t))}const ct=globalThis,Cd={},zI="__NG_DI_FLAG__",Pg="ngTempTokenPath",gQ=/\n/gm,zO="__source";let qc;function co(t){const e=qc;return qc=t,e}function yQ(t,e=Ae.Default){if(void 0===qc)throw new O(-203,!1);return null===qc?HO(t,void 0,e):qc.get(t,e&Ae.Optional?null:void 0,e)}function j(t,e=Ae.Default){return(function $O(){return BI}()||yQ)(he(t),e)}function K(t,e=Ae.Default){return j(t,Og(e))}function Og(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function WI(t){const e=[];for(let n=0;n<t.length;n++){const r=he(t[n]);if(Array.isArray(r)){if(0===r.length)throw new O(900,!1);let i,s=Ae.Default;for(let o=0;o<r.length;o++){const a=r[o],c=vQ(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(j(i,s))}else e.push(j(r))}return e}function Dd(t,e){return t[zI]=e,t.prototype[zI]=e,t}function vQ(t){return t[zI]}function ms(t){return{toString:t}.toString()}var Lg=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(Lg||{}),di=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(di||{});const Ri={},Be=[],Fg=Qe({\u0275cmp:Qe}),qI=Qe({\u0275dir:Qe}),KI=Qe({\u0275pipe:Qe}),qO=Qe({\u0275mod:Qe}),_s=Qe({\u0275fac:Qe}),Sd=Qe({__NG_ELEMENT_ID__:Qe}),KO=Qe({__NG_ENV_ID__:Qe});function YO(t,e,n){let r=t.length;for(;;){const i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function YI(t,e,n){let r=0;for(;r<n.length;){const i=n[r];if("number"==typeof i){if(0!==i)break;r++;const s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{const s=i,o=n[++r];XO(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function QO(t){return 3===t||4===t||6===t}function XO(t){return 64===t.charCodeAt(0)}function Ad(t,e){if(null!==e&&0!==e.length)if(null===t||0===t.length)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?n=i:0===n||JO(t,n,i,null,-1===n||2===n?e[++r]:null)}}return t}function JO(t,e,n,r,i){let s=0,o=t.length;if(-1===e)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===n){if(null===r)return void(null!==i&&(t[s+1]=i));if(r===t[s+1])return void(t[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),null!==r&&t.splice(s++,0,r),null!==i&&t.splice(s++,0,i)}const ZO="ng-template";function EQ(t,e,n){let r=0,i=!0;for(;r<t.length;){let s=t[r++];if("string"==typeof s&&i){const o=t[r++];if(n&&"class"===s&&-1!==YO(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<t.length&&"string"==typeof(s=t[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function eL(t){return 4===t.type&&t.value!==ZO}function bQ(t,e,n){return e===(4!==t.type||n?t.value:ZO)}function TQ(t,e,n){let r=4;const i=t.attrs||[],s=function SQ(t){for(let e=0;e<t.length;e++)if(QO(t[e]))return e;return t.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!bQ(t,c,n)||""===c&&1===e.length){if(hi(r))return!1;o=!0}}else{const l=8&r?c:e[++a];if(8&r&&null!==t.attrs){if(!EQ(t.attrs,l,n)){if(hi(r))return!1;o=!0}continue}const d=CQ(8&r?"class":c,i,eL(t),n);if(-1===d){if(hi(r))return!1;o=!0;continue}if(""!==l){let f;f=d>s?"":i[d+1].toLowerCase();const g=8&r?f:null;if(g&&-1!==YO(g,l,0)||2&r&&l!==f){if(hi(r))return!1;o=!0}}}}else{if(!o&&!hi(r)&&!hi(c))return!1;if(o&&hi(c))continue;o=!1,r=c|1&r}}return hi(r)||o}function hi(t){return 0==(1&t)}function CQ(t,e,n,r){if(null===e)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){const o=e[i];if(o===t)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function AQ(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){const r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function tL(t,e,n=!1){for(let r=0;r<e.length;r++)if(TQ(t,e[r],n))return!0;return!1}function xQ(t,e){e:for(let n=0;n<e.length;n++){const r=e[n];if(t.length===r.length){for(let i=0;i<t.length;i++)if(t[i]!==r[i])continue e;return!0}}return!1}function nL(t,e){return t?":not("+e.trim()+")":e}function MQ(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if("string"==typeof o)if(2&r){const a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!hi(o)&&(e+=nL(s,i),i=""),r=o,s=s||!hi(r);n++}return""!==i&&(e+=nL(s,i)),e}function Yr(t){return ms(()=>{const e=iL(t),n={...e,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===Lg.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||di.Emulated,styles:t.styles||Be,_:null,schemas:t.schemas||null,tView:null,id:""};sL(n);const r=t.dependencies;return n.directiveDefs=Vg(r,!1),n.pipeDefs=Vg(r,!0),n.id=function VQ(t){let e=0;const n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(n),n})}function PQ(t){return ke(t)||Cn(t)}function OQ(t){return null!==t}function jt(t){return ms(()=>({type:t.type,bootstrap:t.bootstrap||Be,declarations:t.declarations||Be,imports:t.imports||Be,exports:t.exports||Be,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function rL(t,e){if(null==t)return Ri;const n={};for(const r in t)if(t.hasOwnProperty(r)){let i=t[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),n[i]=r,e&&(e[i]=s)}return n}function ae(t){return ms(()=>{const e=iL(t);return sL(e),e})}function ke(t){return t[Fg]||null}function Cn(t){return t[qI]||null}function tr(t){return t[KI]||null}function Lr(t,e){const n=t[qO]||null;if(!n&&!0===e)throw new Error(`Type ${sn(t)} does not have '\u0275mod' property.`);return n}function iL(t){const e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Ri,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||Be,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:rL(t.inputs,e),outputs:rL(t.outputs)}}function sL(t){t.features?.forEach(e=>e(t))}function Vg(t,e){if(!t)return null;const n=e?tr:PQ;return()=>("function"==typeof t?t():t).map(r=>n(r)).filter(OQ)}const kt=0,q=1,ye=2,It=3,fi=4,xd=5,jn=6,Yc=7,$t=8,lo=9,Qc=10,ge=11,Md=12,oL=13,Xc=14,Ht=15,Nd=16,Jc=17,ki=18,Rd=19,aL=20,uo=21,ys=22,kd=23,Pd=24,xe=25,QI=1,cL=2,Pi=7,Zc=9,Dn=11;function Ir(t){return Array.isArray(t)&&"object"==typeof t[QI]}function nr(t){return Array.isArray(t)&&!0===t[QI]}function XI(t){return 0!=(4&t.flags)}function wa(t){return t.componentOffset>-1}function Bg(t){return 1==(1&t.flags)}function pi(t){return!!t.template}function JI(t){return 0!=(512&t[ye])}function Ia(t,e){return t.hasOwnProperty(_s)?t[_s]:null}let Sn=null,jg=!1;function Qr(t){const e=Sn;return Sn=t,e}const dL={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function fL(t){if(!Ld(t)||t.dirty){if(!t.producerMustRecompute(t)&&!mL(t))return void(t.dirty=!1);t.producerRecomputeValue(t),t.dirty=!1}}function gL(t){t.dirty=!0,function pL(t){if(void 0===t.liveConsumerNode)return;const e=jg;jg=!0;try{for(const n of t.liveConsumerNode)n.dirty||gL(n)}finally{jg=e}}(t),t.consumerMarkedDirty?.(t)}function eE(t){return t&&(t.nextProducerIndex=0),Qr(t)}function tE(t,e){if(Qr(e),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(Ld(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)$g(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function mL(t){el(t);for(let e=0;e<t.producerNode.length;e++){const n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(fL(n),r!==n.version))return!0}return!1}function _L(t){if(el(t),Ld(t))for(let e=0;e<t.producerNode.length;e++)$g(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function $g(t,e){if(function vL(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),el(t),1===t.liveConsumerNode.length)for(let r=0;r<t.producerNode.length;r++)$g(t.producerNode[r],t.producerIndexOfThis[r]);const n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){const r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];el(i),i.producerIndexOfThis[r]=e}}function Ld(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function el(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let wL=null;const TL=()=>{},XQ=(()=>({...dL,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:t=>{t.schedule(t.ref)},hasRun:!1,cleanupFn:TL}))();class JQ{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}}function Xr(){return CL}function CL(t){return t.type.prototype.ngOnChanges&&(t.setInput=eX),ZQ}function ZQ(){const t=SL(this),e=t?.current;if(e){const n=t.previous;if(n===Ri)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function eX(t,e,n,r){const i=this.declaredInputs[n],s=SL(t)||function tX(t,e){return t[DL]=e}(t,{previous:Ri,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new JQ(c&&c.currentValue,e,a===Ri),t[r]=e}Xr.ngInherit=!0;const DL="__ngSimpleChanges__";function SL(t){return t[DL]||null}const Oi=function(t,e,n){};function lt(t){for(;Array.isArray(t);)t=t[kt];return t}function Hg(t,e){return lt(e[t])}function Er(t,e){return lt(e[t.index])}function ML(t,e){return t.data[e]}function Fr(t,e){const n=e[t];return Ir(n)?n:n[kt]}function fo(t,e){return null==e?null:t[e]}function NL(t){t[Jc]=0}function aX(t){1024&t[ye]||(t[ye]|=1024,kL(t,1))}function RL(t){1024&t[ye]&&(t[ye]&=-1025,kL(t,-1))}function kL(t,e){let n=t[It];if(null===n)return;n[xd]+=e;let r=n;for(n=n[It];null!==n&&(1===e&&1===r[xd]||-1===e&&0===r[xd]);)n[xd]+=e,r=n,n=n[It]}const de={lFrame:WL(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function LL(){return de.bindingsEnabled}function nl(){return null!==de.skipHydrationRootTNode}function k(){return de.lFrame.lView}function Pe(){return de.lFrame.tView}function An(){let t=UL();for(;null!==t&&64===t.type;)t=t.parent;return t}function UL(){return de.lFrame.currentTNode}function Li(t,e){const n=de.lFrame;n.currentTNode=t,n.isParent=e}function oE(){return de.lFrame.isParent}function aE(){de.lFrame.isParent=!1}function rl(){return de.lFrame.bindingIndex++}function vX(t,e){const n=de.lFrame;n.bindingIndex=n.bindingRootIndex=t,cE(e)}function cE(t){de.lFrame.currentDirectiveIndex=t}function HL(){return de.lFrame.currentQueryIndex}function uE(t){de.lFrame.currentQueryIndex=t}function IX(t){const e=t[q];return 2===e.type?e.declTNode:1===e.type?t[jn]:null}function GL(t,e,n){if(n&Ae.SkipSelf){let i=e,s=t;for(;!(i=i.parent,null!==i||n&Ae.Host||(i=IX(s),null===i||(s=s[Xc],10&i.type))););if(null===i)return!1;e=i,t=s}const r=de.lFrame=zL();return r.currentTNode=e,r.lView=t,!0}function dE(t){const e=zL(),n=t[q];de.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function zL(){const t=de.lFrame,e=null===t?null:t.child;return null===e?WL(t):e}function WL(t){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=e),e}function qL(){const t=de.lFrame;return de.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const KL=qL;function hE(){const t=qL();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function ir(){return de.lFrame.selectedIndex}function Ea(t){de.lFrame.selectedIndex=t}function Ct(){const t=de.lFrame;return ML(t.tView,t.selectedIndex)}let XL=!0;function Gg(){return XL}function po(t){XL=t}function zg(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){const s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:l,ngOnDestroy:u}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),c&&(t.viewHooks??=[]).push(-n,c),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),null!=u&&(t.destroyHooks??=[]).push(n,u)}}function Wg(t,e,n){JL(t,e,3,n)}function qg(t,e,n,r){(3&t[ye])===n&&JL(t,e,n,r)}function fE(t,e){let n=t[ye];(3&n)===e&&(n&=8191,n+=1,t[ye]=n)}function JL(t,e,n,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&t[Jc]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(t[Jc]+=65536),(a<s||-1==s)&&(AX(t,n,e,c),t[Jc]=(4294901760&t[Jc])+c+2),c++}function ZL(t,e){Oi(4,t,e);const n=Qr(null);try{e.call(t)}finally{Qr(n),Oi(5,t,e)}}function AX(t,e,n,r){const i=n[r]<0,s=n[r+1],a=t[i?-n[r]:n[r]];i?t[ye]>>13<t[Jc]>>16&&(3&t[ye])===e&&(t[ye]+=8192,ZL(a,s)):ZL(a,s)}const il=-1;class Vd{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}}function gE(t){return t!==il}function Ud(t){return 32767&t}function Bd(t,e){let n=function RX(t){return t>>16}(t),r=e;for(;n>0;)r=r[Xc],n--;return r}let mE=!0;function Kg(t){const e=mE;return mE=t,e}const eF=255,tF=5;let kX=0;const Fi={};function Yg(t,e){const n=nF(t,e);if(-1!==n)return n;const r=e[q];r.firstCreatePass&&(t.injectorIndex=e.length,_E(r.data,t),_E(e,null),_E(r.blueprint,null));const i=Qg(t,e),s=t.injectorIndex;if(gE(i)){const o=Ud(i),a=Bd(i,e),c=a[q].data;for(let l=0;l<8;l++)e[s+l]=a[o+l]|c[o+l]}return e[s+8]=i,s}function _E(t,e){t.push(0,0,0,0,0,0,0,0,e)}function nF(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===e[t.injectorIndex+8]?-1:t.injectorIndex}function Qg(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;null!==i;){if(r=lF(i),null===r)return il;if(n++,i=i[Xc],-1!==r.injectorIndex)return r.injectorIndex|n<<16}return il}function yE(t,e,n){!function PX(t,e,n){let r;"string"==typeof n?r=n.charCodeAt(0)||0:n.hasOwnProperty(Sd)&&(r=n[Sd]),null==r&&(r=n[Sd]=kX++);const i=r&eF;e.data[t+(i>>tF)]|=1<<i}(t,e,n)}function rF(t,e,n){if(n&Ae.Optional||void 0!==t)return t;VI()}function iF(t,e,n,r){if(n&Ae.Optional&&void 0===r&&(r=null),!(n&(Ae.Self|Ae.Host))){const i=t[lo],s=vr(void 0);try{return i?i.get(e,r,n&Ae.Optional):HO(e,r,n&Ae.Optional)}finally{vr(s)}}return rF(r,0,n)}function sF(t,e,n,r=Ae.Default,i){if(null!==t){if(2048&e[ye]&&!(r&Ae.Self)){const o=function BX(t,e,n,r,i){let s=t,o=e;for(;null!==s&&null!==o&&2048&o[ye]&&!(512&o[ye]);){const a=oF(s,o,n,r|Ae.Self,Fi);if(a!==Fi)return a;let c=s.parent;if(!c){const l=o[aL];if(l){const u=l.get(n,Fi,r);if(u!==Fi)return u}c=lF(o),o=o[Xc]}s=c}return i}(t,e,n,r,Fi);if(o!==Fi)return o}const s=oF(t,e,n,r,Fi);if(s!==Fi)return s}return iF(e,n,r,i)}function oF(t,e,n,r,i){const s=function FX(t){if("string"==typeof t)return t.charCodeAt(0)||0;const e=t.hasOwnProperty(Sd)?t[Sd]:void 0;return"number"==typeof e?e>=0?e&eF:UX:e}(n);if("function"==typeof s){if(!GL(e,t,r))return r&Ae.Host?rF(i,0,r):iF(e,n,r,i);try{let o;if(o=s(r),null!=o||r&Ae.Optional)return o;VI()}finally{KL()}}else if("number"==typeof s){let o=null,a=nF(t,e),c=il,l=r&Ae.Host?e[Ht][jn]:null;for((-1===a||r&Ae.SkipSelf)&&(c=-1===a?Qg(t,e):e[a+8],c!==il&&cF(r,!1)?(o=e[q],a=Ud(c),e=Bd(c,e)):a=-1);-1!==a;){const u=e[q];if(aF(s,a,u.data)){const d=LX(a,e,n,o,r,l);if(d!==Fi)return d}c=e[a+8],c!==il&&cF(r,e[q].data[a+8]===l)&&aF(s,a,e)?(o=u,a=Ud(c),e=Bd(c,e)):a=-1}}return i}function LX(t,e,n,r,i,s){const o=e[q],a=o.data[t+8],u=Xg(a,o,n,null==r?wa(a)&&mE:r!=o&&0!=(3&a.type),i&Ae.Host&&s===a);return null!==u?ba(e,o,u,a):Fi}function Xg(t,e,n,r,i){const s=t.providerIndexes,o=e.data,a=1048575&s,c=t.directiveStart,u=s>>20,f=i?a+u:t.directiveEnd;for(let g=r?a:a+u;g<f;g++){const _=o[g];if(g<c&&n===_||g>=c&&_.type===n)return g}if(i){const g=o[c];if(g&&pi(g)&&g.type===n)return c}return null}function ba(t,e,n,r){let i=t[n];const s=e.data;if(function xX(t){return t instanceof Vd}(i)){const o=i;o.resolving&&function sQ(t,e){const n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new O(-200,`Circular dependency in DI detected for ${t}${n}`)}(function qe(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():pe(t)}(s[n]));const a=Kg(o.canSeeViewProviders);o.resolving=!0;const l=o.injectImpl?vr(o.injectImpl):null;GL(t,r,Ae.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&function SX(t,e,n){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=CL(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}(n,s[n],e)}finally{null!==l&&vr(l),Kg(a),o.resolving=!1,KL()}}return i}function aF(t,e,n){return!!(n[e+(t>>tF)]&1<<t)}function cF(t,e){return!(t&Ae.Self||t&Ae.Host&&e)}class sr{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return sF(this._tNode,this._lView,e,Og(r),n)}}function UX(){return new sr(An(),k())}function fn(t){return ms(()=>{const e=t.prototype.constructor,n=e[_s]||vE(e),r=Object.prototype;let i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){const s=i[_s]||vE(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function vE(t){return LI(t)?()=>{const e=vE(he(t));return e&&e()}:Ia(t)}function lF(t){const e=t[q],n=e.type;return 2===n?e.declTNode:1===n?t[jn]:null}const al="__parameters__";function ll(t,e,n){return ms(()=>{const r=function wE(t){return function(...n){if(t){const r=t(...n);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,l,u){const d=c.hasOwnProperty(al)?c[al]:Object.defineProperty(c,al,{value:[]})[al];for(;d.length<=u;)d.push(null);return(d[u]=d[u]||[]).push(o),c}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}function dl(t,e){t.forEach(n=>Array.isArray(n)?dl(n,e):e(n))}function dF(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Jg(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function Hd(t,e){const n=[];for(let r=0;r<t;r++)n.push(e);return n}function Vr(t,e,n){let r=hl(t,e);return r>=0?t[1|r]=n:(r=~r,function qX(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r,e,n)),r}function IE(t,e){const n=hl(t,e);if(n>=0)return t[1|n]}function hl(t,e){return function hF(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){const s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}(t,e,1)}const Pt=Dd(ll("Optional"),8),Gd=Dd(ll("SkipSelf"),4);function im(t){return 128==(128&t.flags)}var go=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(go||{});const DE=new Map;let _J=0;const AE="__ngContext__";function $n(t,e){Ir(e)?(t[AE]=e[Rd],function vJ(t){DE.set(t[Rd],t)}(e)):t[AE]=e}let xE;function ME(t,e){return xE(t,e)}function qd(t){const e=t[It];return nr(e)?e[It]:e}function RF(t){return PF(t[Md])}function kF(t){return PF(t[fi])}function PF(t){for(;null!==t&&!nr(t);)t=t[fi];return t}function gl(t,e,n,r,i){if(null!=r){let s,o=!1;nr(r)?s=r:Ir(r)&&(o=!0,r=r[kt]);const a=lt(r);0===t&&null!==n?null==i?VF(e,n,a):Ta(e,n,a,i||null,!0):1===t&&null!==n?Ta(e,n,a,i||null,!0):2===t?function dm(t,e,n){const r=lm(t,e);r&&function VJ(t,e,n,r){t.removeChild(e,n,r)}(t,r,e,n)}(e,a,o):3===t&&e.destroyNode(a),null!=s&&function jJ(t,e,n,r,i){const s=n[Pi];s!==lt(n)&&gl(e,t,r,s,i);for(let a=Dn;a<n.length;a++){const c=n[a];Yd(c[q],c,t,e,r,s)}}(e,t,s,n,i)}}function am(t,e,n){return t.createElement(e,n)}function LF(t,e){const n=t[Zc],r=n.indexOf(e);RL(e),n.splice(r,1)}function cm(t,e){if(t.length<=Dn)return;const n=Dn+e,r=t[n];if(r){const i=r[Nd];null!==i&&i!==t&&LF(i,r),e>0&&(t[n-1][fi]=r[fi]);const s=Jg(t,Dn+e);!function MJ(t,e){Yd(t,e,e[ge],2,null,null),e[kt]=null,e[jn]=null}(r[q],r);const o=s[ki];null!==o&&o.detachView(s[q]),r[It]=null,r[fi]=null,r[ye]&=-129}return r}function RE(t,e){if(!(256&e[ye])){const n=e[ge];e[kd]&&_L(e[kd]),e[Pd]&&_L(e[Pd]),n.destroyNode&&Yd(t,e,n,3,null,null),function kJ(t){let e=t[Md];if(!e)return kE(t[q],t);for(;e;){let n=null;if(Ir(e))n=e[Md];else{const r=e[Dn];r&&(n=r)}if(!n){for(;e&&!e[fi]&&e!==t;)Ir(e)&&kE(e[q],e),e=e[It];null===e&&(e=t),Ir(e)&&kE(e[q],e),n=e&&e[fi]}e=n}}(e)}}function kE(t,e){if(!(256&e[ye])){e[ye]&=-129,e[ye]|=256,function FJ(t,e){let n;if(null!=t&&null!=(n=t.destroyHooks))for(let r=0;r<n.length;r+=2){const i=e[n[r]];if(!(i instanceof Vd)){const s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];Oi(4,a,c);try{c.call(a)}finally{Oi(5,a,c)}}else{Oi(4,i,s);try{s.call(i)}finally{Oi(5,i,s)}}}}}(t,e),function LJ(t,e){const n=t.cleanup,r=e[Yc];if(null!==n)for(let s=0;s<n.length-1;s+=2)if("string"==typeof n[s]){const o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else n[s].call(r[n[s+1]]);null!==r&&(e[Yc]=null);const i=e[uo];if(null!==i){e[uo]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(t,e),1===e[q].type&&e[ge].destroy();const n=e[Nd];if(null!==n&&nr(e[It])){n!==e[It]&&LF(n,e);const r=e[ki];null!==r&&r.detachView(t)}!function wJ(t){DE.delete(t[Rd])}(e)}}function PE(t,e,n){return function FF(t,e,n){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return n[kt];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=t.data[r.directiveStart+i];if(s===di.None||s===di.Emulated)return null}return Er(r,n)}}(t,e.parent,n)}function Ta(t,e,n,r,i){t.insertBefore(e,n,r,i)}function VF(t,e,n){t.appendChild(e,n)}function UF(t,e,n,r,i){null!==r?Ta(t,e,n,r,i):VF(t,e,n)}function lm(t,e){return t.parentNode(e)}function BF(t,e,n){return $F(t,e,n)}let OE,hm,UE,$F=function jF(t,e,n){return 40&t.type?Er(t,n):null};function um(t,e,n,r){const i=PE(t,r,e),s=e[ge],a=BF(r.parent||e[jn],r,e);if(null!=i)if(Array.isArray(n))for(let c=0;c<n.length;c++)UF(s,i,n[c],a,!1);else UF(s,i,n,a,!1);void 0!==OE&&OE(s,r,e,n,i)}function Kd(t,e){if(null!==e){const n=e.type;if(3&n)return Er(e,t);if(4&n)return LE(-1,t[e.index]);if(8&n){const r=e.child;if(null!==r)return Kd(t,r);{const i=t[e.index];return nr(i)?LE(-1,i):lt(i)}}if(32&n)return ME(e,t)()||lt(t[e.index]);{const r=GF(t,e);return null!==r?Array.isArray(r)?r[0]:Kd(qd(t[Ht]),r):Kd(t,e.next)}}return null}function GF(t,e){return null!==e?t[Ht][jn].projection[e.projection]:null}function LE(t,e){const n=Dn+t+1;if(n<e.length){const r=e[n],i=r[q].firstChild;if(null!==i)return Kd(r,i)}return e[Pi]}function FE(t,e,n,r,i,s,o){for(;null!=n;){const a=r[n.index],c=n.type;if(o&&0===e&&(a&&$n(lt(a),r),n.flags|=2),32!=(32&n.flags))if(8&c)FE(t,e,n.child,r,i,s,!1),gl(e,t,i,a,s);else if(32&c){const l=ME(n,r);let u;for(;u=l();)gl(e,t,i,u,s);gl(e,t,i,a,s)}else 16&c?WF(t,e,r,n,i,s):gl(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Yd(t,e,n,r,i,s){FE(n,r,t.firstChild,e,i,s,!1)}function WF(t,e,n,r,i,s){const o=n[Ht],c=o[jn].projection[r.projection];if(Array.isArray(c))for(let l=0;l<c.length;l++)gl(e,t,i,c[l],s);else{let l=c;const u=o[It];im(r)&&(l.flags|=128),FE(t,e,l,u,i,s,!0)}}function qF(t,e,n){""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function KF(t,e,n){const{mergedAttrs:r,classes:i,styles:s}=n;null!==r&&YI(t,e,r),null!==i&&qF(t,e,i),null!==s&&function HJ(t,e,n){t.setAttribute(e,"style",n)}(t,e,s)}function ml(t){return function VE(){if(void 0===hm&&(hm=null,ct.trustedTypes))try{hm=ct.trustedTypes.createPolicy("angular",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return hm}()?.createHTML(t)||t}class Ca{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${UO})`}}class KJ extends Ca{getTypeName(){return"HTML"}}class YJ extends Ca{getTypeName(){return"Style"}}class QJ extends Ca{getTypeName(){return"Script"}}class XJ extends Ca{getTypeName(){return"URL"}}class JJ extends Ca{getTypeName(){return"ResourceURL"}}function Ur(t){return t instanceof Ca?t.changingThisBreaksApplicationSecurity:t}function Vi(t,e){const n=function ZJ(t){return t instanceof Ca&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${UO})`)}return n===e}class sZ{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const n=(new window.DOMParser).parseFromString(ml(e),"text/html").body;return null===n?this.inertDocumentHelper.getInertBodyElement(e):(n.removeChild(n.firstChild),n)}catch{return null}}}class oZ{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const n=this.inertDocument.createElement("template");return n.innerHTML=ml(e),n}}const cZ=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function pm(t){return(t=String(t)).match(cZ)?t:"unsafe:"+t}function Is(t){const e={};for(const n of t.split(","))e[n]=!0;return e}function Qd(...t){const e={};for(const n of t)for(const r in n)n.hasOwnProperty(r)&&(e[r]=!0);return e}const ZF=Is("area,br,col,hr,img,wbr"),e2=Is("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),t2=Is("rp,rt"),jE=Qd(ZF,Qd(e2,Is("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Qd(t2,Is("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Qd(t2,e2)),$E=Is("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),n2=Qd($E,Is("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Is("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),lZ=Is("script,style,template");class uZ{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let n=e.firstChild,r=!0;for(;n;)if(n.nodeType===Node.ELEMENT_NODE?r=this.startElement(n):n.nodeType===Node.TEXT_NODE?this.chars(n.nodeValue):this.sanitizedSomething=!0,r&&n.firstChild)n=n.firstChild;else for(;n;){n.nodeType===Node.ELEMENT_NODE&&this.endElement(n);let i=this.checkClobberedElement(n,n.nextSibling);if(i){n=i;break}n=this.checkClobberedElement(n,n.parentNode)}return this.buf.join("")}startElement(e){const n=e.nodeName.toLowerCase();if(!jE.hasOwnProperty(n))return this.sanitizedSomething=!0,!lZ.hasOwnProperty(n);this.buf.push("<"),this.buf.push(n);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!n2.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;$E[a]&&(c=pm(c)),this.buf.push(" ",o,'="',r2(c),'"')}return this.buf.push(">"),!0}endElement(e){const n=e.nodeName.toLowerCase();jE.hasOwnProperty(n)&&!ZF.hasOwnProperty(n)&&(this.buf.push("</"),this.buf.push(n),this.buf.push(">"))}chars(e){this.buf.push(r2(e))}checkClobberedElement(e,n){if(n&&(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return n}}const dZ=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,hZ=/([^\#-~ |!])/g;function r2(t){return t.replace(/&/g,"&amp;").replace(dZ,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(hZ,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let gm;function i2(t,e){let n=null;try{gm=gm||function JF(t){const e=new oZ(t);return function aZ(){try{return!!(new window.DOMParser).parseFromString(ml(""),"text/html")}catch{return!1}}()?new sZ(e):e}(t);let r=e?String(e):"";n=gm.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=n.innerHTML,n=gm.getInertBodyElement(r)}while(r!==s);return ml((new uZ).sanitizeChildren(HE(n)||n))}finally{if(n){const r=HE(n)||n;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function HE(t){return"content"in t&&function fZ(t){return t.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===t.nodeName}(t)?t.content:null}var xn=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(xn||{});function Xd(t){const e=function Jd(){const t=k();return t&&t[Qc].sanitizer}();return e?e.sanitize(xn.URL,t)||"":Vi(t,"URL")?Ur(t):pm(pe(t))}class V{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.\u0275prov=J({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Zd=new V("ENVIRONMENT_INITIALIZER"),a2=new V("INJECTOR",-1),c2=new V("INJECTOR_DEF_TYPES");class GE{get(e,n=Cd){if(n===Cd){const r=new Error(`NullInjectorError: No provider for ${sn(e)}!`);throw r.name="NullInjectorError",r}return n}}function wZ(...t){return{\u0275providers:u2(0,t),\u0275fromNgModule:!0}}function u2(t,...e){const n=[],r=new Set;let i;const s=o=>{n.push(o)};return dl(e,o=>{const a=o;mm(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&d2(i,s),n}function d2(t,e){for(let n=0;n<t.length;n++){const{ngModule:r,providers:i}=t[n];zE(i,s=>{e(s,r)})}}function mm(t,e,n,r){if(!(t=he(t)))return!1;let i=null,s=Rg(t);const o=!s&&ke(t);if(s||o){if(o&&!o.standalone)return!1;i=t}else{const c=t.ngModule;if(s=Rg(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const l of c)mm(l,e,n,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let l;r.add(i);try{dl(s.imports,u=>{mm(u,e,n,r)&&(l||=[],l.push(u))})}finally{}void 0!==l&&d2(l,e)}if(!a){const l=Ia(i)||(()=>new i);e({provide:i,useFactory:l,deps:Be},i),e({provide:c2,useValue:i,multi:!0},i),e({provide:Zd,useValue:()=>j(i),multi:!0},i)}const c=s.providers;if(null!=c&&!a){const l=t;zE(c,u=>{e(u,l)})}}}return i!==t&&void 0!==t.providers}function zE(t,e){for(let n of t)FI(n)&&(n=n.\u0275providers),Array.isArray(n)?zE(n,e):e(n)}const IZ=Qe({provide:String,useValue:Qe});function WE(t){return null!==t&&"object"==typeof t&&IZ in t}function Da(t){return"function"==typeof t}const qE=new V("Set Injector scope."),_m={},bZ={};let KE;function ym(){return void 0===KE&&(KE=new GE),KE}class Zr{}class vm extends Zr{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,QE(e,o=>this.processProvider(o)),this.records.set(a2,yl(void 0,this)),i.has("environment")&&this.records.set(Zr,yl(void 0,this));const s=this.records.get(qE);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(c2.multi,Be,Ae.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const n of this._ngOnDestroyHooks)n.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const n of e)n()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const n=co(this),r=vr(void 0);try{return e()}finally{co(n),vr(r)}}get(e,n=Cd,r=Ae.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(KO))return e[KO](this);r=Og(r);const s=co(this),o=vr(void 0);try{if(!(r&Ae.SkipSelf)){let c=this.records.get(e);if(void 0===c){const l=function AZ(t){return"function"==typeof t||"object"==typeof t&&t instanceof V}(e)&&Ng(e);c=l&&this.injectableDefInScope(l)?yl(YE(e),_m):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&Ae.Self?ym():this.parent).get(e,n=r&Ae.Optional&&n===Cd?null:n)}catch(a){if("NullInjectorError"===a.name){if((a[Pg]=a[Pg]||[]).unshift(sn(e)),s)throw a;return function wQ(t,e,n,r){const i=t[Pg];throw e[zO]&&i.unshift(e[zO]),t.message=function IQ(t,e,n,r=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let i=sn(e);if(Array.isArray(e))i=e.map(sn).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):sn(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(gQ,"\n  ")}`}("\n"+t.message,i,n,r),t.ngTokenPath=i,t[Pg]=null,t}(a,e,"R3InjectorError",this.source)}throw a}finally{vr(o),co(s)}}resolveInjectorInitializers(){const e=co(this),n=vr(void 0);try{const i=this.get(Zd.multi,Be,Ae.Self);for(const s of i)s()}finally{co(e),vr(n)}}toString(){const e=[],n=this.records;for(const r of n.keys())e.push(sn(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new O(205,!1)}processProvider(e){let n=Da(e=he(e))?e:he(e&&e.provide);const r=function CZ(t){return WE(t)?yl(void 0,t.useValue):yl(p2(t),_m)}(e);if(Da(e)||!0!==e.multi)this.records.get(n);else{let i=this.records.get(n);i||(i=yl(void 0,_m,!0),i.factory=()=>WI(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){return n.value===_m&&(n.value=bZ,n.value=n.factory()),"object"==typeof n.value&&n.value&&function SZ(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}injectableDefInScope(e){if(!e.providedIn)return!1;const n=he(e.providedIn);return"string"==typeof n?"any"===n||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){const n=this._onDestroyHooks.indexOf(e);-1!==n&&this._onDestroyHooks.splice(n,1)}}function YE(t){const e=Ng(t),n=null!==e?e.factory:Ia(t);if(null!==n)return n;if(t instanceof V)throw new O(204,!1);if(t instanceof Function)return function TZ(t){const e=t.length;if(e>0)throw Hd(e,"?"),new O(204,!1);const n=function dQ(t){return t&&(t[kg]||t[jO])||null}(t);return null!==n?()=>n.factory(t):()=>new t}(t);throw new O(204,!1)}function p2(t,e,n){let r;if(Da(t)){const i=he(t);return Ia(i)||YE(i)}if(WE(t))r=()=>he(t.useValue);else if(function f2(t){return!(!t||!t.useFactory)}(t))r=()=>t.useFactory(...WI(t.deps||[]));else if(function h2(t){return!(!t||!t.useExisting)}(t))r=()=>j(he(t.useExisting));else{const i=he(t&&(t.useClass||t.provide));if(!function DZ(t){return!!t.deps}(t))return Ia(i)||YE(i);r=()=>new i(...WI(t.deps))}return r}function yl(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function QE(t,e){for(const n of t)Array.isArray(n)?QE(n,e):n&&FI(n)?QE(n.\u0275providers,e):e(n)}const wm=new V("AppId",{providedIn:"root",factory:()=>xZ}),xZ="ng",g2=new V("Platform Initializer"),Es=new V("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),XE=new V("CSP nonce",{providedIn:"root",factory:()=>function _l(){if(void 0!==UE)return UE;if(typeof document<"u")return document;throw new O(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let _2=(t,e,n)=>null;function sb(t,e,n=!1){return _2(t,e,n)}class UZ{}class w2{}class jZ{resolveComponentFactory(e){throw function BZ(t){const e=Error(`No component factory found for ${sn(t)}.`);return e.ngComponent=t,e}(e)}}let Dm=(()=>{class e{}return e.NULL=new jZ,e})();function $Z(){return Il(An(),k())}function Il(t,e){return new pn(Er(t,e))}let pn=(()=>{class e{constructor(r){this.nativeElement=r}}return e.__NG_ELEMENT_ID__=$Z,e})();function HZ(t){return t instanceof pn?t.nativeElement:t}class E2{}let bs=(()=>{class e{constructor(){this.destroyNode=null}}return e.__NG_ELEMENT_ID__=()=>function GZ(){const t=k(),n=Fr(An().index,t);return(Ir(n)?n:t)[ge]}(),e})(),zZ=(()=>{var t;class e{}return(t=e).\u0275prov=J({token:t,providedIn:"root",factory:()=>null}),e})();class mo{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const b2=new mo("16.2.6"),cb={};function S2(t,e=null,n=null,r){const i=A2(t,e,n,r);return i.resolveInjectorInitializers(),i}function A2(t,e=null,n=null,r,i=new Set){const s=[n||Be,wZ(t)];return r=r||("object"==typeof t?void 0:sn(t)),new vm(s,e||ym(),r||null,i)}let gn=(()=>{var t;class e{static create(r,i){if(Array.isArray(r))return S2({name:""},i,r,"");{const s=r.name??"";return S2({name:s},r.parent,r.providers,s)}}}return(t=e).THROW_IF_NOT_FOUND=Cd,t.NULL=new GE,t.\u0275prov=J({token:t,providedIn:"any",factory:()=>j(a2)}),t.__NG_ELEMENT_ID__=-1,e})();function ub(t){return t.ngOriginalError}class ei{constructor(){this._console=console}handleError(e){const n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&ub(e);for(;n&&ub(n);)n=ub(n);return n||null}}function hb(t){return e=>{setTimeout(t,void 0,e)}}const nt=class JZ extends F{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=hb(s),i&&(i=hb(i)),o&&(o=hb(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof rn&&e.add(a),a}};function M2(...t){}class Ne{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:n=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new nt(!1),this.onMicrotaskEmpty=new nt(!1),this.onStable=new nt(!1),this.onError=new nt(!1),typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&n,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function ZZ(){const t="function"==typeof ct.requestAnimationFrame;let e=ct[t?"requestAnimationFrame":"setTimeout"],n=ct[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&n){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=n[Zone.__symbol__("OriginalDelegate")];i&&(n=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:n}}().nativeRequestAnimationFrame,function nee(t){const e=()=>{!function tee(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(ct,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,pb(t),t.isCheckStableRunning=!0,fb(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),pb(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(n,r,i,s,o,a)=>{if(function iee(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return n.invokeTask(i,s,o,a);try{return N2(t),n.invokeTask(i,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&e(),R2(t)}},onInvoke:(n,r,i,s,o,a,c)=>{try{return N2(t),n.invoke(i,s,o,a,c)}finally{t.shouldCoalesceRunChangeDetection&&e(),R2(t)}},onHasTask:(n,r,i,s)=>{n.hasTask(i,s),r===i&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,pb(t),fb(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(n,r,i,s)=>(n.handleError(i,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Ne.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(Ne.isInAngularZone())throw new O(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,eee,M2,M2);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}}const eee={};function fb(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function pb(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function N2(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function R2(t){t._nesting--,fb(t)}class ree{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new nt,this.onMicrotaskEmpty=new nt,this.onStable=new nt,this.onError=new nt}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}}const k2=new V("",{providedIn:"root",factory:P2});function P2(){const t=K(Ne);let e=!0;return function nQ(...t){const e=Td(t),n=function YY(t,e){return"number"==typeof RI(t)?t.pop():e}(t,1/0),r=t;return r.length?1===r.length?er(r[0]):Wc(n)(hn(r,e)):Mi}(new m(i=>{e=t.isStable&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks,t.runOutsideAngular(()=>{i.next(e),i.complete()})}),new m(i=>{let s;t.runOutsideAngular(()=>{s=t.onStable.subscribe(()=>{Ne.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!t.hasPendingMacrotasks&&!t.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=t.onUnstable.subscribe(()=>{Ne.assertInAngularZone(),e&&(e=!1,t.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(kI()))}function Ts(t){return t instanceof Function?t():t}let gb=(()=>{var t;class e{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}}return(t=e).\u0275prov=J({token:t,providedIn:"root",factory:()=>new t}),e})();function nh(t){for(;t;){t[ye]|=64;const e=qd(t);if(JI(t)&&!e)return t;t=e}return null}const U2=new V("",{providedIn:"root",factory:()=>!1});let Am=null;function H2(t,e){return t[e]??W2()}function G2(t,e){const n=W2();n.producerNode?.length&&(t[e]=Am,n.lView=t,Am=z2())}const pee={...dL,consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{nh(t.lView)},lView:null};function z2(){return Object.create(pee)}function W2(){return Am??=z2(),Am}const _e={};function gt(t){q2(Pe(),k(),ir()+t,!1)}function q2(t,e,n,r){if(!r)if(3==(3&e[ye])){const s=t.preOrderCheckHooks;null!==s&&Wg(e,s,n)}else{const s=t.preOrderHooks;null!==s&&qg(e,s,0,n)}Ea(n)}function M(t,e=Ae.Default){const n=k();return null===n?j(t,e):sF(An(),n,he(t),e)}function xm(t,e,n,r,i,s,o,a,c,l,u){const d=e.blueprint.slice();return d[kt]=i,d[ye]=140|r,(null!==l||t&&2048&t[ye])&&(d[ye]|=2048),NL(d),d[It]=d[Xc]=t,d[$t]=n,d[Qc]=o||t&&t[Qc],d[ge]=a||t&&t[ge],d[lo]=c||t&&t[lo]||null,d[jn]=s,d[Rd]=function yJ(){return _J++}(),d[ys]=u,d[aL]=l,d[Ht]=2==e.type?t[Ht]:d,d}function Tl(t,e,n,r,i){let s=t.data[e];if(null===s)s=function _b(t,e,n,r,i){const s=UL(),o=oE(),c=t.data[e]=function Eee(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return nl()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,n,e,r,i);return null===t.firstChild&&(t.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(t,e,n,r,i),function yX(){return de.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=n,s.value=r,s.attrs=i;const o=function Fd(){const t=de.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Li(s,!0),s}function rh(t,e,n,r){if(0===n)return-1;const i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function K2(t,e,n,r,i){const s=H2(e,kd),o=ir(),a=2&r;try{Ea(-1),a&&e.length>xe&&q2(t,e,xe,!1),Oi(a?2:0,i);const l=a?s:null,u=eE(l);try{null!==l&&(l.dirty=!1),n(r,i)}finally{tE(l,u)}}finally{a&&null===e[kd]&&G2(e,kd),Ea(o),Oi(a?3:1,i)}}function yb(t,e,n){if(XI(e)){const r=Qr(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,n[o],o)}}finally{Qr(r)}}}function vb(t,e,n){LL()&&(function xee(t,e,n,r){const i=n.directiveStart,s=n.directiveEnd;wa(n)&&function Lee(t,e,n){const r=Er(e,t),i=Y2(n);let o=16;n.signals?o=4096:n.onPush&&(o=64);const a=Mm(t,xm(t,i,null,o,r,e,null,t[Qc].rendererFactory.createRenderer(r,n),null,null,null));t[e.index]=a}(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Yg(n,e),$n(r,e);const o=n.initialInputs;for(let a=i;a<s;a++){const c=t.data[a],l=ba(e,t,a,n);$n(l,e),null!==o&&Fee(0,a-i,l,c,0,o),pi(c)&&(Fr(n.index,e)[$t]=ba(e,t,a,n))}}(t,e,n,Er(n,e)),64==(64&n.flags)&&eV(t,e,n))}function wb(t,e,n=Er){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?n(e,t):t[o];t[i++]=a}}}function Y2(t){const e=t.tView;return null===e||e.incompleteFirstPass?t.tView=Ib(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ib(t,e,n,r,i,s,o,a,c,l,u){const d=xe+r,f=d+i,g=function mee(t,e){const n=[];for(let r=0;r<e;r++)n.push(r<t?null:_e);return n}(d,f),_="function"==typeof l?l():l;return g[q]={type:t,blueprint:g,template:n,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,d),bindingStartIndex:d,expandoStartIndex:f,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:_,incompleteFirstPass:!1,ssrId:u}}let Q2=t=>null;function X2(t,e,n,r){for(let i in t)if(t.hasOwnProperty(i)){n=null===n?{}:n;const s=t[i];null===r?J2(n,e,i,s):r.hasOwnProperty(i)&&J2(n,e,r[i],s)}return n}function J2(t,e,n,r){t.hasOwnProperty(n)?t[n].push(e,r):t[n]=[e,r]}function Br(t,e,n,r,i,s,o,a){const c=Er(e,n);let u,l=e.inputs;!a&&null!=l&&(u=l[r])?(Db(t,n,u,r,i),wa(e)&&function Cee(t,e){const n=Fr(e,t);16&n[ye]||(n[ye]|=64)}(n,e.index)):3&e.type&&(r=function Tee(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}function Eb(t,e,n,r){if(LL()){const i=null===r?null:{"":-1},s=function Nee(t,e){const n=t.directiveRegistry;let r=null,i=null;if(n)for(let s=0;s<n.length;s++){const o=n[s];if(tL(e,o.selectors,!1))if(r||(r=[]),pi(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),bb(t,e,a.length)}else r.unshift(o),bb(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(t,n);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&Z2(t,e,n,o,i,a),i&&function Ree(t,e,n){if(e){const r=t.localNames=[];for(let i=0;i<e.length;i+=2){const s=n[e[i+1]];if(null==s)throw new O(-301,!1);r.push(e[i],s)}}}(n,r,i)}n.mergedAttrs=Ad(n.mergedAttrs,n.attrs)}function Z2(t,e,n,r,i,s){for(let l=0;l<r.length;l++)yE(Yg(n,e),t,r[l].type);!function Pee(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}(n,t.data.length,r.length);for(let l=0;l<r.length;l++){const u=r[l];u.providersResolver&&u.providersResolver(u)}let o=!1,a=!1,c=rh(t,e,r.length,null);for(let l=0;l<r.length;l++){const u=r[l];n.mergedAttrs=Ad(n.mergedAttrs,u.hostAttrs),Oee(t,n,e,c,u),kee(c,u,i),null!==u.contentQueries&&(n.flags|=4),(null!==u.hostBindings||null!==u.hostAttrs||0!==u.hostVars)&&(n.flags|=64);const d=u.type.prototype;!o&&(d.ngOnChanges||d.ngOnInit||d.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(d.ngOnChanges||d.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),c++}!function bee(t,e,n){const i=e.directiveEnd,s=t.data,o=e.attrs,a=[];let c=null,l=null;for(let u=e.directiveStart;u<i;u++){const d=s[u],f=n?n.get(d):null,_=f?f.outputs:null;c=X2(d.inputs,u,c,f?f.inputs:null),l=X2(d.outputs,u,l,_);const w=null===c||null===o||eL(e)?null:Vee(c,u,o);a.push(w)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=l}(t,n,s)}function eV(t,e,n){const r=n.directiveStart,i=n.directiveEnd,s=n.index,o=function wX(){return de.lFrame.currentDirectiveIndex}();try{Ea(s);for(let a=r;a<i;a++){const c=t.data[a],l=e[a];cE(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Mee(c,l)}}finally{Ea(-1),cE(o)}}function Mee(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function bb(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function kee(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;pi(e)&&(n[""]=t)}}function Oee(t,e,n,r,i){t.data[r]=i;const s=i.factory||(i.factory=Ia(i.type)),o=new Vd(s,pi(i),M);t.blueprint[r]=o,n[r]=o,function See(t,e,n,r,i){const s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~e.index;(function Aee(t){let e=t.length;for(;e>0;){const n=t[--e];if("number"==typeof n&&n<0)return n}return 0})(o)!=a&&o.push(a),o.push(n,r,s)}}(t,e,r,rh(t,n,i.hostVars,_e),i)}function Ui(t,e,n,r,i,s){const o=Er(t,e);!function Tb(t,e,n,r,i,s,o){if(null==s)t.removeAttribute(e,i,n);else{const a=null==o?pe(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}(e[ge],o,s,t.value,n,r,i)}function Fee(t,e,n,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)tV(r,n,o[a++],o[a++],o[a++])}function tV(t,e,n,r,i){const s=Qr(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==t.setInput?t.setInput(e,i,n,r):e[r]=i}finally{Qr(s)}}function Vee(t,e,n){let r=null,i=0;for(;i<n.length;){const s=n[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===r&&(r=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],n[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function nV(t,e,n,r){return[t,!0,!1,e,null,0,r,n,null,null,null]}function rV(t,e){const n=t.contentQueries;if(null!==n)for(let r=0;r<n.length;r+=2){const s=n[r+1];if(-1!==s){const o=t.data[s];uE(n[r]),o.contentQueries(2,e[s],s)}}}function Mm(t,e){return t[Md]?t[oL][fi]=e:t[Md]=e,t[oL]=e,e}function Cb(t,e,n){uE(0);const r=Qr(null);try{e(t,n)}finally{Qr(r)}}function iV(t){return t[Yc]||(t[Yc]=[])}function sV(t){return t.cleanup||(t.cleanup=[])}function aV(t,e){const n=t[lo],r=n?n.get(ei,null):null;r&&r.handleError(e)}function Db(t,e,n,r,i){for(let s=0;s<n.length;){const o=n[s++],a=n[s++];tV(t.data[o],e[o],r,a,i)}}function Uee(t,e){const n=Fr(e,t),r=n[q];!function Bee(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n);const i=n[kt];null!==i&&null===n[ys]&&(n[ys]=sb(i,n[lo])),Sb(r,n,n[$t])}function Sb(t,e,n){dE(e);try{const r=t.viewQuery;null!==r&&Cb(1,r,n);const i=t.template;null!==i&&K2(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&rV(t,e),t.staticViewQueries&&Cb(2,t.viewQuery,n);const s=t.components;null!==s&&function jee(t,e){for(let n=0;n<e.length;n++)Uee(t,e[n])}(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[ye]&=-5,hE()}}let cV=(()=>{var t;class e{constructor(){this.all=new Set,this.queue=new Map}create(r,i,s){const o=typeof Zone>"u"?null:Zone.current,a=function QQ(t,e,n){const r=Object.create(XQ);n&&(r.consumerAllowSignalWrites=!0),r.fn=t,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>gL(r),run:()=>{if(r.dirty=!1,r.hasRun&&!mL(r))return;r.hasRun=!0;const o=eE(r);try{r.cleanupFn(),r.cleanupFn=TL,r.fn(i)}finally{tE(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(r,u=>{this.all.has(u)&&this.queue.set(u,o)},s);let c;this.all.add(a),a.notify();const l=()=>{a.cleanup(),c?.(),this.all.delete(a),this.queue.delete(a)};return c=i?.onDestroy(l),{destroy:l}}flush(){if(0!==this.queue.size)for(const[r,i]of this.queue)this.queue.delete(r),i?i.run(()=>r.run()):r.run()}get isQueueEmpty(){return 0===this.queue.size}}return(t=e).\u0275prov=J({token:t,providedIn:"root",factory:()=>new t}),e})();function Nm(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=OI(i,a):2==s&&(r=OI(r,a+": "+e[++o]+";"))}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}function ih(t,e,n,r,i=!1){for(;null!==n;){const s=e[n.index];null!==s&&r.push(lt(s)),nr(s)&&lV(s,r);const o=n.type;if(8&o)ih(t,e,n.child,r);else if(32&o){const a=ME(n,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=GF(e,n);if(Array.isArray(a))r.push(...a);else{const c=qd(e[Ht]);ih(c[q],c,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function lV(t,e){for(let n=Dn;n<t.length;n++){const r=t[n],i=r[q].firstChild;null!==i&&ih(r[q],r,i,e)}t[Pi]!==t[kt]&&e.push(t[Pi])}function Rm(t,e,n,r=!0){const i=e[Qc],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{uV(t,e,t.template,n)}catch(c){throw r&&aV(e,c),c}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function uV(t,e,n,r){const i=e[ye];if(256!=(256&i)){e[Qc].effectManager?.flush(),dE(e);try{NL(e),function jL(t){return de.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==n&&K2(t,e,n,2,r);const o=3==(3&i);if(o){const l=t.preOrderCheckHooks;null!==l&&Wg(e,l,null)}else{const l=t.preOrderHooks;null!==l&&qg(e,l,0,null),fE(e,0)}if(function Gee(t){for(let e=RF(t);null!==e;e=kF(e)){if(!e[cL])continue;const n=e[Zc];for(let r=0;r<n.length;r++){aX(n[r])}}}(e),dV(e,2),null!==t.contentQueries&&rV(t,e),o){const l=t.contentCheckHooks;null!==l&&Wg(e,l)}else{const l=t.contentHooks;null!==l&&qg(e,l,1),fE(e,1)}!function gee(t,e){const n=t.hostBindingOpCodes;if(null===n)return;const r=H2(e,Pd);try{for(let i=0;i<n.length;i++){const s=n[i];if(s<0)Ea(~s);else{const o=s,a=n[++i],c=n[++i];vX(a,o),r.dirty=!1;const l=eE(r);try{c(2,e[o])}finally{tE(r,l)}}}}finally{null===e[Pd]&&G2(e,Pd),Ea(-1)}}(t,e);const a=t.components;null!==a&&fV(e,a,0);const c=t.viewQuery;if(null!==c&&Cb(2,c,r),o){const l=t.viewCheckHooks;null!==l&&Wg(e,l)}else{const l=t.viewHooks;null!==l&&qg(e,l,2),fE(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),e[ye]&=-73,RL(e)}finally{hE()}}}function dV(t,e){for(let n=RF(t);null!==n;n=kF(n))for(let r=Dn;r<n.length;r++)hV(n[r],e)}function zee(t,e,n){hV(Fr(e,t),n)}function hV(t,e){if(!function sX(t){return 128==(128&t[ye])}(t))return;const n=t[q],r=t[ye];if(80&r&&0===e||1024&r||2===e)uV(n,t,n.template,t[$t]);else if(t[xd]>0){dV(t,1);const i=n.components;null!==i&&fV(t,i,1)}}function fV(t,e,n){for(let r=0;r<e.length;r++)zee(t,e[r],n)}class sh{get rootNodes(){const e=this._lView,n=e[q];return ih(n,e,n.firstChild,[])}constructor(e,n){this._lView=e,this._cdRefInjectingView=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[$t]}set context(e){this._lView[$t]=e}get destroyed(){return 256==(256&this._lView[ye])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[It];if(nr(e)){const n=e[8],r=n?n.indexOf(this):-1;r>-1&&(cm(e,r),Jg(n,r))}this._attachedToViewContainer=!1}RE(this._lView[q],this._lView)}onDestroy(e){!function PL(t,e){if(256==(256&t[ye]))throw new O(911,!1);null===t[uo]&&(t[uo]=[]),t[uo].push(e)}(this._lView,e)}markForCheck(){nh(this._cdRefInjectingView||this._lView)}detach(){this._lView[ye]&=-129}reattach(){this._lView[ye]|=128}detectChanges(){Rm(this._lView[q],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function RJ(t,e){Yd(t,e,e[ge],2,null,null)}(this._lView[q],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=e}}class Wee extends sh{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Rm(e[q],e,e[$t],!1)}checkNoChanges(){}get context(){return null}}class pV extends Dm{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const n=ke(e);return new oh(n,this.ngModule)}}function gV(t){const e=[];for(let n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}class Kee{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Og(r);const i=this.injector.get(e,cb,r);return i!==cb||n===cb?i:this.parentInjector.get(e,n,r)}}class oh extends w2{get inputs(){const e=this.componentDef,n=e.inputTransforms,r=gV(e.inputs);if(null!==n)for(const i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return gV(this.componentDef.outputs)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=function NQ(t){return t.map(MQ).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=(i=i||this.ngModule)instanceof Zr?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new Kee(e,s):e,a=o.get(E2,null);if(null===a)throw new O(407,!1);const d={rendererFactory:a,sanitizer:o.get(zZ,null),effectManager:o.get(cV,null),afterRenderEventManager:o.get(gb,null)},f=a.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",_=r?function _ee(t,e,n,r){const s=r.get(U2,!1)||n===di.ShadowDom,o=t.selectRootElement(e,s);return function yee(t){Q2(t)}(o),o}(f,r,this.componentDef.encapsulation,o):am(f,g,function qee(t){const e=t.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(g)),T=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let E=null;null!==_&&(E=sb(_,o,!0));const N=Ib(0,null,null,1,0,null,null,null,null,null,null),H=xm(null,N,null,T,null,null,d,f,o,null,E);let X,ce;dE(H);try{const Ue=this.componentDef;let un,mr=null;Ue.findHostDirectiveDefs?(un=[],mr=new Map,Ue.findHostDirectiveDefs(Ue,un,mr),un.push(Ue)):un=[Ue];const Tg=function Qee(t,e){const n=t[q],r=xe;return t[r]=e,Tl(n,r,2,"#host",null)}(H,_),Ake=function Xee(t,e,n,r,i,s,o){const a=i[q];!function Jee(t,e,n,r){for(const i of t)e.mergedAttrs=Ad(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(Nm(e,e.mergedAttrs,!0),null!==n&&KF(r,n,e))}(r,t,e,o);let c=null;null!==e&&(c=sb(e,i[lo]));const l=s.rendererFactory.createRenderer(e,n);let u=16;n.signals?u=4096:n.onPush&&(u=64);const d=xm(i,Y2(n),null,u,i[t.index],t,s,l,null,null,c);return a.firstCreatePass&&bb(a,t,r.length-1),Mm(i,d),i[t.index]=d}(Tg,_,Ue,un,H,d,f);ce=ML(N,xe),_&&function ete(t,e,n,r){if(r)YI(t,n,["ng-version",b2.full]);else{const{attrs:i,classes:s}=function RQ(t){const e=[],n=[];let r=1,i=2;for(;r<t.length;){let s=t[r];if("string"==typeof s)2===i?""!==s&&e.push(s,t[++r]):8===i&&n.push(s);else{if(!hi(i))break;i=s}r++}return{attrs:e,classes:n}}(e.selectors[0]);i&&YI(t,n,i),s&&s.length>0&&qF(t,n,s.join(" "))}}(f,Ue,_,r),void 0!==n&&function tte(t,e,n){const r=t.projection=[];for(let i=0;i<e.length;i++){const s=n[i];r.push(null!=s?Array.from(s):null)}}(ce,this.ngContentSelectors,n),X=function Zee(t,e,n,r,i,s){const o=An(),a=i[q],c=Er(o,i);Z2(a,i,o,n,null,r);for(let u=0;u<n.length;u++)$n(ba(i,a,o.directiveStart+u,o),i);eV(a,i,o),c&&$n(c,i);const l=ba(i,a,o.directiveStart+o.componentOffset,o);if(t[$t]=i[$t]=l,null!==s)for(const u of s)u(l,e);return yb(a,o,t),l}(Ake,Ue,un,mr,H,[nte]),Sb(N,H,null)}finally{hE()}return new Yee(this.componentType,X,Il(ce,H),H,ce)}}class Yee extends UZ{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Wee(i),this.componentType=e}setInput(e,n){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;const s=this._rootLView;Db(s[q],s,i,e,n),this.previousInputValues.set(e,n),nh(Fr(this._tNode.index,s))}}get injector(){return new sr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function nte(){const t=An();zg(k()[q],t)}function Ve(t){let e=function mV(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),n=!0;const r=[t];for(;e;){let i;if(pi(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new O(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);const o=t;o.inputs=km(t.inputs),o.inputTransforms=km(t.inputTransforms),o.declaredInputs=km(t.declaredInputs),o.outputs=km(t.outputs);const a=i.hostBindings;a&&ote(t,a);const c=i.viewQuery,l=i.contentQueries;if(c&&ite(t,c),l&&ste(t,l),xg(t.inputs,i.inputs),xg(t.declaredInputs,i.declaredInputs),xg(t.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),xg(o.inputTransforms,i.inputTransforms)),pi(i)&&i.data.animation){const u=t.data;u.animation=(u.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===Ve&&(n=!1)}}e=Object.getPrototypeOf(e)}!function rte(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){const i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Ad(i.hostAttrs,n=Ad(n,i.hostAttrs))}}(r)}function km(t){return t===Ri?{}:t===Be?[]:t}function ite(t,e){const n=t.viewQuery;t.viewQuery=n?(r,i)=>{e(r,i),n(r,i)}:e}function ste(t,e){const n=t.contentQueries;t.contentQueries=n?(r,i,s)=>{e(r,i,s),n(r,i,s)}:e}function ote(t,e){const n=t.hostBindings;t.hostBindings=n?(r,i)=>{e(r,i),n(r,i)}:e}function Pm(t){return!!Ab(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function Ab(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Hn(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function Tr(t,e,n,r){const i=k();return Hn(i,rl(),e)&&(Pe(),Ui(Ct(),i,t,e,n,r)),Tr}function Dl(t,e,n,r){return Hn(t,rl(),n)?e+pe(n)+r:_e}function Um(t,e,n,r,i,s,o,a){const c=k(),l=Pe(),u=t+xe,d=l.firstCreatePass?function Nte(t,e,n,r,i,s,o,a,c){const l=e.consts,u=Tl(e,t,4,o||null,fo(l,a));Eb(e,n,u,fo(l,c)),zg(e,u);const d=u.tView=Ib(2,u,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return null!==e.queries&&(e.queries.template(e,u),d.queries=e.queries.embeddedTView(u)),u}(u,l,c,e,n,r,i,s,o):l.data[u];Li(d,!1);const f=kV(l,c,d,t);Gg()&&um(l,c,f,d),$n(f,c),Mm(c,c[u]=nV(f,c,f,d)),Bg(d)&&vb(l,c,d),null!=o&&wb(c,d,a)}let kV=function PV(t,e,n,r){return po(!0),e[ge].createComment("")};function Gn(t,e,n){const r=k();return Hn(r,rl(),e)&&Br(Pe(),Ct(),r,t,e,r[ge],n,!1),Gn}function Pb(t,e,n,r,i){const o=i?"class":"style";Db(t,n,e.inputs[o],o,r)}function Y(t,e,n,r){const i=k(),s=Pe(),o=xe+t,a=i[ge],c=s.firstCreatePass?function Ote(t,e,n,r,i,s){const o=e.consts,c=Tl(e,t,2,r,fo(o,i));return Eb(e,n,c,fo(o,s)),null!==c.attrs&&Nm(c,c.attrs,!1),null!==c.mergedAttrs&&Nm(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,n,r):s.data[o],l=LV(s,i,c,a,e,t);i[o]=l;const u=Bg(c);return Li(c,!0),KF(a,l,c),32!=(32&c.flags)&&Gg()&&um(s,i,l,c),0===function lX(){return de.lFrame.elementDepthCount}()&&$n(l,i),function uX(){de.lFrame.elementDepthCount++}(),u&&(vb(s,i,c),yb(s,c,i)),null!==r&&wb(i,c),Y}function oe(){let t=An();oE()?aE():(t=t.parent,Li(t,!1));const e=t;(function hX(t){return de.skipHydrationRootTNode===t})(e)&&function mX(){de.skipHydrationRootTNode=null}(),function dX(){de.lFrame.elementDepthCount--}();const n=Pe();return n.firstCreatePass&&(zg(n,t),XI(t)&&n.queries.elementEnd(t)),null!=e.classesWithoutHost&&function MX(t){return 0!=(8&t.flags)}(e)&&Pb(n,e,k(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function NX(t){return 0!=(16&t.flags)}(e)&&Pb(n,e,k(),e.stylesWithoutHost,!1),oe}function be(t,e,n,r){return Y(t,e,n,r),oe(),be}let LV=(t,e,n,r,i,s)=>(po(!0),am(r,i,function QL(){return de.lFrame.currentNamespace}()));function dh(t){return!!t&&"function"==typeof t.then}function BV(t){return!!t&&"function"==typeof t.subscribe}function rt(t,e,n,r){const i=k(),s=Pe(),o=An();return function $V(t,e,n,r,i,s,o){const a=Bg(r),l=t.firstCreatePass&&sV(t),u=e[$t],d=iV(e);let f=!0;if(3&r.type||o){const w=Er(r,e),I=o?o(w):w,T=d.length,E=o?H=>o(lt(H[r.index])):r.index;let N=null;if(!o&&a&&(N=function jte(t,e,n,r){const i=t.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===n&&i[s+1]===r){const a=e[Yc],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(t,e,i,r.index)),null!==N)(N.__ngLastListenerFn__||N).__ngNextListenerFn__=s,N.__ngLastListenerFn__=s,f=!1;else{s=GV(r,e,u,s,!1);const H=n.listen(I,i,s);d.push(s,H),l&&l.push(i,E,T,T+1)}}else s=GV(r,e,u,s,!1);const g=r.outputs;let _;if(f&&null!==g&&(_=g[i])){const w=_.length;if(w)for(let I=0;I<w;I+=2){const X=e[_[I]][_[I+1]].subscribe(s),ce=d.length;d.push(s,X),l&&l.push(i,r.index,ce,-(ce+1))}}}(s,i,i[ge],o,t,e,r),rt}function HV(t,e,n,r){try{return Oi(6,e,n),!1!==n(r)}catch(i){return aV(t,i),!1}finally{Oi(7,e,n)}}function GV(t,e,n,r,i){return function s(o){if(o===Function)return r;nh(t.componentOffset>-1?Fr(t.index,e):e);let c=HV(e,n,r,o),l=s.__ngNextListenerFn__;for(;l;)c=HV(e,n,l,o)&&c,l=l.__ngNextListenerFn__;return i&&!1===c&&o.preventDefault(),c}}function Bm(t=1){return function EX(t){return(de.lFrame.contextLView=function bX(t,e){for(;t>0;)e=e[Xc],t--;return e}(t,de.lFrame.contextLView))[$t]}(t)}function $te(t,e){let n=null;const r=function DQ(t){const e=t.attrs;if(null!=e){const n=e.indexOf(5);if(!(1&n))return e[n+1]}return null}(t);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?tL(t,s,!0):xQ(r,s))return i}else n=i}return n}function jm(t){const e=k()[Ht][jn];if(!e.projection){const r=e.projection=Hd(t?t.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=t?$te(s,t):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function $m(t,e=0,n){const r=k(),i=Pe(),s=Tl(i,xe+t,16,null,n||null);null===s.projection&&(s.projection=e),aE(),(!r[ys]||nl())&&32!=(32&s.flags)&&function BJ(t,e,n){WF(e[ge],0,e,n,PE(t,n,e),BF(n.parent||e[jn],n,e))}(i,r,s)}function Pl(t,e,n){return Fb(t,"",e,"",n),Pl}function Fb(t,e,n,r,i){const s=k(),o=Dl(s,e,n,r);return o!==_e&&Br(Pe(),Ct(),s,t,o,s[ge],i,!1),Fb}function Hm(t,e){return t<<17|e<<2}function _o(t){return t>>17&32767}function Vb(t){return 2|t}function Aa(t){return(131068&t)>>2}function Ub(t,e){return-131069&t|e<<2}function Bb(t){return 1|t}function ZV(t,e,n,r,i){const s=t[n+1],o=null===e;let a=r?_o(s):Aa(s),c=!1;for(;0!==a&&(!1===c||o);){const u=t[a+1];Kte(t[a],e)&&(c=!0,t[a+1]=r?Bb(u):Vb(u)),a=r?_o(u):Aa(u)}c&&(t[n+1]=r?Vb(s):Bb(s))}function Kte(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&hl(t,e)>=0}function or(t,e){return function gi(t,e,n,r){const i=k(),s=Pe(),o=function ws(t){const e=de.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}(2);s.firstUpdatePass&&function cU(t,e,n,r){const i=t.data;if(null===i[n+1]){const s=i[ir()],o=function aU(t,e){return e>=t.expandoStartIndex}(t,n);(function hU(t,e){return 0!=(t.flags&(e?8:16))})(s,r)&&null===e&&!o&&(e=!1),e=function rne(t,e,n,r){const i=function lE(t){const e=de.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=hh(n=jb(null,t,e,n,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||t[o]!==i)if(n=jb(i,t,e,n,r),null===s){let c=function ine(t,e,n){const r=n?e.classBindings:e.styleBindings;if(0!==Aa(r))return t[_o(r)]}(t,e,r);void 0!==c&&Array.isArray(c)&&(c=jb(null,t,e,c[1],r),c=hh(c,e.attrs,r),function sne(t,e,n,r){t[_o(n?e.classBindings:e.styleBindings)]=r}(t,e,r,c))}else s=function one(t,e,n){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=hh(r,t[s].hostAttrs,n);return hh(r,e.attrs,n)}(t,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),n}(i,s,e,r),function Wte(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=_o(o),c=Aa(o);t[r]=n;let u,l=!1;if(Array.isArray(n)?(u=n[1],(null===u||hl(n,u)>0)&&(l=!0)):u=n,i)if(0!==c){const f=_o(t[a+1]);t[r+1]=Hm(f,a),0!==f&&(t[f+1]=Ub(t[f+1],r)),t[a+1]=function Gte(t,e){return 131071&t|e<<17}(t[a+1],r)}else t[r+1]=Hm(a,0),0!==a&&(t[a+1]=Ub(t[a+1],r)),a=r;else t[r+1]=Hm(c,0),0===a?a=r:t[c+1]=Ub(t[c+1],r),c=r;l&&(t[r+1]=Vb(t[r+1])),ZV(t,u,r,!0),ZV(t,u,r,!1),function qte(t,e,n,r,i){const s=i?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof e&&hl(s,e)>=0&&(n[r+1]=Bb(n[r+1]))}(e,u,t,r,s),o=Hm(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,n,o,r)}}(s,t,o,r),e!==_e&&Hn(i,o,e)&&function uU(t,e,n,r,i,s,o,a){if(!(3&e.type))return;const c=t.data,l=c[a+1],u=function zte(t){return 1==(1&t)}(l)?dU(c,e,n,i,Aa(l),o):void 0;Gm(u)||(Gm(s)||function Hte(t){return 2==(2&t)}(l)&&(s=dU(c,null,n,i,a,o)),function $J(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=-1===r.indexOf("-")?void 0:go.DashCase;null==i?t.removeStyle(n,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=go.Important),t.setStyle(n,r,i,s))}}(r,o,Hg(ir(),n),i,s))}(s,s.data[ir()],i,i[ge],t,i[o+1]=function une(t,e){return null==t||""===t||("string"==typeof e?t+=e:"object"==typeof t&&(t=sn(Ur(t)))),t}(e,n),r,o)}(t,e,null,!0),or}function jb(t,e,n,r,i){let s=null;const o=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<o&&(s=e[a],r=hh(r,s.hostAttrs,i),s!==t);)a++;return null!==t&&(n.directiveStylingLast=a),r}function hh(t,e,n){const r=n?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),Vr(t,o,!!n||e[++s]))}return void 0===t?null:t}function dU(t,e,n,r,i,s){const o=null===e;let a;for(;i>0;){const c=t[i],l=Array.isArray(c),u=l?c[1]:c,d=null===u;let f=n[i+1];f===_e&&(f=d?Be:void 0);let g=d?IE(f,r):u===r?f:void 0;if(l&&!Gm(g)&&(g=IE(c,r)),Gm(g)&&(a=g,o))return a;const _=t[i+1];i=o?_o(_):Aa(_)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=IE(c,r))}return a}function Gm(t){return void 0!==t}function it(t,e=""){const n=k(),r=Pe(),i=t+xe,s=r.firstCreatePass?Tl(r,i,1,e,null):r.data[i],o=fU(r,n,s,e,t);n[i]=o,Gg()&&um(r,n,o,s),Li(s,!1)}let fU=(t,e,n,r,i)=>(po(!0),function om(t,e){return t.createText(e)}(e[ge],r));function fh(t){return $b("",t,""),fh}function $b(t,e,n){const r=k(),i=Dl(r,t,e,n);return i!==_e&&function Cs(t,e,n){const r=Hg(e,t);!function OF(t,e,n){t.setValue(e,n)}(t[ge],r,n)}(r,ir(),i),$b}const Fl="en-US";let PU=Fl;function Wb(t,e,n,r,i){if(t=he(t),Array.isArray(t))for(let s=0;s<t.length;s++)Wb(t[s],e,n,r,i);else{const s=Pe(),o=k(),a=An();let c=Da(t)?t:he(t.provide);const l=p2(t),u=1048575&a.providerIndexes,d=a.directiveStart,f=a.providerIndexes>>20;if(Da(t)||!t.multi){const g=new Vd(l,i,M),_=Kb(c,e,i?u:u+f,d);-1===_?(yE(Yg(a,o),s,c),qb(s,t,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(g),o.push(g)):(n[_]=g,o[_]=g)}else{const g=Kb(c,e,u+f,d),_=Kb(c,e,u,u+f),I=_>=0&&n[_];if(i&&!I||!i&&!(g>=0&&n[g])){yE(Yg(a,o),s,c);const T=function Nre(t,e,n,r,i){const s=new Vd(t,n,M);return s.multi=[],s.index=e,s.componentProviders=0,o3(s,i,r&&!n),s}(i?Mre:xre,n.length,i,r,l);!i&&I&&(n[_].providerFactory=T),qb(s,t,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(T),o.push(T)}else qb(s,t,g>-1?g:_,o3(n[i?_:g],l,!i&&r));!i&&r&&I&&n[_].componentProviders++}}}function qb(t,e,n,r){const i=Da(e),s=function EZ(t){return!!t.useClass}(e);if(i||s){const c=(s?he(e.useClass):e).prototype.ngOnDestroy;if(c){const l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){const u=l.indexOf(n);-1===u?l.push(n,[r,c]):l[u+1].push(r,c)}else l.push(n,c)}}}function o3(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Kb(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function xre(t,e,n,r){return Yb(this.multi,[])}function Mre(t,e,n,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=ba(n,n[q],this.providerFactory.index,r);s=a.slice(0,o),Yb(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],Yb(i,s);return s}function Yb(t,e){for(let n=0;n<t.length;n++)e.push((0,t[n])());return e}function st(t,e=[]){return n=>{n.providersResolver=(r,i)=>function Are(t,e,n){const r=Pe();if(r.firstCreatePass){const i=pi(t);Wb(n,r.data,r.blueprint,i,!0),Wb(e,r.data,r.blueprint,i,!1)}}(r,i?i(t):t,e)}}class Ma{}class a3{}class Qb extends Ma{constructor(e,n,r){super(),this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new pV(this);const i=Lr(e);this._bootstrapComponents=Ts(i.bootstrap),this._r3Injector=A2(e,n,[{provide:Ma,useValue:this},{provide:Dm,useValue:this.componentFactoryResolver},...r],sn(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Xb extends a3{constructor(e){super(),this.moduleType=e}create(e){return new Qb(this.moduleType,e,[])}}class c3 extends Ma{constructor(e){super(),this.componentFactoryResolver=new pV(this),this.instance=null;const n=new vm([...e.providers,{provide:Ma,useValue:this},{provide:Dm,useValue:this.componentFactoryResolver}],e.parent||ym(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Jb(t,e,n=null){return new c3({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}let Pre=(()=>{var t;class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){const i=u2(0,r.type),s=i.length>0?Jb([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,s)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(const r of this.cachedInjectors.values())null!==r&&r.destroy()}finally{this.cachedInjectors.clear()}}}return(t=e).\u0275prov=J({token:t,providedIn:"environment",factory:()=>new t(j(Zr))}),e})();function l3(t){t.getStandaloneInjector=e=>e.get(Pre).getOrCreateStandaloneInjector(t)}function m3(t,e,n,r){return function _3(t,e,n,r,i,s){const o=e+n;return Hn(t,o,i)?function Bi(t,e,n){return t[e]=n}(t,o+1,s?r.call(s,i):r(i)):function vh(t,e){const n=t[e];return n===_e?void 0:n}(t,o+1)}(k(),function rr(){const t=de.lFrame;let e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}(),t,e,n,r)}function sie(){return this._results[Symbol.iterator]()}class eT{get changes(){return this._changes||(this._changes=new nt)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const n=eT.prototype;n[Symbol.iterator]||(n[Symbol.iterator]=sie)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,n){return this._results.reduce(e,n)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,n){const r=this;r.dirty=!1;const i=function Jr(t){return t.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function zX(t,e,n){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let i=t[r],s=e[r];if(n&&(i=n(i),s=n(s)),s!==i)return!1}return!0}(r._results,i,n))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function aie(t,e,n,r=!0){const i=e[q];if(function PJ(t,e,n,r){const i=Dn+r,s=n.length;r>0&&(n[i-1][fi]=e),r<s-Dn?(e[fi]=n[i],dF(n,Dn+r,e)):(n.push(e),e[fi]=null),e[It]=n;const o=e[Nd];null!==o&&n!==o&&function OJ(t,e){const n=t[Zc];e[Ht]!==e[It][It][Ht]&&(t[cL]=!0),null===n?t[Zc]=[e]:n.push(e)}(o,e);const a=e[ki];null!==a&&a.insertView(t),e[ye]|=128}(i,e,t,n),r){const s=LE(n,t),o=e[ge],a=lm(o,t[Pi]);null!==a&&function NJ(t,e,n,r,i,s){r[kt]=i,r[jn]=e,Yd(t,r,n,1,i,s)}(i,t[jn],o,e,a,s)}}let Ds=(()=>{class e{}return e.__NG_ELEMENT_ID__=uie,e})();const cie=Ds,lie=class extends cie{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){const i=function oie(t,e,n,r){const i=e.tView,a=xm(t,i,n,4096&t[ye]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[Nd]=t[e.index];const l=t[ki];return null!==l&&(a[ki]=l.createEmbeddedView(i)),Sb(i,a,n),a}(this._declarationLView,this._declarationTContainer,e,{injector:n,hydrationInfo:r});return new sh(i)}};function uie(){return Ym(An(),k())}function Ym(t,e){return 4&t.type?new lie(e,t,Il(t,e)):null}let _i=(()=>{class e{}return e.__NG_ELEMENT_ID__=mie,e})();function mie(){return A3(An(),k())}const _ie=_i,D3=class extends _ie{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Il(this._hostTNode,this._hostLView)}get injector(){return new sr(this._hostTNode,this._hostLView)}get parentInjector(){const e=Qg(this._hostTNode,this._hostLView);if(gE(e)){const n=Bd(e,this._hostLView),r=Ud(e);return new sr(n[q].data[r+8],n)}return new sr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const n=S3(this._lContainer);return null!==n&&n[e]||null}get length(){return this._lContainer.length-Dn}createEmbeddedView(e,n,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(n||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,n,r,i,s){const o=e&&!function $d(t){return"function"==typeof t}(e);let a;if(o)a=n;else{const w=n||{};a=w.index,r=w.injector,i=w.projectableNodes,s=w.environmentInjector||w.ngModuleRef}const c=o?e:new oh(ke(e)),l=r||this.parentInjector;if(!s&&null==c.ngModule){const I=(o?l:this.parentInjector).get(Zr,null);I&&(s=I)}ke(c.componentType??{});const g=c.create(l,i,null,s);return this.insertImpl(g.hostView,a,false),g}insert(e,n){return this.insertImpl(e,n,!1)}insertImpl(e,n,r){const i=e._lView;if(function oX(t){return nr(t[It])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const l=i[It],u=new D3(l,l[jn],l[It]);u.detach(u.indexOf(e))}}const o=this._adjustIndex(n),a=this._lContainer;return aie(a,i,o,!r),e.attachToViewContainerRef(),dF(tT(a),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){const n=S3(this._lContainer);return null!==n?n.indexOf(e):-1}remove(e){const n=this._adjustIndex(e,-1),r=cm(this._lContainer,n);r&&(Jg(tT(this._lContainer),n),RE(r[q],r))}detach(e){const n=this._adjustIndex(e,-1),r=cm(this._lContainer,n);return r&&null!=Jg(tT(this._lContainer),n)?new sh(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function S3(t){return t[8]}function tT(t){return t[8]||(t[8]=[])}function A3(t,e){let n;const r=e[t.index];return nr(r)?n=r:(n=nV(r,e,null,t),e[t.index]=n,Mm(e,n)),x3(n,e,t,r),new D3(n,t,e)}let x3=function M3(t,e,n,r){if(t[Pi])return;let i;i=8&n.type?lt(r):function yie(t,e){const n=t[ge],r=n.createComment(""),i=Er(e,t);return Ta(n,lm(n,i),r,function UJ(t,e){return t.nextSibling(e)}(n,i),!1),r}(e,n),t[Pi]=i};class nT{constructor(e){this.queryList=e,this.matches=null}clone(){return new nT(this.queryList)}setDirty(){this.queryList.setDirty()}}class rT{constructor(e=[]){this.queries=e}createEmbeddedView(e){const n=e.queries;if(null!==n){const r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[];for(let s=0;s<r;s++){const o=n.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new rT(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let n=0;n<this.queries.length;n++)null!==L3(e,n).matches&&this.queries[n].setDirty()}}class N3{constructor(e,n,r=null){this.predicate=e,this.flags=n,this.read=r}}class iT{constructor(e=[]){this.queries=e}elementStart(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,n)}elementEnd(e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementEnd(e)}embeddedTView(e){let n=null;for(let r=0;r<this.length;r++){const i=null!==n?n.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==n?n.push(s):n=[s])}return null!==n?new iT(n):null}template(e,n){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,n)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class sT{constructor(e,n=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=n}elementStart(e,n){this.isApplyingToNode(n)&&this.matchTNode(e,n)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,n){this.elementStart(e,n)}embeddedTView(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new sT(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const n=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==n;)r=r.parent;return n===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,n){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,n,Iie(n,s)),this.matchTNodeWithReadOption(e,n,Xg(n,e,s,!1,!1))}else r===Ds?4&n.type&&this.matchTNodeWithReadOption(e,n,-1):this.matchTNodeWithReadOption(e,n,Xg(n,e,r,!1,!1))}matchTNodeWithReadOption(e,n,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===pn||i===_i||i===Ds&&4&n.type)this.addMatch(n.index,-2);else{const s=Xg(n,e,i,!1,!1);null!==s&&this.addMatch(n.index,s)}else this.addMatch(n.index,r)}}addMatch(e,n){null===this.matches?this.matches=[e,n]:this.matches.push(e,n)}}function Iie(t,e){const n=t.localNames;if(null!==n)for(let r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function bie(t,e,n,r){return-1===n?function Eie(t,e){return 11&t.type?Il(t,e):4&t.type?Ym(t,e):null}(e,t):-2===n?function Tie(t,e,n){return n===pn?Il(e,t):n===Ds?Ym(e,t):n===_i?A3(e,t):void 0}(t,e,r):ba(t,t[q],n,e)}function R3(t,e,n,r){const i=e[ki].queries[r];if(null===i.matches){const s=t.data,o=n.matches,a=[];for(let c=0;c<o.length;c+=2){const l=o[c];a.push(l<0?null:bie(e,s[l],o[c+1],n.metadata.read))}i.matches=a}return i.matches}function oT(t,e,n,r){const i=t.queries.getByIndex(n),s=i.matches;if(null!==s){const o=R3(t,e,i,n);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)r.push(o[a/2]);else{const l=s[a+1],u=e[-c];for(let d=Dn;d<u.length;d++){const f=u[d];f[Nd]===f[It]&&oT(f[q],f,l,r)}if(null!==u[Zc]){const d=u[Zc];for(let f=0;f<d.length;f++){const g=d[f];oT(g[q],g,l,r)}}}}}return r}function Ih(t){const e=k(),n=Pe(),r=HL();uE(r+1);const i=L3(n,r);if(t.dirty&&function iX(t){return 4==(4&t[ye])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)t.reset([]);else{const s=i.crossesNgTemplate?oT(n,e,r,[]):R3(n,e,i,r);t.reset(s,HZ),t.notifyOnChanges()}return!0}return!1}function Xm(t,e,n){const r=Pe();r.firstCreatePass&&(function O3(t,e,n){null===t.queries&&(t.queries=new iT),t.queries.track(new sT(e,n))}(r,new N3(t,e,n),-1),2==(2&e)&&(r.staticViewQueries=!0)),function P3(t,e,n){const r=new eT(4==(4&n));(function Iee(t,e,n,r){const i=iV(e);i.push(n),t.firstCreatePass&&sV(t).push(r,i.length-1)})(t,e,r,r.destroy),null===e[ki]&&(e[ki]=new rT),e[ki].queries.push(new nT(r))}(r,k(),e)}function Eh(){return function Cie(t,e){return t[ki].queries[e].queryList}(k(),HL())}function L3(t,e){return t.queries.getByIndex(e)}const hT=new V("Application Initializer");let fT=(()=>{var t;class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=K(hT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const r=[];for(const s of this.appInits){const o=s();if(dh(o))r.push(o);else if(BV(o)){const a=new Promise((c,l)=>{o.subscribe({complete:c,error:l})});r.push(a)}}const i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(s=>{this.reject(s)}),0===r.length&&i(),this.initialized=!0}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),Z3=(()=>{var t;class e{log(r){console.log(r)}warn(r){console.warn(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();const Hi=new V("LocaleId",{providedIn:"root",factory:()=>K(Hi,Ae.Optional|Ae.SkipSelf)||function Kie(){return typeof $localize<"u"&&$localize.locale||Fl}()});let eB=(()=>{var t;class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new yr(!1)}add(){this.hasPendingTasks.next(!0);const r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class Xie{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}}let tB=(()=>{var t;class e{compileModuleSync(r){return new Xb(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){const i=this.compileModuleSync(r),o=Ts(Lr(r).declarations).reduce((a,c)=>{const l=ke(c);return l&&a.push(new oh(l)),a},[]);return new Xie(i,o)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const sB=new V(""),e_=new V("");let yT,mT=(()=>{var t;class e{constructor(r,i,s){this._ngZone=r,this.registry=i,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,yT||(function _se(t){yT=t}(s),s.addToWindow(i)),this._watchAngularEvents(),r.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Ne.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let r=this._callbacks.pop();clearTimeout(r.timeoutId),r.doneCb(this._didWork)}this._didWork=!1});else{let r=this.getPendingTasks();this._callbacks=this._callbacks.filter(i=>!i.updateCb||!i.updateCb(r)||(clearTimeout(i.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(r=>({source:r.source,creationLocation:r.creationLocation,data:r.data})):[]}addCallback(r,i,s){let o=-1;i&&i>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(a=>a.timeoutId!==o),r(this._didWork,this.getPendingTasks())},i)),this._callbacks.push({doneCb:r,timeoutId:o,updateCb:s})}whenStable(r,i,s){if(s&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(r,i,s),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(r){this.registry.registerApplication(r,this)}unregisterApplication(r){this.registry.unregisterApplication(r)}findProviders(r,i,s){return[]}}return(t=e).\u0275fac=function(r){return new(r||t)(j(Ne),j(_T),j(e_))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),e})(),_T=(()=>{var t;class e{constructor(){this._applications=new Map}registerApplication(r,i){this._applications.set(r,i)}unregisterApplication(r){this._applications.delete(r)}unregisterAllApplications(){this._applications.clear()}getTestability(r){return this._applications.get(r)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(r,i=!0){return yT?.findTestabilityInTree(this,r,i)??null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})(),yo=null;const oB=new V("AllowMultipleToken"),vT=new V("PlatformDestroyListeners"),wT=new V("appBootstrapListener");class cB{constructor(e,n){this.name=e,this.token=n}}function uB(t,e,n=[]){const r=`Platform: ${e}`,i=new V(r);return(s=[])=>{let o=IT();if(!o||o.injector.get(oB,!1)){const a=[...n,...s,{provide:i,useValue:!0}];t?t(a):function wse(t){if(yo&&!yo.get(oB,!1))throw new O(400,!1);(function aB(){!function zQ(t){wL=t}(()=>{throw new O(600,!1)})})(),yo=t;const e=t.get(hB);(function lB(t){t.get(g2,null)?.forEach(n=>n())})(t)}(function dB(t=[],e){return gn.create({name:e,providers:[{provide:qE,useValue:"platform"},{provide:vT,useValue:new Set([()=>yo=null])},...t]})}(a,r))}return function Ese(t){const e=IT();if(!e)throw new O(401,!1);return e}()}}function IT(){return yo?.get(hB)??null}let hB=(()=>{var t;class e{constructor(r){this._injector=r,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(r,i){const s=function bse(t="zone.js",e){return"noop"===t?new ree:"zone.js"===t?new Ne(e):t}(i?.ngZone,function fB(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:i?.ngZoneEventCoalescing,runCoalescing:i?.ngZoneRunCoalescing}));return s.run(()=>{const o=function kre(t,e,n){return new Qb(t,e,n)}(r.moduleType,this.injector,function yB(t){return[{provide:Ne,useFactory:t},{provide:Zd,multi:!0,useFactory:()=>{const e=K(Cse,{optional:!0});return()=>e.initialize()}},{provide:_B,useFactory:Tse},{provide:k2,useFactory:P2}]}(()=>s)),a=o.injector.get(ei,null);return s.runOutsideAngular(()=>{const c=s.onError.subscribe({next:l=>{a.handleError(l)}});o.onDestroy(()=>{t_(this._modules,o),c.unsubscribe()})}),function pB(t,e,n){try{const r=n();return dh(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}(a,s,()=>{const c=o.injector.get(fT);return c.runInitializers(),c.donePromise.then(()=>(function OU(t){Kr(t,"Expected localeId to be defined"),"string"==typeof t&&(PU=t.toLowerCase().replace(/_/g,"-"))}(o.injector.get(Hi,Fl)||Fl),this._moduleDoBootstrap(o),o))})})}bootstrapModule(r,i=[]){const s=gB({},i);return function yse(t,e,n){const r=new Xb(n);return Promise.resolve(r)}(0,0,r).then(o=>this.bootstrapModuleFactory(o,s))}_moduleDoBootstrap(r){const i=r.injector.get(Bl);if(r._bootstrapComponents.length>0)r._bootstrapComponents.forEach(s=>i.bootstrap(s));else{if(!r.instance.ngDoBootstrap)throw new O(-403,!1);r.instance.ngDoBootstrap(i)}this._modules.push(r)}onDestroy(r){this._destroyListeners.push(r)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new O(404,!1);this._modules.slice().forEach(i=>i.destroy()),this._destroyListeners.forEach(i=>i());const r=this._injector.get(vT,null);r&&(r.forEach(i=>i()),r.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return(t=e).\u0275fac=function(r){return new(r||t)(j(gn))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"platform"}),e})();function gB(t,e){return Array.isArray(e)?e.reduce(gB,t):{...t,...e}}let Bl=(()=>{var t;class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=K(_B),this.zoneIsStable=K(k2),this.componentTypes=[],this.components=[],this.isStable=K(eB).hasPendingTasks.pipe(Ni(r=>r?se(!1):this.zoneIsStable),function VO(t,e=h){return t=t??rQ,re((n,r)=>{let i,s=!0;n.subscribe(ie(r,o=>{const a=e(o);(s||!t(i,a))&&(s=!1,i=a,r.next(o))}))})}(),kI()),this._injector=K(Zr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(r,i){const s=r instanceof w2;if(!this._injector.get(fT).done)throw!s&&function Kc(t){const e=ke(t)||Cn(t)||tr(t);return null!==e&&e.standalone}(r),new O(405,!1);let a;a=s?r:this._injector.get(Dm).resolveComponentFactory(r),this.componentTypes.push(a.componentType);const c=function vse(t){return t.isBoundToModule}(a)?void 0:this._injector.get(Ma),u=a.create(gn.NULL,[],i||a.selector,c),d=u.location.nativeElement,f=u.injector.get(sB,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),t_(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new O(101,!1);try{this._runningTick=!0;for(let r of this._views)r.detectChanges()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1}}attachView(r){const i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){const i=r;t_(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);const i=this._injector.get(wT,[]);i.push(...this._bootstrapListeners),i.forEach(s=>s(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>t_(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new O(406,!1);const r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function t_(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}const _B=new V("",{providedIn:"root",factory:()=>K(ei).handleError.bind(void 0)});function Tse(){const t=K(Ne),e=K(ei);return n=>t.runOutsideAngular(()=>e.handleError(n))}let Cse=(()=>{var t;class e{constructor(){this.zone=K(Ne),this.applicationRef=K(Bl)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();let Ch=(()=>{class e{}return e.__NG_ELEMENT_ID__=Sse,e})();function Sse(t){return function Ase(t,e,n){if(wa(t)&&!n){const r=Fr(t.index,e);return new sh(r,r)}return 47&t.type?new sh(e[Ht],e):null}(An(),k(),16==(16&t))}class EB{constructor(){}supports(e){return Pm(e)}create(e){return new Pse(e)}}const kse=(t,e)=>e;class Pse{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||kse}forEachItem(e){let n;for(n=this._itHead;null!==n;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){const o=!r||n&&n.currentIndex<TB(r,i,s)?n:r,a=TB(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,null==o.previousIndex)i++;else{s||(s=[]);const l=a-i,u=c-i;if(l!=u){for(let f=0;f<l;f++){const g=f<s.length?s[f]:s[f]=0,_=g+f;u<=_&&_<l&&(s[f]=g+1)}s[o.previousIndex]=u-l}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;null!==n;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;null!==n;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;null!==n;n=n._nextIdentityChange)e(n)}diff(e){if(null==e&&(e=[]),!Pm(e))throw new O(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,n=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)):(n=this._mismatch(n,s,o,a),r=!0),n=n._next}else i=0,function fte(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{const n=t[Symbol.iterator]();let r;for(;!(r=n.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==n&&Object.is(n.trackById,o)?(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)):(n=this._mismatch(n,a,o,i),r=!0),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Ose(n,r),s,i),e}_verifyReinsertion(e,n,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const n=e._next;this._addToRemovals(this._unlink(e)),e=n}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){const i=null===n?this._itHead:n._next;return e._next=i,e._prev=n,null===i?this._itTail=e:i._prev=e,null===n?this._itHead=e:n._next=e,null===this._linkedRecords&&(this._linkedRecords=new bB),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const n=e._prev,r=e._next;return null===n?this._itHead=r:n._next=r,null===r?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new bB),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Ose{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Lse{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===n||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const n=e._prevDup,r=e._nextDup;return null===n?this._head=r:n._nextDup=r,null===r?this._tail=n:r._prevDup=n,null===this._head}}class bB{constructor(){this.map=new Map}put(e){const n=e.trackById;let r=this.map.get(n);r||(r=new Lse,this.map.set(n,r)),r.add(e)}get(e,n){const i=this.map.get(e);return i?i.get(e,n):null}remove(e){const n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function TB(t,e,n){const r=t.previousIndex;if(null===r)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}class CB{constructor(){}supports(e){return e instanceof Map||Ab(e)}create(){return new Fse}}class Fse{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let n;for(n=this._mapHead;null!==n;n=n._next)e(n)}forEachPreviousItem(e){let n;for(n=this._previousMapHead;null!==n;n=n._nextPrevious)e(n)}forEachChangedItem(e){let n;for(n=this._changesHead;null!==n;n=n._nextChanged)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;null!==n;n=n._nextAdded)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;null!==n;n=n._nextRemoved)e(n)}diff(e){if(e){if(!(e instanceof Map||Ab(e)))throw new O(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(n&&n.key===i)this._maybeAddToChanges(n,r),this._appendAfter=n,n=n._next;else{const s=this._getOrCreateRecordForKey(i,r);n=this._insertBeforeOrAppend(n,s)}}),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(let r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,n){if(e){const r=e._prev;return n._next=e,n._prev=r,e._prev=n,r&&(r._next=n),e===this._mapHead&&(this._mapHead=n),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=n,n._prev=this._appendAfter):this._mapHead=n,this._appendAfter=n,null}_getOrCreateRecordForKey(e,n){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,n);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new Vse(e);return this._records.set(e,r),r.currentValue=n,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,n){Object.is(n,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=n,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,n){e instanceof Map?e.forEach(n):Object.keys(e).forEach(r=>n(e[r],r))}}class Vse{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function DB(){return new i_([new EB])}let i_=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(null!=i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||DB()),deps:[[e,new Gd,new Pt]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(null!=i)return i;throw new O(901,!1)}}return(t=e).\u0275prov=J({token:t,providedIn:"root",factory:DB}),e})();function SB(){return new Dh([new CB])}let Dh=(()=>{var t;class e{constructor(r){this.factories=r}static create(r,i){if(i){const s=i.factories.slice();r=r.concat(s)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||SB()),deps:[[e,new Gd,new Pt]]}}find(r){const i=this.factories.find(s=>s.supports(r));if(i)return i;throw new O(901,!1)}}return(t=e).\u0275prov=J({token:t,providedIn:"root",factory:SB}),e})();const jse=uB(null,"core",[]);let $se=(()=>{var t;class e{constructor(r){}}return(t=e).\u0275fac=function(r){return new(r||t)(j(Bl))},t.\u0275mod=jt({type:t}),t.\u0275inj=Rt({}),e})();let ST=null;function vo(){return ST}class noe{}const Ot=new V("DocumentToken");let AT=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:function(){return K(ioe)},providedIn:"platform"}),e})();const roe=new V("Location Initialized");let ioe=(()=>{var t;class e extends AT{constructor(){super(),this._doc=K(Ot),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vo().getBaseHref(this._doc)}onPopState(r){const i=vo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){const i=vo().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,s){this._history.pushState(r,i,s)}replaceState(r,i,s){this._history.replaceState(r,i,s)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:function(){return new t},providedIn:"platform"}),e})();function xT(t,e){if(0==t.length)return e;if(0==e.length)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function LB(t){const e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Ss(t){return t&&"?"!==t[0]?"?"+t:t}let Ra=(()=>{var t;class e{historyGo(r){throw new Error("Not implemented")}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:function(){return K(VB)},providedIn:"root"}),e})();const FB=new V("appBaseHref");let VB=(()=>{var t;class e extends Ra{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??K(Ot).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return xT(this._baseHref,r)}path(r=!1){const i=this._platformLocation.pathname+Ss(this._platformLocation.search),s=this._platformLocation.hash;return s&&r?`${i}${s}`:i}pushState(r,i,s,o){const a=this.prepareExternalUrl(s+Ss(o));this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){const a=this.prepareExternalUrl(s+Ss(o));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(j(AT),j(FB,8))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),soe=(()=>{var t;class e extends Ra{constructor(r,i){super(),this._platformLocation=r,this._baseHref="",this._removeListenerFns=[],null!=i&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}path(r=!1){let i=this._platformLocation.hash;return null==i&&(i="#"),i.length>0?i.substring(1):i}prepareExternalUrl(r){const i=xT(this._baseHref,r);return i.length>0?"#"+i:i}pushState(r,i,s,o){let a=this.prepareExternalUrl(s+Ss(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.pushState(r,i,a)}replaceState(r,i,s,o){let a=this.prepareExternalUrl(s+Ss(o));0==a.length&&(a=this._platformLocation.pathname),this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(j(AT),j(FB,8))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),e})(),MT=(()=>{var t;class e{constructor(r){this._subject=new nt,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;const i=this._locationStrategy.getBaseHref();this._basePath=function coe(t){if(new RegExp("^(https?:)?//").test(t)){const[,n]=t.split(/\/\/[^\/]+/);return n}return t}(LB(UB(i))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Ss(i))}normalize(r){return e.stripTrailingSlash(function aoe(t,e){if(!t||!e.startsWith(t))return e;const n=e.substring(t.length);return""===n||["/",";","?","#"].includes(n[0])?n:e}(this._basePath,UB(r)))}prepareExternalUrl(r){return r&&"/"!==r[0]&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",s=null){this._locationStrategy.pushState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ss(i)),s)}replaceState(r,i="",s=null){this._locationStrategy.replaceState(s,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Ss(i)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)})),()=>{const i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(s=>s(r,i))}subscribe(r,i,s){return this._subject.subscribe({next:r,error:i,complete:s})}}return(t=e).normalizeQueryParams=Ss,t.joinWithSlash=xT,t.stripTrailingSlash=LB,t.\u0275fac=function(r){return new(r||t)(j(Ra))},t.\u0275prov=J({token:t,factory:function(){return function ooe(){return new MT(j(Ra))}()},providedIn:"root"}),e})();function UB(t){return t.replace(/\/index.html$/,"")}const BT=/\s+/,KB=[];let jT=(()=>{var t;class e{constructor(r,i,s,o){this._iterableDiffers=r,this._keyValueDiffers=i,this._ngEl=s,this._renderer=o,this.initialClasses=KB,this.stateMap=new Map}set klass(r){this.initialClasses=null!=r?r.trim().split(BT):KB}set ngClass(r){this.rawClass="string"==typeof r?r.trim().split(BT):r}ngDoCheck(){for(const i of this.initialClasses)this._updateState(i,!0);const r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(const i of r)this._updateState(i,!0);else if(null!=r)for(const i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){const s=this.stateMap.get(r);void 0!==s?(s.enabled!==i&&(s.changed=!0,s.enabled=i),s.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(const r of this.stateMap){const i=r[0],s=r[1];s.changed?(this._toggleClass(i,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),s.touched=!1}}_toggleClass(r,i){(r=r.trim()).length>0&&r.split(BT).forEach(s=>{i?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return(t=e).\u0275fac=function(r){return new(r||t)(M(i_),M(Dh),M(pn),M(bs))},t.\u0275dir=ae({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),e})();class Koe{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let QB=(()=>{var t;class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,s){this._viewContainer=r,this._template=i,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const r=this._ngForOf;!this._differ&&r&&(this._differ=this._differs.find(r).create(this.ngForTrackBy))}if(this._differ){const r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){const i=this._viewContainer;r.forEachOperation((s,o,a)=>{if(null==s.previousIndex)i.createEmbeddedView(this._template,new Koe(s.item,this._ngForOf,-1,-1),null===a?void 0:a);else if(null==a)i.remove(null===o?void 0:o);else if(null!==o){const c=i.get(o);i.move(c,a),XB(c,s)}});for(let s=0,o=i.length;s<o;s++){const c=i.get(s).context;c.index=s,c.count=o,c.ngForOf=this._ngForOf}r.forEachIdentityChange(s=>{XB(i.get(s.currentIndex),s)})}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(M(_i),M(Ds),M(i_))},t.\u0275dir=ae({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),e})();function XB(t,e){t.context.$implicit=e.item}let $T=(()=>{var t;class e{constructor(r,i){this._viewContainer=r,this._context=new Yoe,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){JB("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){JB("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}}return(t=e).\u0275fac=function(r){return new(r||t)(M(_i),M(Ds))},t.\u0275dir=ae({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),e})();class Yoe{constructor(){this.$implicit=null,this.ngIf=null}}function JB(t,e){if(e&&!e.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${sn(e)}'.`)}let qT=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Rt({}),e})();const tj="browser";function nj(t){return"server"===t}let Tae=(()=>{var t;class e{}return(t=e).\u0275prov=J({token:t,providedIn:"root",factory:()=>new Cae(j(Ot),window)}),e})();class Cae{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const n=function Dae(t,e){const n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class Qae extends noe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class QT extends Qae{static makeCurrent(){!function toe(t){ST||(ST=t)}(new QT)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,n){return(n=n||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return"window"===n?window:"document"===n?e:"body"===n?e.body:null}getBaseHref(e){const n=function Xae(){return Mh=Mh||document.querySelector("base"),Mh?Mh.getAttribute("href"):null}();return null==n?null:function Jae(t){y_=y_||document.createElement("a"),y_.setAttribute("href",t);const e=y_.pathname;return"/"===e.charAt(0)?e:`/${e}`}(n)}resetBaseElement(){Mh=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function Woe(t,e){e=encodeURIComponent(e);for(const n of t.split(";")){const r=n.indexOf("="),[i,s]=-1==r?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}(document.cookie,e)}}let y_,Mh=null,ece=(()=>{var t;class e{build(){return new XMLHttpRequest}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac}),e})();const XT=new V("EventManagerPlugins");let aj=(()=>{var t;class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(s=>{s.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,s){return this._findPluginFor(i).addEventListener(r,i,s)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(o=>o.supports(r)),!i)throw new O(5101,!1);return this._eventNameToPlugin.set(r,i),i}}return(t=e).\u0275fac=function(r){return new(r||t)(j(XT),j(Ne))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),e})();class cj{constructor(e){this._doc=e}}const JT="ng-app-id";let lj=(()=>{var t;class e{constructor(r,i,s,o={}){this.doc=r,this.appId=i,this.nonce=s,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=nj(o),this.resetHostNodes()}addStyles(r){for(const i of r)1===this.changeUsageCount(i,1)&&this.onStyleAdded(i)}removeStyles(r){for(const i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){const r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(const i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(const i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(const i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){const i=this.styleRef;i.get(r)?.elements?.forEach(s=>s.remove()),i.delete(r)}collectServerRenderedStyles(){const r=this.doc.head?.querySelectorAll(`style[${JT}="${this.appId}"]`);if(r?.length){const i=new Map;return r.forEach(s=>{null!=s.textContent&&i.set(s.textContent,s)}),i}return null}changeUsageCount(r,i){const s=this.styleRef;if(s.has(r)){const o=s.get(r);return o.usage+=i,o.usage}return s.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){const s=this.styleNodesInDOM,o=s?.get(i);if(o?.parentNode===r)return s.delete(i),o.removeAttribute(JT),o;{const a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(JT,this.appId),a}}addStyleToHost(r,i){const s=this.getStyleElement(r,i);r.appendChild(s);const o=this.styleRef,a=o.get(i)?.elements;a?a.push(s):o.set(i,{elements:[s],usage:1})}resetHostNodes(){const r=this.hostNodes;r.clear(),r.add(this.doc.head)}}return(t=e).\u0275fac=function(r){return new(r||t)(j(Ot),j(wm),j(XE,8),j(Es))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),e})();const ZT={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},eC=/%COMP%/g,ice=new V("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function dj(t,e){return e.map(n=>n.replace(eC,t))}let hj=(()=>{var t;class e{constructor(r,i,s,o,a,c,l,u=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=s,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=c,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=nj(c),this.defaultRenderer=new tC(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===di.ShadowDom&&(i={...i,encapsulation:di.Emulated});const s=this.getOrCreateRenderer(r,i);return s instanceof pj?s.applyToHost(r):s instanceof nC&&s.applyStyles(),s}getOrCreateRenderer(r,i){const s=this.rendererByCompId;let o=s.get(i.id);if(!o){const a=this.doc,c=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(i.encapsulation){case di.Emulated:o=new pj(l,u,i,this.appId,d,a,c,f);break;case di.ShadowDom:return new cce(l,u,r,i,a,c,this.nonce,f);default:o=new nC(l,u,i,d,a,c,f)}s.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}}return(t=e).\u0275fac=function(r){return new(r||t)(j(aj),j(lj),j(wm),j(ice),j(Ot),j(Es),j(Ne),j(XE))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),e})();class tC{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(ZT[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(fj(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(fj(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){e&&e.removeChild(n)}selectRootElement(e,n){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new O(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;const s=ZT[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){const i=ZT[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(go.DashCase|go.Important)?e.style.setProperty(n,r,i&go.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&go.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e[n]=r}setValue(e,n){e.nodeValue=n}listen(e,n,r){if("string"==typeof e&&!(e=vo().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if("__ngUnwrap__"===n)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))&&n.preventDefault()}}}function fj(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class cce extends tC{constructor(e,n,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const l=dj(i.id,i.styles);for(const u of l){const d=document.createElement("style");a&&d.setAttribute("nonce",a),d.textContent=u,this.shadowRoot.appendChild(d)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(this.nodeOrShadowRoot(e),n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class nC extends tC{constructor(e,n,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=c?dj(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class pj extends nC{constructor(e,n,r,i,s,o,a,c){const l=i+"-"+r.id;super(e,n,r,s,o,a,c,l),this.contentAttr=function sce(t){return"_ngcontent-%COMP%".replace(eC,t)}(l),this.hostAttr=function oce(t){return"_nghost-%COMP%".replace(eC,t)}(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){const r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}}let lce=(()=>{var t;class e extends cj{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,s){return r.addEventListener(i,s,!1),()=>this.removeEventListener(r,i,s)}removeEventListener(r,i,s){return r.removeEventListener(i,s)}}return(t=e).\u0275fac=function(r){return new(r||t)(j(Ot))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),e})();const gj=["alt","control","meta","shift"],uce={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},dce={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let hce=(()=>{var t;class e extends cj{constructor(r){super(r)}supports(r){return null!=e.parseEventName(r)}addEventListener(r,i,s){const o=e.parseEventName(i),a=e.eventCallback(o.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vo().onAndCancel(r,o.domEventName,a))}static parseEventName(r){const i=r.toLowerCase().split("."),s=i.shift();if(0===i.length||"keydown"!==s&&"keyup"!==s)return null;const o=e._normalizeKey(i.pop());let a="",c=i.indexOf("code");if(c>-1&&(i.splice(c,1),a="code."),gj.forEach(u=>{const d=i.indexOf(u);d>-1&&(i.splice(d,1),a+=u+".")}),a+=o,0!=i.length||0===o.length)return null;const l={};return l.domEventName=s,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let s=uce[r.key]||r.key,o="";return i.indexOf("code.")>-1&&(s=r.code,o="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),gj.forEach(a=>{a!==s&&(0,dce[a])(r)&&(o+=a+".")}),o+=s,o===i)}static eventCallback(r,i,s){return o=>{e.matchEventFullKeyCode(o,r)&&s.runGuarded(()=>i(o))}}static _normalizeKey(r){return"esc"===r?"escape":r}}return(t=e).\u0275fac=function(r){return new(r||t)(j(Ot))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),e})();const _j=[{provide:Es,useValue:tj},{provide:g2,useValue:function fce(){QT.makeCurrent()},multi:!0},{provide:Ot,useFactory:function gce(){return function qJ(t){UE=t}(document),document},deps:[]}],mce=uB(jse,"browser",_j),_ce=new V(""),yj=[{provide:e_,useClass:class Zae{addToWindow(e){ct.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new O(5103,!1);return s},ct.getAllAngularTestabilities=()=>e.getAllTestabilities(),ct.getAllAngularRootElements=()=>e.getAllRootElements(),ct.frameworkStabilizers||(ct.frameworkStabilizers=[]),ct.frameworkStabilizers.push(r=>{const i=ct.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,n,r){return null==n?null:e.getTestability(n)??(r?vo().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},deps:[]},{provide:sB,useClass:mT,deps:[Ne,_T,e_]},{provide:mT,useClass:mT,deps:[Ne,_T,e_]}],vj=[{provide:qE,useValue:"root"},{provide:ei,useFactory:function pce(){return new ei},deps:[]},{provide:XT,useClass:lce,multi:!0,deps:[Ot,Ne,Es]},{provide:XT,useClass:hce,multi:!0,deps:[Ot]},hj,lj,aj,{provide:E2,useExisting:hj},{provide:class Sae{},useClass:ece,deps:[]},[]];let yce=(()=>{var t;class e{constructor(r){}static withServerTransition(r){return{ngModule:e,providers:[{provide:wm,useValue:r.appId}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(j(_ce,12))},t.\u0275mod=jt({type:t}),t.\u0275inj=Rt({providers:[...vj,...yj],imports:[qT,$se]}),e})(),wj=(()=>{var t;class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}}return(t=e).\u0275fac=function(r){return new(r||t)(j(Ot))},t.\u0275prov=J({token:t,factory:function(r){let i=null;return i=r?new r:function wce(){return new wj(j(Ot))}(),i},providedIn:"root"}),e})();typeof window<"u"&&window;let iC=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:function(r){let i=null;return i=r?new(r||t):j(bj),i},providedIn:"root"}),e})(),bj=(()=>{var t;class e extends iC{constructor(r){super(),this._doc=r}sanitize(r,i){if(null==i)return null;switch(r){case xn.NONE:return i;case xn.HTML:return Vi(i,"HTML")?Ur(i):i2(this._doc,String(i)).toString();case xn.STYLE:return Vi(i,"Style")?Ur(i):i;case xn.SCRIPT:if(Vi(i,"Script"))return Ur(i);throw new O(5200,!1);case xn.URL:return Vi(i,"URL")?Ur(i):pm(String(i));case xn.RESOURCE_URL:if(Vi(i,"ResourceURL"))return Ur(i);throw new O(5201,!1);default:throw new O(5202,!1)}}bypassSecurityTrustHtml(r){return function eZ(t){return new KJ(t)}(r)}bypassSecurityTrustStyle(r){return function tZ(t){return new YJ(t)}(r)}bypassSecurityTrustScript(r){return function nZ(t){return new QJ(t)}(r)}bypassSecurityTrustUrl(r){return function rZ(t){return new XJ(t)}(r)}bypassSecurityTrustResourceUrl(r){return function iZ(t){return new JJ(t)}(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(j(Ot))},t.\u0275prov=J({token:t,factory:function(r){let i=null;return i=r?new r:function Tce(t){return new bj(t.get(Ot))}(j(gn)),i},providedIn:"root"}),e})();function Cj(t,e,n,r,i,s,o){try{var a=t[s](o),c=a.value}catch(l){return void n(l)}a.done?e(c):Promise.resolve(c).then(r,i)}function v(t){return function(){var e=this,n=arguments;return new Promise(function(r,i){var s=t.apply(e,n);function o(c){Cj(s,r,i,o,a,"next",c)}function a(c){Cj(s,r,i,o,a,"throw",c)}o(void 0)})}}const G=function(t,e){if(!t)throw Hl(e)},Hl=function(t){return new Error("Firebase Database (${JSCORE_VERSION}) INTERNAL ASSERT FAILED: "+t)},Dj=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},v_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,c=i+2<t.length,l=c?t[i+2]:0;let f=(15&a)<<2|l>>6,g=63&l;c||(g=64,o||(f=64)),r.push(n[s>>2],n[(3&s)<<4|a>>4],n[f],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Dj(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&t[n++])<<12|(63&t[n++])<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const l=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,null==s||null==a||null==l||null==d)throw new Dce;r.push(s<<2|a>>4),64!==l&&(r.push(a<<4&240|l>>2),64!==d&&r.push(l<<6&192|d))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Dce extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Sj=function(t){const e=Dj(t);return v_.encodeByteArray(e,!0)},Gl=function(t){return Sj(t).replace(/\./g,"")},Nh=function(t){try{return v_.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Sce(t){return Aj(void 0,t)}function Aj(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!Ace(n)||(t[n]=Aj(t[n],e[n]));return t}function Ace(t){return"__proto__"!==t}const w_=()=>{try{return function xce(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const t=process.env.__FIREBASE_DEFAULTS__;return t?JSON.parse(t):void 0})()||(()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Nh(t[1]);return e&&JSON.parse(e)})()}catch(t){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`)}},oC=t=>{var e,n;return null===(n=null===(e=w_())||void 0===e?void 0:e.emulatorHosts)||void 0===n?void 0:n[t]},xj=t=>{const e=oC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return"["===e[0]?[e.substring(1,n-1),r]:[e.substring(0,n),r]},I_=()=>{var t;return null===(t=w_())||void 0===t?void 0:t.config},E_=t=>{var e;return null===(e=w_())||void 0===e?void 0:e[`_${t}`]};class zl{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(n):e(n,r))}}}function Mj(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Gl(JSON.stringify({alg:"none",type:"JWT"})),Gl(JSON.stringify(o)),""].join(".")}function je(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function b_(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(je())}function T_(){const t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function aC(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Nj(){const t=je();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Io(){try{return"object"==typeof indexedDB}catch{return!1}}function Wl(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(n){e(n)}})}function cC(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Mn extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,Mn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Sr.prototype.create)}}class Sr{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function Oce(t,e){return t.replace(Lce,(n,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new Mn(i,`${this.serviceName}: ${o} (${i}).`,r)}}const Lce=/\{\$([^}]+)}/g;function Rh(t){return JSON.parse(t)}function Nn(t){return JSON.stringify(t)}const C_=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=Rh(Nh(s[0])||""),n=Rh(Nh(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}};function Ns(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function ql(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function D_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function S_(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function ka(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(Rj(s)&&Rj(o)){if(!ka(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function Rj(t){return null!==t&&"object"==typeof t}function Rs(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function kh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Ph(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}class Uce{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if("string"==typeof e)for(let d=0;d<16;d++)r[d]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=4294967295&(f<<1|f>>>31)}let l,u,i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],c=this.chain_[4];for(let d=0;d<80;d++){d<40?d<20?(l=a^s&(o^a),u=1518500249):(l=s^o^a,u=1859775393):d<60?(l=s&o|a&(s|o),u=2400959708):(l=s^o^a,u=3395469782);const f=(i<<5|i>>>27)+l+c+u+r[d]&4294967295;c=a,a=o,o=4294967295&(s<<30|s>>>2),s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+c&4294967295}update(e,n){if(null==e)return;void 0===n&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(0===o)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if("string"==typeof e){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=255&n,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function kj(t,e){const n=new Bce(t,e);return n.subscribe.bind(n)}class Bce{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(void 0===e&&void 0===n&&void 0===r)throw new Error("Missing Observer.");i=function jce(t,e){if("object"!=typeof t||null===t)return!1;for(const n of e)if(n in t&&"function"==typeof t[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:n,complete:r},void 0===i.next&&(i.next=lC),void 0===i.error&&(i.error=lC),void 0===i.complete&&(i.complete=lC);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lC(){}const x_=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},Hce=1e3,Gce=2,zce=144e5,Wce=.5;function uC(t,e=Hce,n=Gce){const r=e*Math.pow(n,t),i=Math.round(Wce*r*(Math.random()-.5)*2);return Math.min(zce,r+i)}function Rn(t){return t&&t._delegate?t._delegate:t}class Dt{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Pa="[DEFAULT]";class Kce{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new zl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(n=e?.optional)&&void 0!==n&&n;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function Qce(t){return"EAGER"===t.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Pa})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Pa){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return v(function*(){const n=Array.from(e.instances.values());yield Promise.all([...n.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...n.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=Pa){return this.instances.has(e)}getOptions(e=Pa){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(t=e,t===Pa?void 0:t),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var t;return r||null}normalizeInstanceIdentifier(e=Pa){return this.component?this.component.multipleInstances?e:Pa:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Pj{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new Kce(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}const dC=[];var Oe=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(Oe||{});const Oj={debug:Oe.DEBUG,verbose:Oe.VERBOSE,info:Oe.INFO,warn:Oe.WARN,error:Oe.ERROR,silent:Oe.SILENT},Xce=Oe.INFO,Jce={[Oe.DEBUG]:"log",[Oe.VERBOSE]:"log",[Oe.INFO]:"info",[Oe.WARN]:"warn",[Oe.ERROR]:"error"},Zce=(t,e,...n)=>{if(e<t.logLevel)return;const r=(new Date).toISOString(),i=Jce[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${t.name}:`,...n)};class ks{constructor(e){this.name=e,this._logLevel=Xce,this._logHandler=Zce,this._userLogHandler=null,dC.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Oe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?Oj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Oe.DEBUG,...e),this._logHandler(this,Oe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Oe.VERBOSE,...e),this._logHandler(this,Oe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Oe.INFO,...e),this._logHandler(this,Oe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Oe.WARN,...e),this._logHandler(this,Oe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Oe.ERROR,...e),this._logHandler(this,Oe.ERROR,...e)}}const ele=(t,e)=>e.some(n=>t instanceof n);let Lj,Fj;const Vj=new WeakMap,hC=new WeakMap,Uj=new WeakMap,fC=new WeakMap,pC=new WeakMap;let gC={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return hC.get(t);if("objectStoreNames"===e)return t.objectStoreNames||Uj.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Eo(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function ale(t){return"function"==typeof t?function ole(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function nle(){return Fj||(Fj=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(mC(this),e),Eo(Vj.get(this))}:function(...e){return Eo(t.apply(mC(this),e))}:function(e,...n){const r=t.call(mC(this),e,...n);return Uj.set(r,e.sort?e.sort():[e]),Eo(r)}}(t):(t instanceof IDBTransaction&&function ile(t){if(hC.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});hC.set(t,e)}(t),ele(t,function tle(){return Lj||(Lj=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,gC):t)}function Eo(t){if(t instanceof IDBRequest)return function rle(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Eo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Vj.set(n,t)}).catch(()=>{}),pC.set(e,t),e}(t);if(fC.has(t))return fC.get(t);const e=ale(t);return e!==t&&(fC.set(t,e),pC.set(e,t)),e}const mC=t=>pC.get(t);function Bj(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Eo(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Eo(o.result),c.oldVersion,c.newVersion,Eo(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}const cle=["get","getKey","getAll","getAllKeys","count"],lle=["put","add","delete","clear"],_C=new Map;function jj(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(_C.get(e))return _C.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=lle.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!cle.includes(n))return;const s=function(){var o=v(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return _C.set(e,s),s}!function sle(t){gC=t(gC)}(t=>({...t,get:(e,n,r)=>jj(e,n)||t.get(e,n,r),has:(e,n)=>!!jj(e,n)||t.has(e,n)}));class ule{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function dle(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const yC="@firebase/app",Oa=new ks("@firebase/app"),M_="[DEFAULT]",Fle={[yC]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},La=new Map,N_=new Map;function Vle(t,e){try{t.container.addComponent(e)}catch(n){Oa.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ar(t){const e=t.name;if(N_.has(e))return Oa.debug(`There were multiple attempts to register component ${e}.`),!1;N_.set(e,t);for(const n of La.values())Vle(n,t);return!0}function Oh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const Ps=new Sr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Ble{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ps.create("app-deleted",{appName:this._name})}}const Kl="10.4.0";function Hj(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:M_,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Ps.create("bad-app-name",{appName:String(i)});if(n||(n=I_()),!n)throw Ps.create("no-options");const s=La.get(i);if(s){if(ka(n,s.options)&&ka(r,s.config))return s;throw Ps.create("duplicate-app",{appName:i})}const o=new Pj(i);for(const c of N_.values())o.addComponent(c);const a=new Ble(n,r,o);return La.set(i,a),a}function ur(t,e,n){var r;let i=null!==(r=Fle[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Oa.warn(a.join(" "))}Ar(new Dt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const $le="firebase-heartbeat-database",Hle=1,Lh="firebase-heartbeat-store";let wC=null;function Gj(){return wC||(wC=Bj($le,Hle,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Lh)}}).catch(t=>{throw Ps.create("idb-open",{originalErrorMessage:t.message})})),wC}function IC(){return(IC=v(function*(t){try{return yield(yield Gj()).transaction(Lh).objectStore(Lh).get(Wj(t))}catch(e){if(e instanceof Mn)Oa.warn(e.message);else{const n=Ps.create("idb-get",{originalErrorMessage:e?.message});Oa.warn(n.message)}}})).apply(this,arguments)}function zj(t,e){return EC.apply(this,arguments)}function EC(){return(EC=v(function*(t,e){try{const r=(yield Gj()).transaction(Lh,"readwrite");yield r.objectStore(Lh).put(e,Wj(t)),yield r.done}catch(n){if(n instanceof Mn)Oa.warn(n.message);else{const r=Ps.create("idb-set",{originalErrorMessage:n?.message});Oa.warn(r.message)}}})).apply(this,arguments)}function Wj(t){return`${t.name}!${t.options.appId}`}class qle{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Yle(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return v(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=qj();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return v(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=qj(),{heartbeatsToSend:r,unsentEntries:i}=function Kle(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Kj(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Kj(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Gl(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function qj(){return(new Date).toISOString().substring(0,10)}class Yle{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(function*(){return!!Io()&&Wl().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return v(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function Gle(t){return IC.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return zj(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return zj(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function Kj(t){return Gl(JSON.stringify({version:2,heartbeats:t})).length}!function Qle(t){Ar(new Dt("platform-logger",e=>new ule(e),"PRIVATE")),Ar(new Dt("heartbeat",e=>new qle(e),"PRIVATE")),ur(yC,"0.9.19",t),ur(yC,"0.9.19","esm2017"),ur("fire-js","")}(""),ur("firebase","10.4.0","app");const{isArray:eue}=Array,{getPrototypeOf:tue,prototype:nue,keys:rue}=Object;function Yj(t){if(1===t.length){const e=t[0];if(eue(e))return{args:e,keys:null};if(function iue(t){return t&&"object"==typeof t&&tue(t)===nue}(e)){const n=rue(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}const{isArray:sue}=Array;function bC(t){return ee(e=>function oue(t,e){return sue(e)?t(...e):t(e)}(t,e))}function Qj(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function R_(...t){const e=Td(t),n=LO(t),{args:r,keys:i}=Yj(t);if(0===r.length)return hn([],e);const s=new m(function aue(t,e,n=h){return r=>{Xj(e,()=>{const{length:i}=t,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)Xj(e,()=>{const l=hn(t[c],e);let u=!1;l.subscribe(ie(r,d=>{s[c]=d,u||(u=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>Qj(i,o):h));return n?s.pipe(bC(n)):s}function Xj(t,e,n){t?gs(n,t,e):e()}const k_=ma(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function P_(...t){return function cue(){return Wc(1)}()(hn(t,Td(t)))}function Jj(t){return new m(e=>{er(t()).subscribe(e)})}function Yl(t,e){const n=Me(t)?t:()=>t,r=i=>i.error(n());return new m(e?i=>e.schedule(r,0,i):r)}function TC(){return re((t,e)=>{let n=null;t._refCount++;const r=ie(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(n=null);const i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}class Zj extends m{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,we(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new rn;const n=this.getSubject();e.add(this.source.subscribe(ie(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=rn.EMPTY)}return e}refCount(){return TC()(this)}}function bo(t){return t<=0?()=>Mi:re((e,n)=>{let r=0;e.subscribe(ie(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function e$(...t){const e=Td(t);return re((n,r)=>{(e?P_(t,n,e):P_(t,n)).subscribe(r)})}function Gi(t,e){return re((n,r)=>{let i=0;n.subscribe(ie(r,s=>t.call(e,s,i++)&&r.next(s)))})}function O_(t){return re((e,n)=>{let r=!1;e.subscribe(ie(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function t$(t=lue){return re((e,n)=>{let r=!1;e.subscribe(ie(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function lue(){return new k_}function Fa(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Gi((i,s)=>t(i,s,r)):h,bo(1),n?O_(e):t$(()=>new k_))}function Ql(t,e){return Me(e)?dn(t,e,1):dn(t,1)}function Xt(t,e,n){const r=Me(t)||e||n?{next:t,error:e,complete:n}:t;return r?re((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(ie(s,c=>{var l;null===(l=r.next)||void 0===l||l.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var l;a=!1,null===(l=r.error)||void 0===l||l.call(r,c),s.error(c)},()=>{var c,l;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(l=r.finalize)||void 0===l||l.call(r)}))}):h}function To(t){return re((e,n)=>{let s,r=null,i=!1;r=e.subscribe(ie(n,void 0,void 0,o=>{s=er(t(o,To(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function CC(t){return t<=0?()=>Mi:re((e,n)=>{let r=[];e.subscribe(ie(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(const i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function L_(t){return re((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Xl(t){return re((e,n)=>{er(t).subscribe(ie(n,()=>n.complete(),Hc)),!n.closed&&e.subscribe(n)})}const Ie="primary",Fh=Symbol("RouteTitle");class pue{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){const n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}}function Jl(t){return new pue(t)}function gue(t,e,n){const r=n.path.split("/");if(r.length>t.length||"full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=t[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function zi(t,e){const n=t?Object.keys(t):void 0,r=e?Object.keys(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!n$(t[i],e[i]))return!1;return!0}function n$(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;const n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}return t===e}function r$(t){return t.length>0?t[t.length-1]:null}function Co(t){return function Zle(t){return!!t&&(t instanceof m||Me(t.lift)&&Me(t.subscribe))}(t)?t:dh(t)?hn(Promise.resolve(t)):se(t)}const _ue={exact:function o$(t,e,n){if(!Va(t.segments,e.segments)||!F_(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!t.children[r]||!o$(t.children[r],e.children[r],n))return!1;return!0},subset:a$},i$={exact:function yue(t,e){return zi(t,e)},subset:function vue(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>n$(t[n],e[n]))},ignored:()=>!0};function s$(t,e,n){return _ue[n.paths](t.root,e.root,n.matrixParams)&&i$[n.queryParams](t.queryParams,e.queryParams)&&!("exact"===n.fragment&&t.fragment!==e.fragment)}function a$(t,e,n){return c$(t,e,e.segments,n)}function c$(t,e,n,r){if(t.segments.length>n.length){const i=t.segments.slice(0,n.length);return!(!Va(i,n)||e.hasChildren()||!F_(i,n,r))}if(t.segments.length===n.length){if(!Va(t.segments,n)||!F_(t.segments,n,r))return!1;for(const i in e.children)if(!t.children[i]||!a$(t.children[i],e.children[i],r))return!1;return!0}{const i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!!(Va(t.segments,i)&&F_(t.segments,i,r)&&t.children[Ie])&&c$(t.children[Ie],e,s,r)}}function F_(t,e,n){return e.every((r,i)=>i$[n](t[i].parameters,r.parameters))}class Zl{constructor(e=new Je([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jl(this.queryParams)),this._queryParamMap}toString(){return Eue.serialize(this)}}class Je{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return V_(this)}}class Vh{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap||(this._parameterMap=Jl(this.parameters)),this._parameterMap}toString(){return d$(this)}}function Va(t,e){return t.length===e.length&&t.every((n,r)=>n.path===e[r].path)}let Uh=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:function(){return new DC},providedIn:"root"}),e})();class DC{parse(e){const n=new kue(e);return new Zl(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){const n=`/${Bh(e.root,!0)}`,r=function Cue(t){const e=Object.keys(t).map(n=>{const r=t[n];return Array.isArray(r)?r.map(i=>`${U_(n)}=${U_(i)}`).join("&"):`${U_(n)}=${U_(r)}`}).filter(n=>!!n);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${n}${r}${"string"==typeof e.fragment?`#${function bue(t){return encodeURI(t)}(e.fragment)}`:""}`}}const Eue=new DC;function V_(t){return t.segments.map(e=>d$(e)).join("/")}function Bh(t,e){if(!t.hasChildren())return V_(t);if(e){const n=t.children[Ie]?Bh(t.children[Ie],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==Ie&&r.push(`${i}:${Bh(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}{const n=function Iue(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===Ie&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==Ie&&(n=n.concat(e(i,r)))}),n}(t,(r,i)=>i===Ie?[Bh(t.children[Ie],!1)]:[`${i}:${Bh(r,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Ie]?`${V_(t)}/${n[0]}`:`${V_(t)}/(${n.join("//")})`}}function l$(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function U_(t){return l$(t).replace(/%3B/gi,";")}function SC(t){return l$(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function B_(t){return decodeURIComponent(t)}function u$(t){return B_(t.replace(/\+/g,"%20"))}function d$(t){return`${SC(t.path)}${function Tue(t){return Object.keys(t).map(e=>`;${SC(e)}=${SC(t[e])}`).join("")}(t.parameters)}`}const Due=/^[^\/()?;#]+/;function AC(t){const e=t.match(Due);return e?e[0]:""}const Sue=/^[^\/()?;=#]+/,xue=/^[^=?&#]+/,Nue=/^[^&#]+/;class kue{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Je([],{}):new Je([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[Ie]=new Je(e,n)),r}parseSegment(){const e=AC(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new O(4009,!1);return this.capture(e),new Vh(B_(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const n=function Aue(t){const e=t.match(Sue);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const i=AC(this.remaining);i&&(r=i,this.capture(r))}e[B_(n)]=B_(r)}parseQueryParam(e){const n=function Mue(t){const e=t.match(xue);return e?e[0]:""}(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){const o=function Rue(t){const e=t.match(Nue);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=u$(n),s=u$(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=AC(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new O(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=Ie);const o=this.parseChildren();n[s]=1===Object.keys(o).length?o[Ie]:new Je([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new O(4011,!1)}}function h$(t){return t.segments.length>0?new Je([],{[Ie]:t}):t}function f$(t){const e={};for(const r of Object.keys(t.children)){const s=f$(t.children[r]);if(r===Ie&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function Pue(t){if(1===t.numberOfChildren&&t.children[Ie]){const e=t.children[Ie];return new Je(t.segments.concat(e.segments),e.children)}return t}(new Je(t.segments,e))}function Ua(t){return t instanceof Zl}function p$(t){let e;const i=h$(function n(s){const o={};for(const c of s.children){const l=n(c);o[c.outlet]=l}const a=new Je(s.url,o);return s===t&&(e=a),a}(t.root));return e??i}function g$(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(0===e.length)return xC(i,i,i,n,r);const s=function Lue(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new _$(!0,0,t);let e=0,n=!1;const r=t.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,l])=>{a[c]="string"==typeof l?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?n=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new _$(n,e,r)}(e);if(s.toRoot())return xC(i,i,new Je([],{}),n,r);const o=function Fue(t,e,n){if(t.isAbsolute)return new $_(e,!0,0);if(!n)return new $_(e,!1,NaN);if(null===n.parent)return new $_(n,!0,0);const r=j_(t.commands[0])?0:1;return function Vue(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new O(4005,!1);i=r.segments.length}return new $_(r,!1,i-s)}(n,n.segments.length-1+r,t.numberOfDoubleDots)}(s,i,t),a=o.processChildren?$h(o.segmentGroup,o.index,s.commands):y$(o.segmentGroup,o.index,s.commands);return xC(i,o.segmentGroup,a,n,r)}function j_(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function jh(t){return"object"==typeof t&&null!=t&&t.outlets}function xC(t,e,n,r,i){let o,s={};r&&Object.entries(r).forEach(([c,l])=>{s[c]=Array.isArray(l)?l.map(u=>`${u}`):`${l}`}),o=t===e?n:m$(t,e,n);const a=h$(f$(o));return new Zl(a,s,i)}function m$(t,e,n){const r={};return Object.entries(t.children).forEach(([i,s])=>{r[i]=s===e?n:m$(s,e,n)}),new Je(t.segments,r)}class _${constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&j_(r[0]))throw new O(4003,!1);const i=r.find(jh);if(i&&i!==r$(r))throw new O(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class $_{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}}function y$(t,e,n){if(t||(t=new Je([],{})),0===t.segments.length&&t.hasChildren())return $h(t,e,n);const r=function Bue(t,e,n){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;const o=t.segments[i],a=n[r];if(jh(a))break;const c=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===c)break;if(c&&l&&"object"==typeof l&&void 0===l.outlets){if(!w$(c,l,o))return s;r+=2}else{if(!w$(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){const s=new Je(t.segments.slice(0,r.pathIndex),{});return s.children[Ie]=new Je(t.segments.slice(r.pathIndex),t.children),$h(s,0,i)}return r.match&&0===i.length?new Je(t.segments,{}):r.match&&!t.hasChildren()?MC(t,e,n):r.match?$h(t,0,i):MC(t,e,n)}function $h(t,e,n){if(0===n.length)return new Je(t.segments,{});{const r=function Uue(t){return jh(t[0])?t[0].outlets:{[Ie]:t}}(n),i={};if(Object.keys(r).some(s=>s!==Ie)&&t.children[Ie]&&1===t.numberOfChildren&&0===t.children[Ie].segments.length){const s=$h(t.children[Ie],e,n);return new Je(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=y$(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new Je(t.segments,i)}}function MC(t,e,n){const r=t.segments.slice(0,e);let i=0;for(;i<n.length;){const s=n[i];if(jh(s)){const c=jue(s.outlets);return new Je(r,c)}if(0===i&&j_(n[0])){r.push(new Vh(t.segments[e].path,v$(n[0]))),i++;continue}const o=jh(s)?s.outlets[Ie]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&j_(a)?(r.push(new Vh(o,v$(a))),i+=2):(r.push(new Vh(o,{})),i++)}return new Je(r,{})}function jue(t){const e={};return Object.entries(t).forEach(([n,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[n]=MC(new Je([],{}),0,r))}),e}function v$(t){const e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function w$(t,e,n){return t==n.path&&zi(e,n.parameters)}const Hh="imperative";class Wi{constructor(e,n){this.id=e,this.url=n}}class H_ extends Wi{constructor(e,n,r="imperative",i=null){super(e,n),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Do extends Wi{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gh extends Wi{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class eu extends Wi{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=16}}class G_ extends Wi{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class I$ extends Wi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $ue extends Wi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Hue extends Wi{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Gue extends Wi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class zue extends Wi{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Wue{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class que{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Kue{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Yue{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Que{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Xue{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class E${constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class NC{}class RC{constructor(e){this.url=e}}class Jue{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new zh,this.attachRef=null}}let zh=(()=>{var t;class e{constructor(){this.contexts=new Map}onChildOutletCreated(r,i){const s=this.getOrCreateContext(r);s.outlet=i,this.contexts.set(r,s)}onChildOutletDestroyed(r){const i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){const r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Jue,this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();class b${constructor(e){this._root=e}get root(){return this._root.value}parent(e){const n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){const n=kC(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){const n=kC(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){const n=PC(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return PC(e,this._root).map(n=>n.value)}}function kC(t,e){if(t===e.value)return e;for(const n of e.children){const r=kC(t,n);if(r)return r}return null}function PC(t,e){if(t===e.value)return[e];for(const n of e.children){const r=PC(t,n);if(r.length)return r.unshift(e),r}return[]}class Os{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}}function tu(t){const e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}class T$ extends b${constructor(e,n){super(e),this.snapshot=n,OC(this,e)}toString(){return this.snapshot.toString()}}function C$(t,e){const n=function Zue(t,e){const o=new z_([],{},{},"",{},Ie,e,null,{});return new S$("",new Os(o,[]))}(0,e),r=new yr([new Vh("",{})]),i=new yr({}),s=new yr({}),o=new yr({}),a=new yr(""),c=new So(r,i,o,a,s,Ie,e,n.root);return c.snapshot=n.root,new T$(new Os(c,[]),n)}class So{constructor(e,n,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(ee(l=>l[Fh]))??se(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(ee(e=>Jl(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(ee(e=>Jl(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function D$(t,e="emptyOnly"){const n=t.pathFromRoot;let r=0;if("always"!==e)for(r=n.length-1;r>=1;){const i=n[r],s=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function ede(t){return t.reduce((e,n)=>({params:{...e.params,...n.params},data:{...e.data,...n.data},resolve:{...n.data,...e.resolve,...n.routeConfig?.data,...n._resolvedData}}),{params:{},data:{},resolve:{}})}(n.slice(r))}class z_{get title(){return this.data?.[Fh]}constructor(e,n,r,i,s,o,a,c,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Jl(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Jl(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class S$ extends b${constructor(e,n){super(n),this.url=e,OC(this,n)}toString(){return A$(this._root)}}function OC(t,e){e.value._routerState=t,e.children.forEach(n=>OC(t,n))}function A$(t){const e=t.children.length>0?` { ${t.children.map(A$).join(", ")} } `:"";return`${t.value}${e}`}function LC(t){if(t.snapshot){const e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,zi(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),zi(e.params,n.params)||t.paramsSubject.next(n.params),function mue(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!zi(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.urlSubject.next(n.url),zi(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function FC(t,e){const n=zi(t.params,e.params)&&function wue(t,e){return Va(t,e)&&t.every((n,r)=>zi(n.parameters,e[r].parameters))}(t.url,e.url);return n&&!(!t.parent!=!e.parent)&&(!t.parent||FC(t.parent,e.parent))}let VC=(()=>{var t;class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=Ie,this.activateEvents=new nt,this.deactivateEvents=new nt,this.attachEvents=new nt,this.detachEvents=new nt,this.parentContexts=K(zh),this.location=K(_i),this.changeDetector=K(Ch),this.environmentInjector=K(Zr),this.inputBinder=K(W_,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){const{firstChange:i,previousValue:s}=r.name;if(i)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new O(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new O(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new O(4012,!1);this.location.detach();const r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){const r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new O(4013,!1);this._activatedRoute=r;const s=this.location,a=r.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,l=new tde(r,c,s.injector);this.activated=s.createComponent(a,{index:s.length,injector:l,environmentInjector:i??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=ae({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Xr]}),e})();class tde{constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===So?this.route:e===zh?this.childContexts:this.parent.get(e,n)}}const W_=new V("");let x$=(()=>{var t;class e{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(r){this.unsubscribeFromRouteData(r),this.subscribeToRouteData(r)}unsubscribeFromRouteData(r){this.outletDataSubscriptions.get(r)?.unsubscribe(),this.outletDataSubscriptions.delete(r)}subscribeToRouteData(r){const{activatedRoute:i}=r,s=R_([i.queryParams,i.params,i.data]).pipe(Ni(([o,a,c],l)=>(c={...o,...a,...c},0===l?se(c):Promise.resolve(c)))).subscribe(o=>{if(!r.isActivated||!r.activatedComponentRef||r.activatedRoute!==i||null===i.component)return void this.unsubscribeFromRouteData(r);const a=function eoe(t){const e=ke(t);if(!e)return null;const n=new oh(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(i.component);if(a)for(const{templateName:c}of a.inputs)r.activatedComponentRef.setInput(c,o[c]);else this.unsubscribeFromRouteData(r)});this.outletDataSubscriptions.set(r,s)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac}),e})();function Wh(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){const r=n.value;r._futureSnapshot=e.value;const i=function rde(t,e,n){return e.children.map(r=>{for(const i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Wh(t,r,i);return Wh(t,r)})}(t,e,n);return new Os(r,i)}{if(t.shouldAttach(e.value)){const s=t.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>Wh(t,a)),o}}const r=function ide(t){return new So(new yr(t.url),new yr(t.params),new yr(t.queryParams),new yr(t.fragment),new yr(t.data),t.outlet,t.component,t)}(e.value),i=e.children.map(s=>Wh(t,s));return new Os(r,i)}}const UC="ngNavigationCancelingError";function M$(t,e){const{redirectTo:n,navigationBehaviorOptions:r}=Ua(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=N$(!1,0,e);return i.url=n,i.navigationBehaviorOptions=r,i}function N$(t,e,n){const r=new Error("NavigationCancelingError: "+(t||""));return r[UC]=!0,r.cancellationCode=e,n&&(r.url=n),r}function R$(t){return t&&t[UC]}let k$=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Yr({type:t,selectors:[["ng-component"]],standalone:!0,features:[l3],decls:1,vars:0,template:function(r,i){1&r&&be(0,"router-outlet")},dependencies:[VC],encapsulation:2}),e})();function BC(t){const e=t.children&&t.children.map(BC),n=e?{...t,children:e}:{...t};return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==Ie&&(n.component=k$),n}function wi(t){return t.outlet||Ie}function qh(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){const n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}class hde{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),LC(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){const i=tu(n);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=tu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){const r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=tu(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){const i=tu(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Xue(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Yue(e.value.snapshot))}activateRoutes(e,n,r){const i=e.value,s=n?n.value:null;if(LC(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),LC(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=qh(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class P${constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class q_{constructor(e,n){this.component=e,this.route=n}}function fde(t,e,n){const r=t._root;return Kh(r,e?e._root:null,n,[r.value])}function nu(t,e){const n=Symbol(),r=e.get(t,n);return r===n?"function"!=typeof t||function uQ(t){return null!==Ng(t)}(t)?e.get(t):t:r}function Kh(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=tu(e);return t.children.forEach(o=>{(function gde(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function mde(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Va(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Va(t.url,e.url)||!zi(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!FC(t,e)||!zi(t.queryParams,e.queryParams);default:return!FC(t,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new P$(r)):(s.data=o.data,s._resolvedData=o._resolvedData),Kh(t,e,s.component?a?a.children:null:n,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new q_(a.outlet.component,o))}else o&&Yh(e,a,i),i.canActivateChecks.push(new P$(r)),Kh(t,null,s.component?a?a.children:null:n,r,i)})(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>Yh(a,n.getContext(o),i)),i}function Yh(t,e,n){const r=tu(t),i=t.value;Object.entries(r).forEach(([s,o])=>{Yh(o,i.component?e?e.children.getContext(s):null:e,n)}),n.canDeactivateChecks.push(new q_(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Qh(t){return"function"==typeof t}function O$(t){return t instanceof k_||"EmptyError"===t?.name}const K_=Symbol("INITIAL_VALUE");function ru(){return Ni(t=>R_(t.map(e=>e.pipe(bo(1),e$(K_)))).pipe(ee(e=>{for(const n of e)if(!0!==n){if(n===K_)return K_;if(!1===n||n instanceof Zl)return n}return!0}),Gi(e=>e!==K_),bo(1)))}function L$(t){return function p(...t){return y(t)}(Xt(e=>{if(Ua(e))throw M$(0,e)}),ee(e=>!0===e))}class Y_{constructor(e){this.segmentGroup=e||null}}class F${constructor(e){this.urlTree=e}}function iu(t){return Yl(new Y_(t))}function V$(t){return Yl(new F$(t))}class Lde{constructor(e,n){this.urlSerializer=e,this.urlTree=n}noMatchError(e){return new O(4002,!1)}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return se(r);if(i.numberOfChildren>1||!i.children[Ie])return Yl(new O(4e3,!1));i=i.children[Ie]}}applyRedirectCommands(e,n,r){return this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r)}applyRedirectCreateUrlTree(e,n,r,i){const s=this.createSegmentGroup(e,n.root,r,i);return new Zl(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){const s=this.createSegments(e,n.segments,r,i);let o={};return Object.entries(n.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new Je(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){const i=r[n.path.substring(1)];if(!i)throw new O(4001,!1);return i}findOrReturn(e,n){let r=0;for(const i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}}const jC={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Fde(t,e,n,r,i){const s=$C(t,e,n);return s.matched?(r=function ode(t,e){return t.providers&&!t._injector&&(t._injector=Jb(t.providers,e,`Route: ${t.path}`)),t._injector??e}(e,r),function kde(t,e,n,r){const i=e.canMatch;return i&&0!==i.length?se(i.map(o=>{const a=nu(o,t);return Co(function Ede(t){return t&&Qh(t.canMatch)}(a)?a.canMatch(e,n):t.runInContext(()=>a(e,n)))})).pipe(ru(),L$()):se(!0)}(r,e,n).pipe(ee(o=>!0===o?s:{...jC}))):se(s)}function $C(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{...jC}:{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};const i=(e.matcher||gue)(n,t,e);if(!i)return{...jC};const s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function U$(t,e,n,r){return n.length>0&&function Bde(t,e,n){return n.some(r=>Q_(t,e,r)&&wi(r)!==Ie)}(t,n,r)?{segmentGroup:new Je(e,Ude(r,new Je(n,t.children))),slicedSegments:[]}:0===n.length&&function jde(t,e,n){return n.some(r=>Q_(t,e,r))}(t,n,r)?{segmentGroup:new Je(t.segments,Vde(t,0,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Je(t.segments,t.children),slicedSegments:n}}function Vde(t,e,n,r,i){const s={};for(const o of r)if(Q_(t,n,o)&&!i[wi(o)]){const a=new Je([],{});s[wi(o)]=a}return{...i,...s}}function Ude(t,e){const n={};n[Ie]=e;for(const r of t)if(""===r.path&&wi(r)!==Ie){const i=new Je([],{});n[wi(r)]=i}return n}function Q_(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path}class zde{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new Lde(this.urlSerializer,this.urlTree)}noMatchError(e){return new O(4002,!1)}recognize(){const e=U$(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,Ie).pipe(To(n=>{if(n instanceof F$)return this.allowRedirects=!1,this.urlTree=n.urlTree,this.match(n.urlTree);throw n instanceof Y_?this.noMatchError(n):n}),ee(n=>{const r=new z_([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Ie,this.rootComponentType,null,{}),i=new Os(r,n),s=new S$("",i),o=function Oue(t,e,n=null,r=null){return g$(p$(t),e,n,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,Ie).pipe(To(r=>{throw r instanceof Y_?this.noMatchError(r):r}))}inheritParamsAndData(e){const n=e.value,r=D$(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,n,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,n,r):this.processSegment(e,n,r,r.segments,i,!0)}processChildren(e,n,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return hn(i).pipe(Ql(s=>{const o=r.children[s],a=function ude(t,e){const n=t.filter(r=>wi(r)===e);return n.push(...t.filter(r=>wi(r)!==e)),n}(n,s);return this.processSegmentGroup(e,a,o,s)}),function due(t,e){return re(function uue(t,e,n,r,i){return(s,o)=>{let a=n,c=e,l=0;s.subscribe(ie(o,u=>{const d=l++;c=a?t(c,u,d):(a=!0,u),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(t,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),O_(null),function hue(t,e){const n=arguments.length>=2;return r=>r.pipe(t?Gi((i,s)=>t(i,s,r)):h,CC(1),n?O_(e):t$(()=>new k_))}(),dn(s=>{if(null===s)return iu(r);const o=B$(s);return function Wde(t){t.sort((e,n)=>e.value.outlet===Ie?-1:n.value.outlet===Ie?1:e.value.outlet.localeCompare(n.value.outlet))}(o),se(o)}))}processSegment(e,n,r,i,s,o){return hn(n).pipe(Ql(a=>this.processSegmentAgainstRoute(a._injector??e,n,a,r,i,s,o).pipe(To(c=>{if(c instanceof Y_)return se(null);throw c}))),Fa(a=>!!a),To(a=>{if(O$(a))return function Hde(t,e,n){return 0===e.length&&!t.children[n]}(r,i,s)?se([]):iu(r);throw a}))}processSegmentAgainstRoute(e,n,r,i,s,o,a){return function $de(t,e,n,r){return!!(wi(t)===r||r!==Ie&&Q_(e,n,t))&&("**"===t.path||$C(e,t,n).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o):iu(i):iu(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?V$(s):this.applyRedirects.lineralizeSegments(r,s).pipe(dn(o=>{const a=new Je(o,{});return this.processSegment(e,n,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o){const{matched:a,consumedSegments:c,remainingSegments:l,positionalParamSegments:u}=$C(n,i,s);if(!a)return iu(n);const d=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,u);return i.redirectTo.startsWith("/")?V$(d):this.applyRedirects.lineralizeSegments(i,d).pipe(dn(f=>this.processSegment(e,r,n,f.concat(l),o,!1)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a;if("**"===r.path){const c=i.length>0?r$(i).parameters:{};a=se({snapshot:new z_(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,j$(r),wi(r),r.component??r._loadedComponent??null,r,$$(r)),consumedSegments:[],remainingSegments:[]}),n.children={}}else a=Fde(n,r,i,e).pipe(ee(({matched:c,consumedSegments:l,remainingSegments:u,parameters:d})=>c?{snapshot:new z_(l,d,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,j$(r),wi(r),r.component??r._loadedComponent??null,r,$$(r)),consumedSegments:l,remainingSegments:u}:null));return a.pipe(Ni(c=>null===c?iu(n):this.getChildConfig(e=r._injector??e,r,i).pipe(Ni(({routes:l})=>{const u=r._loadedInjector??e,{snapshot:d,consumedSegments:f,remainingSegments:g}=c,{segmentGroup:_,slicedSegments:w}=U$(n,f,g,l);if(0===w.length&&_.hasChildren())return this.processChildren(u,l,_).pipe(ee(T=>null===T?null:[new Os(d,T)]));if(0===l.length&&0===w.length)return se([new Os(d,[])]);const I=wi(r)===s;return this.processSegment(u,l,_,w,I?Ie:s,!0).pipe(ee(T=>[new Os(d,T)]))}))))}getChildConfig(e,n,r){return n.children?se({routes:n.children,injector:e}):n.loadChildren?void 0!==n._loadedRoutes?se({routes:n._loadedRoutes,injector:n._loadedInjector}):function Rde(t,e,n,r){const i=e.canLoad;return void 0===i||0===i.length?se(!0):se(i.map(o=>{const a=nu(o,t);return Co(function yde(t){return t&&Qh(t.canLoad)}(a)?a.canLoad(e,n):t.runInContext(()=>a(e,n)))})).pipe(ru(),L$())}(e,n,r).pipe(dn(i=>i?this.configLoader.loadChildren(e,n).pipe(Xt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):function Ode(t){return Yl(N$(!1,3))}())):se({routes:[],injector:e})}}function qde(t){const e=t.value.routeConfig;return e&&""===e.path}function B$(t){const e=[],n=new Set;for(const r of t){if(!qde(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),n.add(i)):e.push(r)}for(const r of n){const i=B$(r.children);e.push(new Os(r.value,i))}return e.filter(r=>!n.has(r))}function j$(t){return t.data||{}}function $$(t){return t.resolve||{}}function H$(t){return"string"==typeof t.title||null===t.title}function HC(t){return Ni(e=>{const n=t(e);return n?hn(n).pipe(ee(()=>e)):se(e)})}const su=new V("ROUTES");let GC=(()=>{var t;class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=K(tB)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return se(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);const i=Co(r.loadComponent()).pipe(ee(G$),Xt(o=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=o}),L_(()=>{this.componentLoaders.delete(r)})),s=new Zj(i,()=>new F).pipe(TC());return this.componentLoaders.set(r,s),s}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return se({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);const o=function ehe(t,e,n,r){return Co(t.loadChildren()).pipe(ee(G$),dn(i=>i instanceof a3||Array.isArray(i)?se(i):hn(e.compileModuleAsync(i))),ee(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(n).injector,o=s.get(su,[],{optional:!0,self:!0}).flat()),{routes:o.map(BC),injector:s}}))}(i,this.compiler,r,this.onLoadEndListener).pipe(L_(()=>{this.childrenLoaders.delete(i)})),a=new Zj(o,()=>new F).pipe(TC());return this.childrenLoaders.set(i,a),a}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function G$(t){return function the(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let X_=(()=>{var t;class e{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new F,this.transitionAbortSubject=new F,this.configLoader=K(GC),this.environmentInjector=K(Zr),this.urlSerializer=K(Uh),this.rootContexts=K(zh),this.inputBindingEnabled=null!==K(W_,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>se(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new que(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new Wue(s))}complete(){this.transitions?.complete()}handleNavigationRequest(r){const i=++this.navigationId;this.transitions?.next({...this.transitions.value,...r,id:i})}setupNavigations(r,i,s){return this.transitions=new yr({id:0,currentUrlTree:i,currentRawUrl:i,currentBrowserUrl:i,extractedUrl:r.urlHandlingStrategy.extract(i),urlAfterRedirects:r.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Hh,restoredState:null,currentSnapshot:s.snapshot,targetSnapshot:null,currentRouterState:s,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Gi(o=>0!==o.id),ee(o=>({...o,extractedUrl:r.urlHandlingStrategy.extract(o.rawUrl)})),Ni(o=>{this.currentTransition=o;let a=!1,c=!1;return se(o).pipe(Xt(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ni(l=>{const u=l.currentBrowserUrl.toString(),d=!r.navigated||l.extractedUrl.toString()!==u||u!==l.currentUrlTree.toString();if(!d&&"reload"!==(l.extras.onSameUrlNavigation??r.onSameUrlNavigation)){const g="";return this.events.next(new eu(l.id,this.urlSerializer.serialize(l.rawUrl),g,0)),l.resolve(null),Mi}if(r.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return se(l).pipe(Ni(g=>{const _=this.transitions?.getValue();return this.events.next(new H_(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),_!==this.transitions?.getValue()?Mi:Promise.resolve(g)}),function Kde(t,e,n,r,i,s){return dn(o=>function Gde(t,e,n,r,i,s,o="emptyOnly"){return new zde(t,e,n,r,i,o,s).recognize()}(t,e,n,r,o.extractedUrl,i,s).pipe(ee(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,r.paramsInheritanceStrategy),Xt(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:g.urlAfterRedirects};const _=new I$(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}));if(d&&r.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:g,extractedUrl:_,source:w,restoredState:I,extras:T}=l,E=new H_(g,this.urlSerializer.serialize(_),w,I);this.events.next(E);const N=C$(0,this.rootComponentType).snapshot;return this.currentTransition=o={...l,targetSnapshot:N,urlAfterRedirects:_,extras:{...T,skipLocationChange:!1,replaceUrl:!1}},se(o)}{const g="";return this.events.next(new eu(l.id,this.urlSerializer.serialize(l.extractedUrl),g,1)),l.resolve(null),Mi}}),Xt(l=>{const u=new $ue(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),ee(l=>(this.currentTransition=o={...l,guards:fde(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},o)),function Tde(t,e){return dn(n=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return 0===o.length&&0===s.length?se({...n,guardsResult:!0}):function Cde(t,e,n,r){return hn(t).pipe(dn(i=>function Nde(t,e,n,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?se(s.map(a=>{const c=qh(e)??i,l=nu(a,c);return Co(function Ide(t){return t&&Qh(t.canDeactivate)}(l)?l.canDeactivate(t,e,n,r):c.runInContext(()=>l(t,e,n,r))).pipe(Fa())})).pipe(ru()):se(!0)}(i.component,i.route,n,e,r)),Fa(i=>!0!==i,!0))}(o,r,i,t).pipe(dn(a=>a&&function _de(t){return"boolean"==typeof t}(a)?function Dde(t,e,n,r){return hn(e).pipe(Ql(i=>P_(function Ade(t,e){return null!==t&&e&&e(new Kue(t)),se(!0)}(i.route.parent,r),function Sde(t,e){return null!==t&&e&&e(new Que(t)),se(!0)}(i.route,r),function Mde(t,e,n){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function pde(t){const e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(o)).filter(o=>null!==o).map(o=>Jj(()=>se(o.guards.map(c=>{const l=qh(o.node)??n,u=nu(c,l);return Co(function wde(t){return t&&Qh(t.canActivateChild)}(u)?u.canActivateChild(r,t):l.runInContext(()=>u(r,t))).pipe(Fa())})).pipe(ru())));return se(s).pipe(ru())}(t,i.path,n),function xde(t,e,n){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return se(!0);const i=r.map(s=>Jj(()=>{const o=qh(e)??n,a=nu(s,o);return Co(function vde(t){return t&&Qh(t.canActivate)}(a)?a.canActivate(e,t):o.runInContext(()=>a(e,t))).pipe(Fa())}));return se(i).pipe(ru())}(t,i.route,n))),Fa(i=>!0!==i,!0))}(r,s,t,e):se(a)),ee(a=>({...n,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),Xt(l=>{if(o.guardsResult=l.guardsResult,Ua(l.guardsResult))throw M$(0,l.guardsResult);const u=new Hue(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Gi(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),HC(l=>{if(l.guards.canActivateChecks.length)return se(l).pipe(Xt(u=>{const d=new Gue(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Ni(u=>{let d=!1;return se(u).pipe(function Yde(t,e){return dn(n=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return se(n);let s=0;return hn(i).pipe(Ql(o=>function Qde(t,e,n,r){const i=t.routeConfig,s=t._resolve;return void 0!==i?.title&&!H$(i)&&(s[Fh]=i.title),function Xde(t,e,n,r){const i=function Jde(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}(t);if(0===i.length)return se({});const s={};return hn(i).pipe(dn(o=>function Zde(t,e,n,r){const i=qh(e)??r,s=nu(t,i);return Co(s.resolve?s.resolve(e,n):i.runInContext(()=>s(e,n)))}(t[o],e,n,r).pipe(Fa(),Xt(a=>{s[o]=a}))),CC(1),function fue(t){return ee(()=>t)}(s),To(o=>O$(o)?Mi:Yl(o)))}(s,t,e,r).pipe(ee(o=>(t._resolvedData=o,t.data=D$(t,n).resolve,i&&H$(i)&&(t.data[Fh]=i.title),null)))}(o.route,r,t,e)),Xt(()=>s++),CC(1),dn(o=>s===i.length?se(n):Mi))})}(r.paramsInheritanceStrategy,this.environmentInjector),Xt({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",2)}}))}),Xt(u=>{const d=new zue(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),HC(l=>{const u=d=>{const f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Xt(g=>{d.component=g}),ee(()=>{})));for(const g of d.children)f.push(...u(g));return f};return R_(u(l.targetSnapshot.root)).pipe(O_(),bo(1))}),HC(()=>this.afterPreactivation()),ee(l=>{const u=function nde(t,e,n){const r=Wh(t,e._root,n?n._root:void 0);return new T$(r,e)}(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=o={...l,targetRouterState:u},o}),Xt(()=>{this.events.next(new NC)}),((t,e,n,r)=>ee(i=>(new hde(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)))(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),bo(1),Xt({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Do(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),r.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),Xl(this.transitionAbortSubject.pipe(Xt(l=>{throw l}))),L_(()=>{a||c||this.cancelNavigationTransition(o,"",1),this.currentNavigation?.id===o.id&&(this.currentNavigation=null)}),To(l=>{if(c=!0,R$(l))this.events.next(new Gh(o.id,this.urlSerializer.serialize(o.extractedUrl),l.message,l.cancellationCode)),function sde(t){return R$(t)&&Ua(t.url)}(l)?this.events.next(new RC(l.url)):o.resolve(!1);else{this.events.next(new G_(o.id,this.urlSerializer.serialize(o.extractedUrl),l,o.targetSnapshot??void 0));try{o.resolve(r.errorHandler(l))}catch(u){o.reject(u)}}return Mi}))}))}cancelNavigationTransition(r,i,s){const o=new Gh(r.id,this.urlSerializer.serialize(r.extractedUrl),i,s);this.events.next(o),r.resolve(!1)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function z$(t){return t!==Hh}let W$=(()=>{var t;class e{buildTitle(r){let i,s=r.root;for(;void 0!==s;)i=this.getResolvedTitleForRoute(s)??i,s=s.children.find(o=>o.outlet===Ie);return i}getResolvedTitleForRoute(r){return r.data[Fh]}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:function(){return K(nhe)},providedIn:"root"}),e})(),nhe=(()=>{var t;class e extends W${constructor(r){super(),this.title=r}updateTitle(r){const i=this.buildTitle(r);void 0!==i&&this.title.setTitle(i)}}return(t=e).\u0275fac=function(r){return new(r||t)(j(wj))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),rhe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:function(){return K(she)},providedIn:"root"}),e})();class ihe{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}}let she=(()=>{var t;class e extends ihe{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=fn(t)))(i||t)}}(),t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const J_=new V("",{providedIn:"root",factory:()=>({})});let ohe=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:function(){return K(ahe)},providedIn:"root"}),e})(),ahe=(()=>{var t;class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();var Xh=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Xh||{});function q$(t,e){t.events.pipe(Gi(n=>n instanceof Do||n instanceof Gh||n instanceof G_||n instanceof eu),ee(n=>n instanceof Do||n instanceof eu?Xh.COMPLETE:n instanceof Gh&&(0===n.code||1===n.code)?Xh.REDIRECTING:Xh.FAILED),Gi(n=>n!==Xh.REDIRECTING),bo(1)).subscribe(()=>{e()})}function che(t){throw t}function lhe(t,e,n){return e.parse("/")}const uhe={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},dhe={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $r=(()=>{var t;class e{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=K(Z3),this.isNgZoneEnabled=!1,this._events=new F,this.options=K(J_,{optional:!0})||{},this.pendingTasks=K(eB),this.errorHandler=this.options.errorHandler||che,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||lhe,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=K(ohe),this.routeReuseStrategy=K(rhe),this.titleStrategy=K(W$),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=K(su,{optional:!0})?.flat()??[],this.navigationTransitions=K(X_),this.urlSerializer=K(Uh),this.location=K(MT),this.componentInputBindingEnabled=!!K(W_,{optional:!0}),this.eventsSubscription=new rn,this.isNgZoneEnabled=K(Ne)instanceof Ne&&Ne.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Zl,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=C$(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(r=>{this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId},r=>{this.console.warn(`Unhandled Navigation Error: ${r}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const r=this.navigationTransitions.events.subscribe(i=>{try{const{currentTransition:s}=this.navigationTransitions;if(null===s)return void(K$(i)&&this._events.next(i));if(i instanceof H_)z$(s.source)&&(this.browserUrlTree=s.extractedUrl);else if(i instanceof eu)this.rawUrlTree=s.rawUrl;else if(i instanceof I$){if("eager"===this.urlUpdateStrategy){if(!s.extras.skipLocationChange){const o=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl);this.setBrowserUrl(o,s)}this.browserUrlTree=s.urlAfterRedirects}}else if(i instanceof NC)this.currentUrlTree=s.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(s.urlAfterRedirects,s.rawUrl),this.routerState=s.targetRouterState,"deferred"===this.urlUpdateStrategy&&(s.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,s),this.browserUrlTree=s.urlAfterRedirects);else if(i instanceof Gh)0!==i.code&&1!==i.code&&(this.navigated=!0),(3===i.code||2===i.code)&&this.restoreHistory(s);else if(i instanceof RC){const o=this.urlHandlingStrategy.merge(i.url,s.currentRawUrl),a={skipLocationChange:s.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||z$(s.source)};this.scheduleNavigation(o,Hh,null,a,{resolve:s.resolve,reject:s.reject,promise:s.promise})}i instanceof G_&&this.restoreHistory(s,!0),i instanceof Do&&(this.navigated=!0),K$(i)&&this._events.next(i)}catch(s){this.navigationTransitions.transitionAbortSubject.next(s)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const r=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),Hh,r)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(r=>{const i="popstate"===r.type?"popstate":"hashchange";"popstate"===i&&setTimeout(()=>{this.navigateToSyncWithBrowser(r.url,i,r.state)},0)}))}navigateToSyncWithBrowser(r,i,s){const o={replaceUrl:!0},a=s?.navigationId?s:null;if(s){const l={...s};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(o.state=l)}const c=this.parseUrl(r);this.scheduleNavigation(c,i,a,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(BC),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){const{relativeTo:s,queryParams:o,fragment:a,queryParamsHandling:c,preserveFragment:l}=i,u=l?this.currentUrlTree.fragment:a;let f,d=null;switch(c){case"merge":d={...this.currentUrlTree.queryParams,...o};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=o||null}null!==d&&(d=this.removeEmptyProps(d));try{f=p$(s?s.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof r[0]||!r[0].startsWith("/"))&&(r=[]),f=this.currentUrlTree.root}return g$(f,r,d,u??null)}navigateByUrl(r,i={skipLocationChange:!1}){const s=Ua(r)?r:this.parseUrl(r),o=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(o,Hh,null,i)}navigate(r,i={skipLocationChange:!1}){return function hhe(t){for(let e=0;e<t.length;e++)if(null==t[e])throw new O(4008,!1)}(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){let i;try{i=this.urlSerializer.parse(r)}catch(s){i=this.malformedUriErrorHandler(s,this.urlSerializer,r)}return i}isActive(r,i){let s;if(s=!0===i?{...uhe}:!1===i?{...dhe}:i,Ua(r))return s$(this.currentUrlTree,r,s);const o=this.parseUrl(r);return s$(this.currentUrlTree,o,s)}removeEmptyProps(r){return Object.keys(r).reduce((i,s)=>{const o=r[s];return null!=o&&(i[s]=o),i},{})}scheduleNavigation(r,i,s,o,a){if(this.disposed)return Promise.resolve(!1);let c,l,u;a?(c=a.resolve,l=a.reject,u=a.promise):u=new Promise((f,g)=>{c=f,l=g});const d=this.pendingTasks.add();return q$(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:r,extras:o,resolve:c,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}setBrowserUrl(r,i){const s=this.urlSerializer.serialize(r);if(this.location.isCurrentPathEqualTo(s)||i.extras.replaceUrl){const a={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId)};this.location.replaceState(s,"",a)}else{const o={...i.extras.state,...this.generateNgRouterState(i.id,this.browserPageId+1)};this.location.go(s,"",o)}}restoreHistory(r,i=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-this.browserPageId;0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(r),this.browserUrlTree=r.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=r.currentRouterState,this.currentUrlTree=r.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return"computed"===this.canceledNavigationResolution?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function K$(t){return!(t instanceof NC||t instanceof RC)}class Y${}let ghe=(()=>{var t;class e{constructor(r,i,s,o,a){this.router=r,this.injector=s,this.preloadingStrategy=o,this.loader=a}setUpPreloading(){this.subscription=this.router.events.pipe(Gi(r=>r instanceof Do),Ql(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(r,i){const s=[];for(const o of i){o.providers&&!o._injector&&(o._injector=Jb(o.providers,r,`Route: ${o.path}`));const a=o._injector??r,c=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&s.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&s.push(this.processRoutes(c,o.children??o._loadedRoutes))}return hn(s).pipe(Wc())}preloadConfig(r,i){return this.preloadingStrategy.preload(i,()=>{let s;s=i.loadChildren&&void 0===i.canLoad?this.loader.loadChildren(r,i):se(null);const o=s.pipe(dn(a=>null===a?se(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??r,a.routes))));return i.loadComponent&&!i._loadedComponent?hn([o,this.loader.loadComponent(i)]).pipe(Wc()):o})}}return(t=e).\u0275fac=function(r){return new(r||t)(j($r),j(tB),j(Zr),j(Y$),j(GC))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();const WC=new V("");let Q$=(()=>{var t;class e{constructor(r,i,s,o,a={}){this.urlSerializer=r,this.transitions=i,this.viewportScroller=s,this.zone=o,this.options=a,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},a.scrollPositionRestoration=a.scrollPositionRestoration||"disabled",a.anchorScrolling=a.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof H_?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=r.navigationTrigger,this.restoredId=r.restoredState?r.restoredState.navigationId:0):r instanceof Do?(this.lastId=r.id,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.urlAfterRedirects).fragment)):r instanceof eu&&0===r.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(r,this.urlSerializer.parse(r.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(r=>{r instanceof E$&&(r.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(r.position):r.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(r.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(r,i){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new E$(r,"popstate"===this.lastSource?this.store[this.restoredId]:null,i))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return(t=e).\u0275fac=function(r){!function mb(){throw new Error("invalid")}()},t.\u0275prov=J({token:t,factory:t.\u0275fac}),e})();function Ls(t,e){return{\u0275kind:t,\u0275providers:e}}function J$(){const t=K(gn);return e=>{const n=t.get(Bl);if(e!==n.components[0])return;const r=t.get($r),i=t.get(Z$);1===t.get(qC)&&r.initialNavigation(),t.get(e4,null,Ae.Optional)?.setUpPreloading(),t.get(WC,null,Ae.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const Z$=new V("",{factory:()=>new F}),qC=new V("",{providedIn:"root",factory:()=>1}),e4=new V("");function vhe(t){return Ls(0,[{provide:e4,useExisting:ghe},{provide:Y$,useExisting:t}])}const t4=new V("ROUTER_FORROOT_GUARD"),Ihe=[MT,{provide:Uh,useClass:DC},$r,zh,{provide:So,useFactory:function X$(t){return t.routerState.root},deps:[$r]},GC,[]];function Ehe(){return new cB("Router",$r)}let n4=(()=>{var t;class e{constructor(r){}static forRoot(r,i){return{ngModule:e,providers:[Ihe,[],{provide:su,multi:!0,useValue:r},{provide:t4,useFactory:Dhe,deps:[[$r,new Pt,new Gd]]},{provide:J_,useValue:i||{}},i?.useHash?{provide:Ra,useClass:soe}:{provide:Ra,useClass:VB},{provide:WC,useFactory:()=>{const t=K(Tae),e=K(Ne),n=K(J_),r=K(X_),i=K(Uh);return n.scrollOffset&&t.setOffset(n.scrollOffset),new Q$(i,r,t,e,n)}},i?.preloadingStrategy?vhe(i.preloadingStrategy).\u0275providers:[],{provide:cB,multi:!0,useFactory:Ehe},i?.initialNavigation?She(i):[],i?.bindToComponentInputs?Ls(8,[x$,{provide:W_,useExisting:x$}]).\u0275providers:[],[{provide:r4,useFactory:J$},{provide:wT,multi:!0,useExisting:r4}]]}}static forChild(r){return{ngModule:e,providers:[{provide:su,multi:!0,useValue:r}]}}}return(t=e).\u0275fac=function(r){return new(r||t)(j(t4,8))},t.\u0275mod=jt({type:t}),t.\u0275inj=Rt({}),e})();function Dhe(t){return"guarded"}function She(t){return["disabled"===t.initialNavigation?Ls(3,[{provide:hT,multi:!0,useFactory:()=>{const e=K($r);return()=>{e.setUpLocationChangeListener()}}},{provide:qC,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Ls(2,[{provide:qC,useValue:0},{provide:hT,multi:!0,deps:[gn],useFactory:e=>{const n=e.get(roe,Promise.resolve());return()=>n.then(()=>new Promise(r=>{const i=e.get($r),s=e.get(Z$);q$(i,()=>{r(!0)}),e.get(X_).afterPreactivation=()=>(r(!0),s.closed?se(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const r4=new V("");function s4(t){return void 0!==t&&void 0!==t.enterprise}class o4{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}const xhe=function a4(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},c4=new Sr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Z_=new ks("@firebase/auth");function ey(t,...e){Z_.logLevel<=Oe.ERROR&&Z_.error(`Auth (${Kl}): ${t}`,...e)}function xr(t,...e){throw KC(t,...e)}function qi(t,...e){return KC(t,...e)}function KC(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return c4.create(t,...e)}function U(t,e,...n){if(!t)throw KC(e,...n)}function Ki(t){const e="INTERNAL ASSERTION FAILED: "+t;throw ey(e),new Error(e)}function Ao(t,e){t||Ki(e)}function Jh(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function u4(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Zh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ao(n>e,"Short delay should be less than long delay!"),this.isMobile=b_()||aC()}get(){return function Nhe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function YC(){return"http:"===u4()||"https:"===u4()}()||T_()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function QC(t,e){Ao(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class d4{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ki("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ki("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ki("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const khe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Phe=new Zh(3e4,6e4);function Et(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function St(t,e,n,r){return XC.apply(this,arguments)}function XC(){return(XC=v(function*(t,e,n,r,i={}){return h4(t,i,v(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Rs(Object.assign({key:t.config.apiKey},o)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),d4.fetch()(f4(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function h4(t,e,n){return JC.apply(this,arguments)}function JC(){return(JC=v(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},khe),e);try{const i=new Ohe(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw ef(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw ef(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw ef(t,"email-already-in-use",o);if("USER_DISABLED"===c)throw ef(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw function l4(t,e,n){const r=Object.assign(Object.assign({},xhe()),{[e]:n});return new Sr("auth","Firebase",r).create(e,{appName:t.name})}(t,u,l);xr(t,u)}}catch(i){if(i instanceof Mn)throw i;xr(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Fs(t,e,n,r){return ZC.apply(this,arguments)}function ZC(){return(ZC=v(function*(t,e,n,r,i={}){const s=yield St(t,e,n,r,i);return"mfaPendingCredential"in s&&xr(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function f4(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?QC(t.config,i):`${t.config.apiScheme}://${i}`}class Ohe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(qi(this.auth,"network-request-failed")),Phe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ef(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=qi(t,e,r);return i.customData._tokenResponse=n,i}function p4(t,e){return t0.apply(this,arguments)}function t0(){return(t0=v(function*(t,e){return St(t,"GET","/v2/recaptchaConfig",Et(t,e))})).apply(this,arguments)}function n0(){return(n0=v(function*(t,e){return St(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function s0(){return(s0=v(function*(t,e){return St(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function tf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function o0(){return(o0=v(function*(t,e=!1){const n=Rn(t),r=yield n.getIdToken(e),i=ty(r);U(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:tf(a0(i.auth_time)),issuedAtTime:tf(a0(i.iat)),expirationTime:tf(a0(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function a0(t){return 1e3*Number(t)}function ty(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return ey("JWT malformed, contained fewer than 3 sections"),null;try{const i=Nh(n);return i?JSON.parse(i):(ey("Failed to decode base64 JWT payload"),null)}catch(i){return ey("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Vs(t,e){return c0.apply(this,arguments)}function c0(){return(c0=v(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Mn&&function $he({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Hhe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(v(function*(){yield n.iteration()}),r)}iteration(){var e=this;return v(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class g4{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tf(this.lastLoginAt),this.creationTime=tf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function nf(t){return l0.apply(this,arguments)}function l0(){return l0=v(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield Vs(t,function Uhe(t,e){return s0.apply(this,arguments)}(n,{idToken:r}));U(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Whe(t){return t.map(e=>{var{providerId:n}=e,r=wt(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function zhe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),u=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new g4(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}),l0.apply(this,arguments)}function u0(){return(u0=v(function*(t){const e=Rn(t);yield nf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function d0(){return(d0=v(function*(t,e){const n=yield h4(t,{},v(function*(){const r=Rs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=f4(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",d4.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class rf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){U(e.idToken,"internal-error"),U(typeof e.idToken<"u","internal-error"),U(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function jhe(t){const e=ty(t);return U(e,"internal-error"),U(typeof e.exp<"u","internal-error"),U(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return v(function*(){return U(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return v(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function qhe(t,e){return d0.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new rf;return r&&(U("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(U("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(U("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new rf,this.toJSON())}_performRefresh(){return Ki("not implemented")}}function xo(t,e){U("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class Ba{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=wt(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Hhe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new g4(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return v(function*(){const r=yield Vs(n,n.stsTokenManager.getToken(n.auth,e));return U(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function Bhe(t){return o0.apply(this,arguments)}(this,e)}reload(){return function Ghe(t){return u0.apply(this,arguments)}(this)}_assign(e){this!==e&&(U(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Ba(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){U(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return v(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield nf(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return v(function*(){const n=yield e.getIdToken();return yield Vs(e,function Fhe(t,e){return n0.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,l,u;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,g=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,_=null!==(o=n.photoURL)&&void 0!==o?o:void 0,w=null!==(a=n.tenantId)&&void 0!==a?a:void 0,I=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,T=null!==(l=n.createdAt)&&void 0!==l?l:void 0,E=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:N,emailVerified:H,isAnonymous:X,providerData:ce,stsTokenManager:Ue}=n;U(N&&Ue,e,"internal-error");const un=rf.fromJSON(this.name,Ue);U("string"==typeof N,e,"internal-error"),xo(d,e.name),xo(f,e.name),U("boolean"==typeof H,e,"internal-error"),U("boolean"==typeof X,e,"internal-error"),xo(g,e.name),xo(_,e.name),xo(w,e.name),xo(I,e.name),xo(T,e.name),xo(E,e.name);const mr=new Ba({uid:N,auth:e,email:f,emailVerified:H,displayName:d,isAnonymous:X,photoURL:_,phoneNumber:g,tenantId:w,stsTokenManager:un,createdAt:T,lastLoginAt:E});return ce&&Array.isArray(ce)&&(mr.providerData=ce.map(Tg=>Object.assign({},Tg))),I&&(mr._redirectEventId=I),mr}static _fromIdTokenResponse(e,n,r=!1){return v(function*(){const i=new rf;i.updateFromServerResponse(n);const s=new Ba({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield nf(s),s})()}}const m4=new Map;function Us(t){Ao(t instanceof Function,"Expected a class definition");let e=m4.get(t);return e?(Ao(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,m4.set(t,e),e)}const _4=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(function*(){return!0})()}_set(n,r){var i=this;return v(function*(){i.storage[n]=r})()}_get(n){var r=this;return v(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return v(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function ny(t,e,n){return`firebase:${t}:${e}:${n}`}class au{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=ny(this.userKey,i.apiKey,s),this.fullPersistenceKey=ny("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return v(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?Ba._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return v(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(function*(){if(!n.length)return new au(Us(_4),e,r);const i=(yield Promise.all(n.map(function(){var l=v(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||Us(_4);const o=ny(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=yield l._get(o);if(u){const d=Ba._fromJSON(e,u);l!==s&&(a=d),s=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var l=v(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return l.apply(this,arguments)}}())),new au(s,e,r)):new au(s,e,r)})()}}function y4(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(I4(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(v4(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(b4(e))return"Blackberry";if(T4(e))return"Webos";if(h0(e))return"Safari";if((e.includes("chrome/")||w4(e))&&!e.includes("edge/"))return"Chrome";if(E4(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function v4(t=je()){return/firefox\//i.test(t)}function h0(t=je()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function w4(t=je()){return/crios\//i.test(t)}function I4(t=je()){return/iemobile/i.test(t)}function E4(t=je()){return/android/i.test(t)}function b4(t=je()){return/blackberry/i.test(t)}function T4(t=je()){return/webos/i.test(t)}function ry(t=je()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function C4(t=je()){return ry(t)||E4(t)||T4(t)||b4(t)||/windows phone/i.test(t)||I4(t)}function D4(t,e=[]){let n;switch(t){case"Browser":n=y4(je());break;case"Worker":n=`${y4(je())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Kl}/${r}`}class Xhe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return v(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function f0(){return(f0=v(function*(t,e={}){return St(t,"GET","/v2/passwordPolicy",Et(t,e))})).apply(this,arguments)}class efe{constructor(e){var n,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(n=o.minPasswordLength)&&void 0!==n?n:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(n=c.meetsMinPasswordLength)||void 0===n||n),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(s=c.containsUppercaseLetter)||void 0===s||s),c.isValid&&(c.isValid=null===(o=c.containsNumericCharacter)||void 0===o||o),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){let r;this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class tfe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new S4(this),this.idTokenSubscription=new S4(this),this.beforeStateQueue=new Xhe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=c4,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Us(n)),this._initializationPromise=this.queue(v(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield au.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return v(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return v(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,l=yield n.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(s=l.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return U(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return v(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return v(function*(){try{yield nf(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Rhe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return v(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return v(function*(){const r=e?Rn(e):null;return r&&U(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return v(function*(){if(!r._deleted)return e&&U(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(v(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return v(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(v(function*(){yield n.assertedPersistence.setPersistence(Us(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var n=this;return v(function*(){n._getPasswordPolicyInternal()||(yield n._updatePasswordPolicy());const r=n._getPasswordPolicyInternal();return r.schemaVersion!==n.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(n._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return v(function*(){const n=yield function Jhe(t){return f0.apply(this,arguments)}(e),r=new efe(n);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Sr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return v(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return v(function*(){if(!n.redirectPersistenceManager){const r=e&&Us(e)||n._popupRedirectResolver;U(r,n,"argument-error"),n.redirectPersistenceManager=yield au.create(n,[Us(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return v(function*(){var r,i;return n._isInitialized&&(yield n.queue(v(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return v(function*(){if(e===n.currentUser)return n.queue(v(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(U(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof n){const c=e.addObserver(n,r,i);return()=>{o=!0,c()}}{const c=e.addObserver(n);return()=>{o=!0,c()}}}directlySetCurrentUser(e){var n=this;return v(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return U(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=D4(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return v(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return v(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Mhe(t,...e){Z_.logLevel<=Oe.WARN&&Z_.warn(`Auth (${Kl}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Jt(t){return Rn(t)}class S4{constructor(e){this.auth=e,this.observer=null,this.addObserver=kj(n=>this.observer=n)}get next(){return U(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function p0(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=qi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function nfe(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function A4(t){return`__${t}${Math.floor(1e6*Math.random())}`}class x4{constructor(e){this.type="recaptcha-enterprise",this.auth=Jt(e)}verify(e="verify",n=!1){var r=this;return v(function*(){function s(){return s=v(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=v(function*(l,u){p4(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const f=new o4(d);return null==a.tenantId?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(l,u){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,c,l){const u=window.grecaptcha;s4(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(l=>{if(!n&&s4(window.grecaptcha))o(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));p0("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{o(l,a,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}function Mo(t,e,n){return g0.apply(this,arguments)}function g0(){return(g0=v(function*(t,e,n,r=!1){const i=new x4(t);let s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}function M4(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function N4(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class R4{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ki("not implemented")}_getIdTokenResponse(e){return Ki("not implemented")}_linkToIdToken(e,n){return Ki("not implemented")}_getReauthenticationResolver(e){return Ki("not implemented")}}function P4(t,e){return y0.apply(this,arguments)}function y0(){return(y0=v(function*(t,e){return St(t,"POST","/v1/accounts:update",e)})).apply(this,arguments)}function w0(t,e){return I0.apply(this,arguments)}function I0(){return(I0=v(function*(t,e){return Fs(t,"POST","/v1/accounts:signInWithPassword",Et(t,e))})).apply(this,arguments)}function x0(){return(x0=v(function*(t,e){return Fs(t,"POST","/v1/accounts:signInWithEmailLink",Et(t,e))})).apply(this,arguments)}function M0(){return(M0=v(function*(t,e){return Fs(t,"POST","/v1/accounts:signInWithEmailLink",Et(t,e))})).apply(this,arguments)}class sf extends R4{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new sf(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new sf(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n="string"==typeof e?JSON.parse(e):e;if(n?.email&&n?.password){if("password"===n.signInMethod)return this._fromEmailAndPassword(n.email,n.password);if("emailLink"===n.signInMethod)return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){var n=this;return v(function*(){var r;switch(n.signInMethod){case"password":const i={returnSecureToken:!0,email:n._email,password:n._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(r=e._getRecaptchaConfig())&&void 0!==r&&r.emailPasswordEnabled){const s=yield Mo(e,i,"signInWithPassword");return w0(e,s)}return w0(e,i).catch(function(){var s=v(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const a=yield Mo(e,i,"signInWithPassword");return w0(e,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}());case"emailLink":return function gfe(t,e){return x0.apply(this,arguments)}(e,{email:n._email,oobCode:n._password});default:xr(e,"internal-error")}})()}_linkToIdToken(e,n){var r=this;return v(function*(){switch(r.signInMethod){case"password":return P4(e,{idToken:n,returnSecureToken:!0,email:r._email,password:r._password});case"emailLink":return function mfe(t,e){return M0.apply(this,arguments)}(e,{idToken:n,email:r._email,oobCode:r._password});default:xr(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function Bs(t,e){return N0.apply(this,arguments)}function N0(){return(N0=v(function*(t,e){return Fs(t,"POST","/v1/accounts:signInWithIdp",Et(t,e))})).apply(this,arguments)}class lf{constructor(e){var n,r,i,s,o,a;const c=kh(Ph(e)),l=null!==(n=c.apiKey)&&void 0!==n?n:null,u=null!==(r=c.oobCode)&&void 0!==r?r:null,d=function bfe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);U(l&&u&&d,"argument-error"),this.apiKey=l,this.operation=d,this.code=u,this.continueUrl=null!==(s=c.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const n=function Tfe(t){const e=kh(Ph(t)).link,n=e?kh(Ph(e)).deep_link_id:null,r=kh(Ph(t)).deep_link_id;return(r?kh(Ph(r)).link:null)||r||n||e||t}(e);try{return new lf(n)}catch{return null}}}let O4=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return sf._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){const i=lf.parseLink(r);return U(i,"argument-error"),sf._fromEmailAndCode(n,i.code,i.tenantId)}}return t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink",t})();class No{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Cfe extends No{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class ii{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return v(function*(){const s=yield Ba._fromIdTokenResponse(e,r,i),o=L4(r);return new ii({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return v(function*(){yield e._updateTokensIfNecessary(r,!0);const i=L4(r);return new ii({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function L4(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class ay extends Mn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ay.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ay(e,n,r,i)}}function F4(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?ay._fromErrorAndOperation(t,s,e,r):s})}function j0(){return(j0=v(function*(t,e,n=!1){const r=yield Vs(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return ii._forOperation(t,"link",r)})).apply(this,arguments)}function H0(){return(H0=v(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield Vs(t,F4(r,i,e,t),n);U(s.idToken,r,"internal-error");const o=ty(s.idToken);U(o,r,"internal-error");const{sub:a}=o;return U(t.uid===a,r,"user-mismatch"),ii._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&xr(r,"user-mismatch"),s}})).apply(this,arguments)}function B4(t,e){return G0.apply(this,arguments)}function G0(){return(G0=v(function*(t,e,n=!1){const r="signIn",i=yield F4(t,r,e),s=yield ii._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}function z0(t,e){return W0.apply(this,arguments)}function W0(){return(W0=v(function*(t,e){return B4(Jt(t),e)})).apply(this,arguments)}function eD(t){return tD.apply(this,arguments)}function tD(){return(tD=v(function*(t){const e=Jt(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}const ly="__sak";class $4{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ly,"1"),this.storage.removeItem(ly),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const Yfe=(()=>{class t extends $4{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Wfe(){const t=je();return h0(t)||ry(t)}()&&function Qhe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=C4(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function Yhe(){return Nj()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return v(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return v(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return v(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),H4=(()=>{class t extends $4{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let Xfe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return v(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,c=r.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const l=Array.from(c).map(function(){var d=v(function*(f){return f(i.origin,a)});return function(f){return d.apply(this,arguments)}}()),u=yield function Qfe(t){return Promise.all(t.map(function(){var e=v(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function bD(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class Jfe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return v(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((c,l)=>{const u=bD("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const g=f;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(g.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Zt(){return window}function TD(){return typeof Zt().WorkerGlobalScope<"u"&&"function"==typeof Zt().importScripts}function CD(){return(CD=v(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const G4="firebaseLocalStorageDb",uy="firebaseLocalStorage",z4="fbase_key";class df{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function dy(t,e){return t.transaction([uy],e?"readwrite":"readonly").objectStore(uy)}function DD(){const t=indexedDB.open(G4,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(uy,{keyPath:z4})}catch(i){n(i)}}),t.addEventListener("success",v(function*(){const r=t.result;r.objectStoreNames.contains(uy)?e(r):(r.close(),yield function ipe(){const t=indexedDB.deleteDatabase(G4);return new df(t).toPromise()}(),e(yield DD()))}))})}function W4(t,e,n){return SD.apply(this,arguments)}function SD(){return(SD=v(function*(t,e,n){const r=dy(t,!0).put({[z4]:e,value:n});return new df(r).toPromise()})).apply(this,arguments)}function AD(){return(AD=v(function*(t,e){const n=dy(t,!1).get(e),r=yield new df(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function q4(t,e){const n=dy(t,!0).delete(e);return new df(n).toPromise()}const cpe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return v(function*(){return n.db||(n.db=yield DD()),n.db})()}_withRetries(n){var r=this;return v(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return v(function*(){return TD()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return v(function*(){n.receiver=Xfe._getInstance(function npe(){return TD()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=v(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=v(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return v(function*(){var r,i;if(n.activeServiceWorker=yield function epe(){return CD.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new Jfe(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return v(function*(){if(r.sender&&r.activeServiceWorker&&function tpe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return v(function*(){try{if(!indexedDB)return!1;const n=yield DD();return yield W4(n,ly,"1"),yield q4(n,ly),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return v(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return v(function*(){return i._withPendingWrite(v(function*(){return yield i._withRetries(s=>W4(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return v(function*(){const i=yield r._withRetries(s=>function spe(t,e){return AD.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return v(function*(){return r._withPendingWrite(v(function*(){return yield r._withRetries(i=>q4(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return v(function*(){const r=yield n._withRetries(o=>{const a=dy(o,!1).getAll();return new df(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(v(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();A4("rcb"),new Zh(3e4,6e4);class FD extends R4{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Bs(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Bs(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Bs(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function Tpe(t){return B4(t.auth,new FD(t),t.bypassAuthState)}function Cpe(t){const{auth:e,user:n}=t;return U(n,e,"internal-error"),function U4(t,e){return H0.apply(this,arguments)}(n,new FD(t),t.bypassAuthState)}function Dpe(t){return VD.apply(this,arguments)}function VD(){return(VD=v(function*(t){const{auth:e,user:n}=t;return U(n,e,"internal-error"),function B0(t,e){return j0.apply(this,arguments)}(n,new FD(t),t.bypassAuthState)})).apply(this,arguments)}class Spe{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=v(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return v(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:c}=e;if(a)return void n.reject(a);const l={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(l))}catch(u){n.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Tpe;case"linkViaPopup":case"linkViaRedirect":return Dpe;case"reauthViaPopup":case"reauthViaRedirect":return Cpe;default:xr(this.auth,"internal-error")}}resolve(e){Ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ao(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Zh(2e3,1e4);const Ape="pendingRedirect",hf=new Map;class xpe extends Spe{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return v(function*(){let r=hf.get(n.auth._key());if(!r){try{const s=(yield function Mpe(t,e){return HD.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}hf.set(n.auth._key(),r)}return n.bypassAuthState||hf.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return v(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return v(function*(){})()}cleanUp(){}}function HD(){return(HD=v(function*(t,e){const n=function Q4(t){return ny(Ape,t.config.apiKey,t.name)}(e),r=function Y4(t){return Us(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function Npe(t,e){hf.set(t._key(),e)}function X4(t,e){return QD.apply(this,arguments)}function QD(){return(QD=v(function*(t,e,n=!1){const r=Jt(t),i=function $a(t,e){return e?Us(e):(U(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),o=yield new xpe(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class Lpe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function Fpe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return eH(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!eH(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(qi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Z4(e))}saveEventToCache(e){this.cachedEventUids.add(Z4(e)),this.lastProcessedEventTime=Date.now()}}function Z4(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function eH({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function JD(){return(JD=v(function*(t,e={}){return St(t,"GET","/v1/projects",e)})).apply(this,arguments)}const Upe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Bpe=/^https?/;function ZD(){return ZD=v(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function Vpe(t){return JD.apply(this,arguments)}(t);for(const n of e)try{if($pe(n))return}catch{}xr(t,"unauthorized-domain")}),ZD.apply(this,arguments)}function $pe(t){const e=Jh(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!Bpe.test(n))return!1;if(Upe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const Hpe=new Zh(3e4,6e4);function tH(){const t=Zt().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let fy=null;const Wpe=new Zh(5e3,15e3),qpe="__/auth/iframe",Kpe="emulator/auth/iframe",Ype={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Qpe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Xpe(t){const e=t.config;U(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?QC(e,Kpe):`https://${t.config.authDomain}/${qpe}`,r={apiKey:e.apiKey,appName:t.name,v:Kl},i=Qpe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Rs(r).slice(1)}`}function eS(){return eS=v(function*(t){const e=yield function zpe(t){return fy=fy||function Gpe(t){return new Promise((e,n)=>{var r,i,s;function o(){tH(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{tH(),n(qi(t,"network-request-failed"))},timeout:Hpe.get()})}if(null!==(i=null===(r=Zt().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=Zt().gapi)||void 0===s||!s.load){const a=A4("iframefcb");return Zt()[a]=()=>{gapi.load?o():n(qi(t,"network-request-failed"))},p0(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}o()}}).catch(e=>{throw fy=null,e})}(t),fy}(t),n=Zt().gapi;return U(n,t,"internal-error"),e.open({where:document.body,url:Xpe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ype,dontclear:!0},r=>new Promise(function(){var i=v(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=qi(t,"network-request-failed"),c=Zt().setTimeout(()=>{o(a)},Wpe.get());function l(){Zt().clearTimeout(c),s(r)}r.ping(l).then(l,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),eS.apply(this,arguments)}const Zpe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class nH{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const oge="__/auth/handler",age="emulator/auth/handler",cge=encodeURIComponent("fac");function rH(t,e,n,r,i,s){return tS.apply(this,arguments)}function tS(){return(tS=v(function*(t,e,n,r,i,s){U(t.config.authDomain,t,"auth-domain-config-required"),U(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Kl,eventId:i};if(e instanceof No){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",D_(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof Cfe){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=yield t._getAppCheckToken(),l=c?`#${cge}=${encodeURIComponent(c)}`:"";return`${function lge({config:t}){return t.emulator?QC(t,age):`https://${t.authDomain}/${oge}`}(t)}?${Rs(a).slice(1)}${l}`})).apply(this,arguments)}const nS="webStorageSupport",dge=class uge{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=H4,this._completeRedirectFn=X4,this._overrideRedirectResult=Npe}_openPopup(e,n,r,i){var s=this;return v(function*(){var o;Ao(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield rH(e,n,r,Jh(),i);return function ige(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},Zpe),{width:r.toString(),height:i.toString(),top:s,left:o}),l=je().toLowerCase();n&&(a=w4(l)?"_blank":n),v4(l)&&(e=e||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((f,[g,_])=>`${f}${g}=${_},`,"");if(function Khe(t=je()){var e;return ry(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function sge(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new nH(null);const d=window.open(e||"",a,u);U(d,t,"popup-blocked");try{d.focus()}catch{}return new nH(d)}(e,a,bD())})()}_openRedirect(e,n,r,i){var s=this;return v(function*(){return yield s._originValidation(e),function Zfe(t){Zt().location.href=t}(yield rH(e,n,r,Jh(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Ao(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return v(function*(){const r=yield function Jpe(t){return eS.apply(this,arguments)}(e),i=new Lpe(e);return r.register("authEvent",s=>(U(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(nS,{type:nS},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[nS];void 0!==o&&n(!!o),xr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function jpe(t){return ZD.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return C4()||h0()||ry()}};var oH="@firebase/auth";class hge{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return v(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){U(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const mge=E_("authIdTokenMaxAge")||300;let cH=null;const _ge=t=>function(){var e=v(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>mge)return;const s=r?.token;cH!==s&&(cH=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function yge(t=function jle(t=M_){const e=La.get(t);if(!e&&t===M_&&I_())return Hj();if(!e)throw Ps.create("no-app",{appName:t});return e}()){const e=Oh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function afe(t,e){const n=Oh(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(ka(n.getOptions(),e??{}))return i;xr(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:dge,persistence:[cpe,Yfe,H4]}),r=E_("authTokenSyncURL");if(r){const s=_ge(r);(function jfe(t,e,n){Rn(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function Bfe(t,e,n,r){Rn(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=oC("auth");return i&&function lfe(t,e,n){const r=Jt(t);U(r._canInitEmulator,r,"emulator-config-failed"),U(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=M4(e),{host:o,port:a}=function ufe(t){const e=M4(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:N4(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:N4(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function dfe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}function lH(...t){const e=LO(t),{args:n,keys:r}=Yj(t),i=new m(s=>{const{length:o}=n;if(!o)return void s.complete();const a=new Array(o);let c=o,l=o;for(let u=0;u<o;u++){let d=!1;er(n[u]).subscribe(ie(s,f=>{d||(d=!0,l--),a[u]=f},()=>c--,void 0,()=>{(!c||!d)&&(l||s.next(r?Qj(r,a):a),s.complete())}))}});return e?i.pipe(bC(e)):i}!function pge(t){Ar(new Dt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;U(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:D4(t)},l=new tfe(r,i,s,c);return function cfe(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Us);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ar(new Dt("auth-internal",e=>{const n=Jt(e.getProvider("auth").getImmediate());return new hge(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),ur(oH,"1.3.0",function fge(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),ur(oH,"1.3.0","esm2017")}("Browser");let uH=(()=>{var t;class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}}return(t=e).\u0275fac=function(r){return new(r||t)(M(bs),M(pn))},t.\u0275dir=ae({type:t}),e})(),Ha=(()=>{var t;class e extends uH{}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=fn(t)))(i||t)}}(),t.\u0275dir=ae({type:t,features:[Ve]}),e})();const si=new V("NgValueAccessor"),wge={provide:si,useExisting:Xe(()=>gy),multi:!0},Ege=new V("CompositionEventMode");let gy=(()=>{var t;class e extends uH{constructor(r,i,s){super(r,i),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Ige(){const t=vo()?vo().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(r){this.setProperty("value",r??"")}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(M(bs),M(pn),M(Ege,8))},t.\u0275dir=ae({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&rt("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[st([wge]),Ve]}),e})();const kn=new V("NgValidators"),ko=new V("NgAsyncValidators");function IH(t){return null!=t}function EH(t){return dh(t)?hn(t):t}function bH(t){let e={};return t.forEach(n=>{e=null!=n?{...e,...n}:e}),0===Object.keys(e).length?null:e}function TH(t,e){return e.map(n=>n(t))}function CH(t){return t.map(e=>function Tge(t){return!t.validate}(e)?e:n=>e.validate(n))}function iS(t){return null!=t?function DH(t){if(!t)return null;const e=t.filter(IH);return 0==e.length?null:function(n){return bH(TH(n,e))}}(CH(t)):null}function sS(t){return null!=t?function SH(t){if(!t)return null;const e=t.filter(IH);return 0==e.length?null:function(n){return lH(TH(n,e).map(EH)).pipe(ee(bH))}}(CH(t)):null}function AH(t,e){return null===t?[e]:Array.isArray(t)?[...t,e]:[t,e]}function oS(t){return t?Array.isArray(t)?t:[t]:[]}function _y(t,e){return Array.isArray(t)?t.includes(e):t===e}function NH(t,e){const n=oS(e);return oS(t).forEach(i=>{_y(n,i)||n.push(i)}),n}function RH(t,e){return oS(e).filter(n=>!_y(t,n))}class kH{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=iS(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=sS(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return!!this.control&&this.control.hasError(e,n)}getError(e,n){return this.control?this.control.getError(e,n):null}}class dr extends kH{get formDirective(){return null}get path(){return null}}class Po extends kH{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class PH{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let aS=(()=>{var t;class e extends PH{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(M(Po,2))},t.\u0275dir=ae({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&or("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ve]}),e})(),OH=(()=>{var t;class e extends PH{constructor(r){super(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(M(dr,10))},t.\u0275dir=ae({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&or("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ve]}),e})();const ff="VALID",vy="INVALID",lu="PENDING",pf="DISABLED";function uS(t){return(wy(t)?t.validators:t)||null}function dS(t,e){return(wy(e)?e.asyncValidators:t)||null}function wy(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class UH{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===ff}get invalid(){return this.status===vy}get pending(){return this.status==lu}get disabled(){return this.status===pf}get enabled(){return this.status!==pf}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(NH(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(NH(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(RH(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(RH(e,this._rawAsyncValidators))}hasValidator(e){return _y(this._rawValidators,e)}hasAsyncValidator(e){return _y(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(n=>{n.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(n=>{n.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=lu,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=pf,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const n=this._parentMarkedDirty(e.onlySelf);this.status=ff,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:n}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ff||this.status===lu)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?pf:ff}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=lu,this._hasOwnPendingAsyncValidator=!0;const n=EH(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(!1!==n.emitEvent)}get(e){let n=e;return null==n||(Array.isArray(n)||(n=n.split(".")),0===n.length)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){const r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new nt,this.statusChanges=new nt}_calculateStatus(){return this._allControlsDisabled()?pf:this.errors?vy:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(lu)?lu:this._anyControlsHaveStatus(vy)?vy:ff}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){wy(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Age(t){return Array.isArray(t)?iS(t):t||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function xge(t){return Array.isArray(t)?sS(t):t||null}(this._rawAsyncValidators)}}class hS extends UH{constructor(e,n,r){super(uS(n),dS(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){(function VH(t,e,n){t._forEachChild((r,i)=>{if(void 0===n[i])throw new O(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function FH(t,e,n){const r=t.controls;if(!(e?Object.keys(r):r).length)throw new O(1e3,"");if(!r[n])throw new O(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n),this._updateTouched(n),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>!!r._syncPendingControls()||n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{const r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const uu=new V("CallSetDisabledState",{providedIn:"root",factory:()=>Iy}),Iy="always";function gf(t,e,n=Iy){fS(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||"always"===n)&&e.valueAccessor.setDisabledState?.(t.disabled),function Rge(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&BH(t,e)})}(t,e),function Pge(t,e){const n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}(t,e),function kge(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&BH(t,e),"submit"!==t.updateOn&&t.markAsTouched()})}(t,e),function Nge(t,e){if(e.valueAccessor.setDisabledState){const n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}(t,e)}function Ty(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function fS(t,e){const n=function xH(t){return t._rawValidators}(t);null!==e.validator?t.setValidators(AH(n,e.validator)):"function"==typeof n&&t.setValidators([n]);const r=function MH(t){return t._rawAsyncValidators}(t);null!==e.asyncValidator?t.setAsyncValidators(AH(r,e.asyncValidator)):"function"==typeof r&&t.setAsyncValidators([r]);const i=()=>t.updateValueAndValidity();Ty(e._rawValidators,i),Ty(e._rawAsyncValidators,i)}function BH(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}const Uge={provide:dr,useExisting:Xe(()=>Dy)},mf=(()=>Promise.resolve())();let Dy=(()=>{var t;class e extends dr{constructor(r,i,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._directives=new Set,this.ngSubmit=new nt,this.form=new hS({},iS(r),sS(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){mf.then(()=>{const i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),gf(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){mf.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){mf.then(()=>{const i=this._findContainer(r.path),s=new hS({});(function jH(t,e){fS(t,e)})(s,r),i.registerControl(r.name,s),s.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){mf.then(()=>{const i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){mf.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submitted=!0,function $H(t,e){t._syncPendingControls(),e.forEach(n=>{const r=n.control;"submit"===r.updateOn&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(r),"dialog"===r?.target?.method}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}}return(t=e).\u0275fac=function(r){return new(r||t)(M(kn,10),M(ko,10),M(uu,8))},t.\u0275dir=ae({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){1&r&&rt("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[st([Uge]),Ve]}),e})();function HH(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}function GH(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const zH=class extends UH{constructor(e=null,n,r){super(uS(n),dS(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),wy(n)&&(n.nonNullable||n.initialValueIsDefault)&&(this.defaultValue=GH(e)?e.value:e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==n.emitViewToModelChange)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){HH(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){HH(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){GH(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},$ge={provide:Po,useExisting:Xe(()=>Sy)},KH=(()=>Promise.resolve())();let Sy=(()=>{var t;class e extends Po{constructor(r,i,s,o,a,c){super(),this._changeDetectorRef=a,this.callSetDisabledState=c,this.control=new zH,this._registered=!1,this.name="",this.update=new nt,this._parent=r,this._setValidators(i),this._setAsyncValidators(s),this.valueAccessor=function mS(t,e){if(!e)return null;let n,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===gy?n=s:function Fge(t){return Object.getPrototypeOf(t.constructor)===Ha}(s)?r=s:i=s}),i||r||n||null}(0,o)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){const i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),function gS(t,e){if(!t.hasOwnProperty("model"))return!1;const n=t.model;return!!n.isFirstChange()||!Object.is(e,n.currentValue)}(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){gf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(r){KH.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){const i=r.isDisabled.currentValue,s=0!==i&&function jl(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}(i);KH.then(()=>{s&&!this.control.disabled?this.control.disable():!s&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?function Ey(t,e){return[...e.path,t]}(r,this._parent):[r]}}return(t=e).\u0275fac=function(r){return new(r||t)(M(dr,9),M(kn,10),M(ko,10),M(si,10),M(Ch,8),M(uu,8))},t.\u0275dir=ae({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[st([$ge]),Ve,Xr]}),e})(),YH=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275dir=ae({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})(),XH=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Rt({}),e})();const Jge={provide:si,useExisting:Xe(()=>wS),multi:!0};function iG(t,e){return null==t?`${e}`:(e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let wS=(()=>{var t;class e extends Ha{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){this.value=r;const s=iG(this._getOptionId(r),r);this.setProperty("value",s)}registerOnChange(r){this.onChange=i=>{this.value=this._getOptionValue(i),r(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(r){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),r))return i;return null}_getOptionValue(r){const i=function Zge(t){return t.split(":")[0]}(r);return this._optionMap.has(i)?this._optionMap.get(i):r}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=fn(t)))(i||t)}}(),t.\u0275dir=ae({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){1&r&&rt("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[st([Jge]),Ve]}),e})(),sG=(()=>{var t;class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption())}set ngValue(r){null!=this._select&&(this._select._optionMap.set(this.id,r),this._setElementValue(iG(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._setElementValue(r),this._select&&this._select.writeValue(this._select.value)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(t=e).\u0275fac=function(r){return new(r||t)(M(pn),M(bs),M(wS,9))},t.\u0275dir=ae({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const eme={provide:si,useExisting:Xe(()=>IS),multi:!0};function oG(t,e){return null==t?`${e}`:("string"==typeof e&&(e=`'${e}'`),e&&"object"==typeof e&&(e="Object"),`${t}: ${e}`.slice(0,50))}let IS=(()=>{var t;class e extends Ha{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(r){this._compareWith=r}writeValue(r){let i;if(this.value=r,Array.isArray(r)){const s=r.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(s.indexOf(a.toString())>-1)}}else i=(s,o)=>{s._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(r){this.onChange=i=>{const s=[],o=i.selectedOptions;if(void 0!==o){const a=o;for(let c=0;c<a.length;c++){const u=this._getOptionValue(a[c].value);s.push(u)}}else{const a=i.options;for(let c=0;c<a.length;c++){const l=a[c];if(l.selected){const u=this._getOptionValue(l.value);s.push(u)}}}this.value=s,r(s)}}_registerOption(r){const i=(this._idCounter++).toString();return this._optionMap.set(i,r),i}_getOptionId(r){for(const i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,r))return i;return null}_getOptionValue(r){const i=function tme(t){return t.split(":")[0]}(r);return this._optionMap.has(i)?this._optionMap.get(i)._value:r}}return(t=e).\u0275fac=function(){let n;return function(i){return(n||(n=fn(t)))(i||t)}}(),t.\u0275dir=ae({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){1&r&&rt("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[st([eme]),Ve]}),e})(),aG=(()=>{var t;class e{constructor(r,i,s){this._element=r,this._renderer=i,this._select=s,this._select&&(this.id=this._select._registerOption(this))}set ngValue(r){null!=this._select&&(this._value=r,this._setElementValue(oG(this.id,r)),this._select.writeValue(this._select.value))}set value(r){this._select?(this._value=r,this._setElementValue(oG(this.id,r)),this._select.writeValue(this._select.value)):this._setElementValue(r)}_setElementValue(r){this._renderer.setProperty(this._element.nativeElement,"value",r)}_setSelected(r){this._renderer.setProperty(this._element.nativeElement,"selected",r)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return(t=e).\u0275fac=function(r){return new(r||t)(M(pn),M(bs),M(IS,9))},t.\u0275dir=ae({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})(),ume=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Rt({imports:[XH]}),e})(),hme=(()=>{var t;class e{static withConfig(r){return{ngModule:e,providers:[{provide:uu,useValue:r.callSetDisabledState??Iy}]}}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Rt({imports:[ume]}),e})();function fme(t,e){if(1&t&&(Y(0,"div",15),it(1),oe()),2&t){const n=Bm();gt(1),fh(n.errorMessage)}}let TS,pme=(()=>{var t;class e{constructor(r,i){this.route=r,this.router=i,this.email="",this.password="",this.errorMessage="",console.log("Say hello",this.logo)}ngOnInit(){this.logo=this.route.snapshot.data.logo,console.log(this.logo)}userAuth(){(function Rfe(t,e,n){return z0(Rn(t),O4.credential(e,n)).catch(function(){var r=v(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&eD(t),i});return function(i){return r.apply(this,arguments)}}())})(yge(),this.email,this.password).then(i=>{console.log("User is authorized:",i.user),this.router.navigate(["new-meeting-details"])}).catch(i=>{const o=i.message;console.log("User is not authorized:",i.code,o),this.errorMessage=o,this.email="",this.password=""})}}return(t=e).\u0275fac=function(r){return new(r||t)(M(So),M($r))},t.\u0275cmp=Yr({type:t,selectors:[["app-auth-page"]],decls:20,vars:4,consts:[[1,"login-container"],[1,"login-inner"],[1,"company-logo"],["alt","",3,"src"],[1,"auth-section"],[3,"submit"],["class","error-message",4,"ngIf"],[1,"input-container"],["type","email","name","username","id","username","placeholder","Username / Email",3,"ngModel","ngModelChange"],["for","username",1,"placeholder"],["type","password","name","password","id","password","placeholder","Password",3,"ngModel","ngModelChange"],["type","submit","value","Login"],[1,"forget-password-button"],[1,"company-logo","margin-20"],["src","assets/images/VisitTrax 1.png","alt",""],[1,"error-message"]],template:function(r,i){1&r&&(Y(0,"main",0)(1,"div",1)(2,"div",2),be(3,"img",3),oe(),Y(4,"section",4)(5,"form",5),rt("submit",function(){return i.userAuth()}),Um(6,fme,2,1,"div",6),Y(7,"div",7)(8,"input",8),rt("ngModelChange",function(o){return i.email=o}),oe(),Y(9,"label",9),it(10,"Username / Email"),oe()(),Y(11,"div",7)(12,"input",10),rt("ngModelChange",function(o){return i.password=o}),oe(),Y(13,"label",9),it(14,"Password"),oe()(),be(15,"input",11),oe(),Y(16,"button",12),it(17,"Forget Password ?"),oe(),Y(18,"div",13),be(19,"img",14),oe()()()()),2&r&&(gt(3),Pl("src",i.logo,Xd),gt(3),Gn("ngIf",i.errorMessage),gt(2),Gn("ngModel",i.email),gt(4),Gn("ngModel",i.password))},dependencies:[$T,YH,gy,aS,OH,Sy,Dy],styles:[".login-container[_ngcontent-%COMP%]{width:100vw;height:100vh;display:flex;justify-content:center;align-items:center}.login-inner[_ngcontent-%COMP%]{background-color:#fff;max-width:43.2%;width:100%;border-radius:5px}.company-logo[_ngcontent-%COMP%]{display:flex;justify-content:center;margin-top:1.5rem}.auth-section[_ngcontent-%COMP%]{margin:4.5rem auto 0;width:74%}.auth-section[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;width:100%;gap:2rem}.input-container[_ngcontent-%COMP%]{position:relative}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{border:1px solid #d5d8de;border-radius:5px;padding:25px 0 18px 10px;width:100%;box-sizing:border-box;transition-duration:5s}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus-visible{outline-color:var(--purpal)}.input-container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]::placeholder, .input-container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]::placeholder{font-size:16px;transform:translateY(0);transition:font-size .3s ease-in-out,transform .3s ease-in-out,color .3s ease-in-out;font-family:Times New Roman,Times,serif}.input-container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus::placeholder, .input-container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus::placeholder{font-size:12px;transform:translateY(-115%)}.input-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:none}.input-container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:not(:placeholder-shown) + label[_ngcontent-%COMP%], .input-container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:not(:placeholder-shown) + label[_ngcontent-%COMP%]{position:absolute;top:10px;left:11px;display:block;font-size:12px;color:#877775;font-family:Times New Roman,Times,serif}.auth-section[_ngcontent-%COMP%]   input[type=submit][_ngcontent-%COMP%]{background-color:var(--purpal);border:none;color:#fff;font-size:16px;font-weight:600;padding:21px;border-radius:10px}.forget-password-button[_ngcontent-%COMP%]{font-size:16px;font-weight:400;color:#000;background:none;border:none;margin:auto;width:100%;margin-top:2rem}.margin-20[_ngcontent-%COMP%]{margin-bottom:3rem}@media (max-width:1024px){.login-inner[_ngcontent-%COMP%]{max-width:60%}}@media (max-width:640px){.login-inner[_ngcontent-%COMP%]{max-width:80%}.company-logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:7rem}.company-logo.margin-20[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:4rem}}"]}),e})(),gme=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Yr({type:t,selectors:[["app-header"]],inputs:{logo:"logo",userLogin:"userLogin",userImage:"userImage"},decls:10,vars:3,consts:[[1,"logo"],["alt","Logo",3,"src"],[1,"auth-user"],["alt","No Img Found",3,"src"],[1,"user-detail"]],template:function(r,i){1&r&&(Y(0,"header")(1,"div",0),be(2,"img",1),oe(),Y(3,"div",2),be(4,"img",3),Y(5,"div",4)(6,"p"),it(7),oe(),Y(8,"p"),it(9,"View details"),oe()()()()),2&r&&(gt(2),Pl("src",i.logo,Xd),gt(2),Pl("src",i.userImage,Xd),gt(3),fh(i.userLogin))},styles:["header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;max-width:95%;width:100%;margin:auto;margin-top:2rem}.auth-user[_ngcontent-%COMP%]{display:flex;width:50%;justify-content:end;align-items:center;gap:1rem}.auth-user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{background-color:#fbb040;border-radius:50%}.user-detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:first-child{font-weight:500;font-size:14px;line-height:23px}.user-detail[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]:nth-child(2){font-weight:400;font-size:12px;line-height:18px;color:var(--purpal)}header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]{margin-left:4rem}@media (max-width:400px){header[_ngcontent-%COMP%]   .logo[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:60%}.auth-user[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:25%}}"]}),e})(),mme=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Yr({type:t,selectors:[["app-footer"]],decls:6,vars:0,consts:[["src","assets/images/VisitTrax 1.png","alt",""]],template:function(r,i){1&r&&(Y(0,"footer"),be(1,"img",0),Y(2,"p"),it(3,"Copyright 2023 VisiTrax."),be(4,"br"),it(5," All Right Reserved."),oe()())},styles:["footer[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;margin-top:3rem}footer[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{text-align:center;margin-top:1rem;line-height:30px;font-weight:400;font-size:20px}"]}),e})();try{TS=typeof Intl<"u"&&Intl.v8BreakIterator}catch{TS=!1}let yf,_f=(()=>{var t;class e{constructor(r){this._platformId=r,this.isBrowser=this._platformId?function bae(t){return t===tj}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!TS)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return(t=e).\u0275fac=function(r){return new(r||t)(j(Es))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Ay(t){return function _me(){if(null==yf&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>yf=!0}))}finally{yf=yf||!1}return yf}()?t:!!t.capture}function yG(t){return Array.isArray(t)?t:[t]}function vf(t){return t instanceof pn?t.nativeElement:t}class Ame extends rn{constructor(e,n){super()}schedule(e,n=0){return this}}const My={setInterval(t,e,...n){const{delegate:r}=My;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){const{delegate:e}=My;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};class vG extends Ame{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return My.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return n;null!=n&&My.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,n);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,_a(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}}const wG={now:()=>(wG.delegate||Date).now(),delegate:void 0};class wf{constructor(e,n=wf.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}}wf.now=wG.now;class IG extends wf{constructor(e,n=wf.now){super(e,n),this.actions=[],this._active=!1}flush(e){const{actions:n}=this;if(this._active)return void n.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}}const If=new IG(vG),xme=If,EG=new Set;let Wa,Nme=(()=>{var t;class e{constructor(r,i){this._platform=r,this._nonce=i,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):kme}matchMedia(r){return(this._platform.WEBKIT||this._platform.BLINK)&&function Rme(t,e){if(!EG.has(t))try{Wa||(Wa=document.createElement("style"),e&&(Wa.nonce=e),Wa.setAttribute("type","text/css"),document.head.appendChild(Wa)),Wa.sheet&&(Wa.sheet.insertRule(`@media ${t} {body{ }}`,0),EG.add(t))}catch(n){console.error(n)}}(r,this._nonce),this._matchMedia(r)}}return(t=e).\u0275fac=function(r){return new(r||t)(j(_f),j(XE,8))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function kme(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let Pme=(()=>{var t;class e{constructor(r,i){this._mediaMatcher=r,this._zone=i,this._queries=new Map,this._destroySubject=new F}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(r){return bG(yG(r)).some(s=>this._registerQuery(s).mql.matches)}observe(r){let o=R_(bG(yG(r)).map(a=>this._registerQuery(a).observable));return o=P_(o.pipe(bo(1)),o.pipe(function _G(t){return Gi((e,n)=>t<=n)}(1),function Mme(t,e=If){return re((n,r)=>{let i=null,s=null,o=null;const a=()=>{if(i){i.unsubscribe(),i=null;const l=s;s=null,r.next(l)}};function c(){const l=o+t,u=e.now();if(u<l)return i=this.schedule(void 0,l-u),void r.add(i);a()}n.subscribe(ie(r,l=>{s=l,o=e.now(),i||(i=e.schedule(c,t),r.add(i))},()=>{a(),r.complete()},void 0,()=>{s=i=null}))})}(0))),o.pipe(ee(a=>{const c={matches:!1,breakpoints:{}};return a.forEach(({matches:l,query:u})=>{c.matches=c.matches||l,c.breakpoints[u]=l}),c}))}_registerQuery(r){if(this._queries.has(r))return this._queries.get(r);const i=this._mediaMatcher.matchMedia(r),o={observable:new m(a=>{const c=l=>this._zone.run(()=>a.next(l));return i.addListener(c),()=>{i.removeListener(c)}}).pipe(e$(i),ee(({matches:a})=>({query:r,matches:a})),Xl(this._destroySubject)),mql:i};return this._queries.set(r,o),o}}return(t=e).\u0275fac=function(r){return new(r||t)(j(Nme),j(Ne))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function bG(t){return t.map(e=>e.split(",")).reduce((e,n)=>e.concat(n)).map(e=>e.trim())}const MG="cdk-high-contrast-black-on-white",NG="cdk-high-contrast-white-on-black",DS="cdk-high-contrast-active";let Kme=(()=>{var t;class e{constructor(r,i){this._platform=r,this._document=i,this._breakpointSubscription=K(Pme).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const r=this._document.createElement("div");r.style.backgroundColor="rgb(1,2,3)",r.style.position="absolute",this._document.body.appendChild(r);const i=this._document.defaultView||window,s=i&&i.getComputedStyle?i.getComputedStyle(r):null,o=(s&&s.backgroundColor||"").replace(/ /g,"");switch(r.remove(),o){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const r=this._document.body.classList;r.remove(DS,MG,NG),this._hasCheckedHighContrastMode=!0;const i=this.getHighContrastMode();1===i?r.add(DS,MG):2===i&&r.add(DS,NG)}}}return(t=e).\u0275fac=function(r){return new(r||t)(j(_f),j(Ot))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})(),RG=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Rt({}),e})();const Jme=new V("mat-sanity-checks",{providedIn:"root",factory:function Xme(){return!0}});let gu=(()=>{var t;class e{constructor(r,i,s){this._sanityChecks=i,this._document=s,this._hasDoneGlobalChecks=!1,r._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(r){return!function wme(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[r])}}return(t=e).\u0275fac=function(r){return new(r||t)(j(Kme),j(Jme,8),j(Ot))},t.\u0275mod=jt({type:t}),t.\u0275inj=Rt({imports:[RG,RG]}),e})();function LG(t,e){return class extends t{get color(){return this._color}set color(n){const r=n||this.defaultColor;r!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove(`mat-${this._color}`),r&&this._elementRef.nativeElement.classList.add(`mat-${r}`),this._color=r)}constructor(...n){super(...n),this.defaultColor=e,this.color=e}}}class r_e{constructor(e,n,r,i=!1){this._renderer=e,this.element=n,this.config=r,this._animationForciblyDisabledThroughCss=i,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const FG=Ay({passive:!0,capture:!0});class i_e{constructor(){this._events=new Map,this._delegateEventHandler=e=>{const n=function hu(t){return t.composedPath?t.composedPath()[0]:t.target}(e);n&&this._events.get(e.type)?.forEach((r,i)=>{(i===n||i.contains(n))&&r.forEach(s=>s.handleEvent(e))})}}addHandler(e,n,r,i){const s=this._events.get(n);if(s){const o=s.get(r);o?o.add(i):s.set(r,new Set([i]))}else this._events.set(n,new Map([[r,new Set([i])]])),e.runOutsideAngular(()=>{document.addEventListener(n,this._delegateEventHandler,FG)})}removeHandler(e,n,r){const i=this._events.get(e);if(!i)return;const s=i.get(n);s&&(s.delete(r),0===s.size&&i.delete(n),0===i.size&&(this._events.delete(e),document.removeEventListener(e,this._delegateEventHandler,FG)))}}const VG={enterDuration:225,exitDuration:150},UG=Ay({passive:!0,capture:!0}),BG=["mousedown","touchstart"],jG=["mouseup","mouseleave","touchend","touchcancel"];class bf{constructor(e,n,r,i){this._target=e,this._ngZone=n,this._platform=i,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=vf(r))}fadeInRipple(e,n,r={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...VG,...r.animation};r.centered&&(e=i.left+i.width/2,n=i.top+i.height/2);const o=r.radius||function o_e(t,e,n){const r=Math.max(Math.abs(t-n.left),Math.abs(t-n.right)),i=Math.max(Math.abs(e-n.top),Math.abs(e-n.bottom));return Math.sqrt(r*r+i*i)}(e,n,i),a=e-i.left,c=n-i.top,l=s.enterDuration,u=document.createElement("div");u.classList.add("mat-ripple-element"),u.style.left=a-o+"px",u.style.top=c-o+"px",u.style.height=2*o+"px",u.style.width=2*o+"px",null!=r.color&&(u.style.backgroundColor=r.color),u.style.transitionDuration=`${l}ms`,this._containerElement.appendChild(u);const d=window.getComputedStyle(u),g=d.transitionDuration,_="none"===d.transitionProperty||"0s"===g||"0s, 0s"===g||0===i.width&&0===i.height,w=new r_e(this,u,r,_);u.style.transform="scale3d(1, 1, 1)",w.state=0,r.persistent||(this._mostRecentTransientRipple=w);let I=null;return!_&&(l||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const T=()=>this._finishRippleTransition(w),E=()=>this._destroyRipple(w);u.addEventListener("transitionend",T),u.addEventListener("transitioncancel",E),I={onTransitionEnd:T,onTransitionCancel:E}}),this._activeRipples.set(w,I),(_||!l)&&this._finishRippleTransition(w),w}fadeOutRipple(e){if(2===e.state||3===e.state)return;const n=e.element,r={...VG,...e.config.animation};n.style.transitionDuration=`${r.exitDuration}ms`,n.style.opacity="0",e.state=2,(e._animationForciblyDisabledThroughCss||!r.exitDuration)&&this._finishRippleTransition(e)}fadeOutAll(){this._getActiveRipples().forEach(e=>e.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(e=>{e.config.persistent||e.fadeOut()})}setupTriggerEvents(e){const n=vf(e);!this._platform.isBrowser||!n||n===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=n,BG.forEach(r=>{bf._eventManager.addHandler(this._ngZone,r,n,this)}))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{jG.forEach(n=>{this._triggerElement.addEventListener(n,this,UG)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(e){0===e.state?this._startFadeOutTransition(e):2===e.state&&this._destroyRipple(e)}_startFadeOutTransition(e){const n=e===this._mostRecentTransientRipple,{persistent:r}=e.config;e.state=1,!r&&(!n||!this._isPointerDown)&&e.fadeOut()}_destroyRipple(e){const n=this._activeRipples.get(e)??null;this._activeRipples.delete(e),this._activeRipples.size||(this._containerRect=null),e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),e.state=3,null!==n&&(e.element.removeEventListener("transitionend",n.onTransitionEnd),e.element.removeEventListener("transitioncancel",n.onTransitionCancel)),e.element.remove()}_onMousedown(e){const n=function SG(t){return 0===t.buttons||0===t.offsetX&&0===t.offsetY}(e),r=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!n&&!r&&(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled&&!function AG(t){const e=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!e||-1!==e.identifier||null!=e.radiusX&&1!==e.radiusX||null!=e.radiusY&&1!==e.radiusY)}(e)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const n=e.changedTouches;if(n)for(let r=0;r<n.length;r++)this.fadeInRipple(n[r].clientX,n[r].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const e=this._triggerElement;e&&(BG.forEach(n=>bf._eventManager.removeHandler(n,e,this)),this._pointerUpEventsRegistered&&jG.forEach(n=>e.removeEventListener(n,this,UG)))}}bf._eventManager=new i_e;let l_e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Rt({imports:[gu,gu]}),e})();class SS{}class js{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(n=>{const r=n.indexOf(":");if(r>0){const i=n.slice(0,r),s=i.toLowerCase(),o=n.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((n,r)=>{this.setHeaderEntries(r,n)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([n,r])=>{this.setHeaderEntries(n,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const n=this.headers.get(e.toLowerCase());return n&&n.length>0?n[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,n){return this.clone({name:e,value:n,op:"a"})}set(e,n){return this.clone({name:e,value:n,op:"s"})}delete(e,n){return this.clone({name:e,value:n,op:"d"})}maybeSetNormalizedName(e,n){this.normalizedNames.has(n)||this.normalizedNames.set(n,e)}init(){this.lazyInit&&(this.lazyInit instanceof js?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(n=>{this.headers.set(n,e.headers.get(n)),this.normalizedNames.set(n,e.normalizedNames.get(n))})}clone(e){const n=new js;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof js?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n}applyUpdate(e){const n=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,n);const i=("a"===e.op?this.headers.get(n):void 0)||[];i.push(...r),this.headers.set(n,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(n);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(n),this.normalizedNames.delete(n)):this.headers.set(n,o)}else this.headers.delete(n),this.normalizedNames.delete(n)}}setHeaderEntries(e,n){const r=(Array.isArray(n)?n:[n]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(n=>e(this.normalizedNames.get(n),this.headers.get(n)))}}class u_e{encodeKey(e){return $G(e)}encodeValue(e){return $G(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const h_e=/%(\d[a-f0-9])/gi,f_e={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function $G(t){return encodeURIComponent(t).replace(h_e,(e,n)=>f_e[n]??e)}function Ry(t){return`${t}`}class Oo{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new u_e,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function d_e(t,e){const n=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=n.get(o)||[];c.push(a),n.set(o,c)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(n=>{const r=e.fromObject[n],i=Array.isArray(r)?r.map(Ry):[Ry(r)];this.map.set(n,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const n=this.map.get(e);return n?n[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,n){return this.clone({param:e,value:n,op:"a"})}appendAll(e){const n=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{n.push({param:r,value:s,op:"a"})}):n.push({param:r,value:i,op:"a"})}),this.clone(n)}set(e,n){return this.clone({param:e,value:n,op:"s"})}delete(e,n){return this.clone({param:e,value:n,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const n=this.encoder.encodeKey(e);return this.map.get(e).map(r=>n+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const n=new Oo({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat(e),n}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const n=("a"===e.op?this.map.get(e.param):void 0)||[];n.push(Ry(e.value)),this.map.set(e.param,n);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(Ry(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class p_e{constructor(){this.map=new Map}set(e,n){return this.map.set(e,n),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function HG(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function GG(t){return typeof Blob<"u"&&t instanceof Blob}function zG(t){return typeof FormData<"u"&&t instanceof FormData}class Tf{constructor(e,n,r,i){let s;if(this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function g_e(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new js),this.context||(this.context=new p_e),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{const a=n.indexOf("?");this.urlWithParams=n+(-1===a?"?":a<n.length-1?"&":"")+o}}else this.params=new Oo,this.urlWithParams=n}serializeBody(){return null===this.body?null:HG(this.body)||GG(this.body)||zG(this.body)||function m_e(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Oo?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||zG(this.body)?null:GG(this.body)?this.body.type||null:HG(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Oo?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,l=e.params||this.params;const u=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((d,f)=>d.set(f,e.setHeaders[f]),c)),e.setParams&&(l=Object.keys(e.setParams).reduce((d,f)=>d.set(f,e.setParams[f]),l)),new Tf(n,r,s,{params:l,headers:c,context:u,reportProgress:a,responseType:i,withCredentials:o})}}var xS=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(xS||{});class __e{constructor(e,n=200,r="OK"){this.headers=e.headers||new js,this.status=void 0!==e.status?e.status:n,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class Cf extends __e{constructor(e={}){super(e),this.type=xS.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new Cf({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}function MS(t,e){return{body:e,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}let NS=(()=>{var t;class e{constructor(r){this.handler=r}request(r,i,s={}){let o;if(r instanceof Tf)o=r;else{let l,u;l=s.headers instanceof js?s.headers:new js(s.headers),s.params&&(u=s.params instanceof Oo?s.params:new Oo({fromObject:s.params})),o=new Tf(r,i,void 0!==s.body?s.body:null,{headers:l,context:s.context,params:u,reportProgress:s.reportProgress,responseType:s.responseType||"json",withCredentials:s.withCredentials})}const a=se(o).pipe(Ql(l=>this.handler.handle(l)));if(r instanceof Tf||"events"===s.observe)return a;const c=a.pipe(Gi(l=>l instanceof Cf));switch(s.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return c.pipe(ee(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return c.pipe(ee(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return c.pipe(ee(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return c.pipe(ee(l=>l.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${s.observe}}`)}}delete(r,i={}){return this.request("DELETE",r,i)}get(r,i={}){return this.request("GET",r,i)}head(r,i={}){return this.request("HEAD",r,i)}jsonp(r,i){return this.request("JSONP",r,{params:(new Oo).append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(r,i={}){return this.request("OPTIONS",r,i)}patch(r,i,s={}){return this.request("PATCH",r,MS(s,i))}post(r,i,s={}){return this.request("POST",r,MS(s,i))}put(r,i,s={}){return this.request("PUT",r,MS(s,i))}}return(t=e).\u0275fac=function(r){return new(r||t)(j(SS))},t.\u0275prov=J({token:t,factory:t.\u0275fac}),e})();const F_e=["*"];let Oy;function Df(t){return function V_e(){if(void 0===Oy&&(Oy=null,typeof window<"u")){const t=window;void 0!==t.trustedTypes&&(Oy=t.trustedTypes.createPolicy("angular#components",{createHTML:e=>e}))}return Oy}()?.createHTML(t)||t}function t5(t){return Error(`Unable to find icon with the name "${t}"`)}function n5(t){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${t}".`)}function r5(t){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${t}".`)}class Ka{constructor(e,n,r){this.url=e,this.svgText=n,this.options=r}}let Ly=(()=>{var t;class e{constructor(r,i,s,o){this._httpClient=r,this._sanitizer=i,this._errorHandler=o,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._resolvers=[],this._defaultFontSetClass=["material-icons","mat-ligature-font"],this._document=s}addSvgIcon(r,i,s){return this.addSvgIconInNamespace("",r,i,s)}addSvgIconLiteral(r,i,s){return this.addSvgIconLiteralInNamespace("",r,i,s)}addSvgIconInNamespace(r,i,s,o){return this._addSvgIconConfig(r,i,new Ka(s,null,o))}addSvgIconResolver(r){return this._resolvers.push(r),this}addSvgIconLiteralInNamespace(r,i,s,o){const a=this._sanitizer.sanitize(xn.HTML,s);if(!a)throw r5(s);const c=Df(a);return this._addSvgIconConfig(r,i,new Ka("",c,o))}addSvgIconSet(r,i){return this.addSvgIconSetInNamespace("",r,i)}addSvgIconSetLiteral(r,i){return this.addSvgIconSetLiteralInNamespace("",r,i)}addSvgIconSetInNamespace(r,i,s){return this._addSvgIconSetConfig(r,new Ka(i,null,s))}addSvgIconSetLiteralInNamespace(r,i,s){const o=this._sanitizer.sanitize(xn.HTML,i);if(!o)throw r5(i);const a=Df(o);return this._addSvgIconSetConfig(r,new Ka("",a,s))}registerFontClassAlias(r,i=r){return this._fontCssClassesByAlias.set(r,i),this}classNameForFontAlias(r){return this._fontCssClassesByAlias.get(r)||r}setDefaultFontSetClass(...r){return this._defaultFontSetClass=r,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(r){const i=this._sanitizer.sanitize(xn.RESOURCE_URL,r);if(!i)throw n5(r);const s=this._cachedIconsByUrl.get(i);return s?se(Fy(s)):this._loadSvgIconFromConfig(new Ka(r,null)).pipe(Xt(o=>this._cachedIconsByUrl.set(i,o)),ee(o=>Fy(o)))}getNamedSvgIcon(r,i=""){const s=i5(i,r);let o=this._svgIconConfigs.get(s);if(o)return this._getSvgFromConfig(o);if(o=this._getIconConfigFromResolvers(i,r),o)return this._svgIconConfigs.set(s,o),this._getSvgFromConfig(o);const a=this._iconSetConfigs.get(i);return a?this._getSvgFromIconSetConfigs(r,a):Yl(t5(s))}ngOnDestroy(){this._resolvers=[],this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(r){return r.svgText?se(Fy(this._svgElementFromConfig(r))):this._loadSvgIconFromConfig(r).pipe(ee(i=>Fy(i)))}_getSvgFromIconSetConfigs(r,i){const s=this._extractIconWithNameFromAnySet(r,i);return s?se(s):lH(i.filter(a=>!a.svgText).map(a=>this._loadSvgIconSetFromConfig(a).pipe(To(c=>{const u=`Loading icon set URL: ${this._sanitizer.sanitize(xn.RESOURCE_URL,a.url)} failed: ${c.message}`;return this._errorHandler.handleError(new Error(u)),se(null)})))).pipe(ee(()=>{const a=this._extractIconWithNameFromAnySet(r,i);if(!a)throw t5(r);return a}))}_extractIconWithNameFromAnySet(r,i){for(let s=i.length-1;s>=0;s--){const o=i[s];if(o.svgText&&o.svgText.toString().indexOf(r)>-1){const a=this._svgElementFromConfig(o),c=this._extractSvgIconFromSet(a,r,o.options);if(c)return c}}return null}_loadSvgIconFromConfig(r){return this._fetchIcon(r).pipe(Xt(i=>r.svgText=i),ee(()=>this._svgElementFromConfig(r)))}_loadSvgIconSetFromConfig(r){return r.svgText?se(null):this._fetchIcon(r).pipe(Xt(i=>r.svgText=i))}_extractSvgIconFromSet(r,i,s){const o=r.querySelector(`[id="${i}"]`);if(!o)return null;const a=o.cloneNode(!0);if(a.removeAttribute("id"),"svg"===a.nodeName.toLowerCase())return this._setSvgAttributes(a,s);if("symbol"===a.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(a),s);const c=this._svgElementFromString(Df("<svg></svg>"));return c.appendChild(a),this._setSvgAttributes(c,s)}_svgElementFromString(r){const i=this._document.createElement("DIV");i.innerHTML=r;const s=i.querySelector("svg");if(!s)throw Error("<svg> tag not found");return s}_toSvgElement(r){const i=this._svgElementFromString(Df("<svg></svg>")),s=r.attributes;for(let o=0;o<s.length;o++){const{name:a,value:c}=s[o];"id"!==a&&i.setAttribute(a,c)}for(let o=0;o<r.childNodes.length;o++)r.childNodes[o].nodeType===this._document.ELEMENT_NODE&&i.appendChild(r.childNodes[o].cloneNode(!0));return i}_setSvgAttributes(r,i){return r.setAttribute("fit",""),r.setAttribute("height","100%"),r.setAttribute("width","100%"),r.setAttribute("preserveAspectRatio","xMidYMid meet"),r.setAttribute("focusable","false"),i&&i.viewBox&&r.setAttribute("viewBox",i.viewBox),r}_fetchIcon(r){const{url:i,options:s}=r,o=s?.withCredentials??!1;if(!this._httpClient)throw function U_e(){return Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.")}();if(null==i)throw Error(`Cannot fetch icon from URL "${i}".`);const a=this._sanitizer.sanitize(xn.RESOURCE_URL,i);if(!a)throw n5(i);const c=this._inProgressUrlFetches.get(a);if(c)return c;const l=this._httpClient.get(a,{responseType:"text",withCredentials:o}).pipe(ee(u=>Df(u)),L_(()=>this._inProgressUrlFetches.delete(a)),kI());return this._inProgressUrlFetches.set(a,l),l}_addSvgIconConfig(r,i,s){return this._svgIconConfigs.set(i5(r,i),s),this}_addSvgIconSetConfig(r,i){const s=this._iconSetConfigs.get(r);return s?s.push(i):this._iconSetConfigs.set(r,[i]),this}_svgElementFromConfig(r){if(!r.svgElement){const i=this._svgElementFromString(r.svgText);this._setSvgAttributes(i,r.options),r.svgElement=i}return r.svgElement}_getIconConfigFromResolvers(r,i){for(let s=0;s<this._resolvers.length;s++){const o=this._resolvers[s](i,r);if(o)return j_e(o)?new Ka(o.url,null,o.options):new Ka(o,null)}}}return(t=e).\u0275fac=function(r){return new(r||t)(j(NS,8),j(iC),j(Ot,8),j(ei))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),e})();function Fy(t){return t.cloneNode(!0)}function i5(t,e){return t+":"+e}function j_e(t){return!(!t.url||!t.options)}const $_e=LG(class{constructor(t){this._elementRef=t}}),H_e=new V("MAT_ICON_DEFAULT_OPTIONS"),G_e=new V("mat-icon-location",{providedIn:"root",factory:function z_e(){const t=K(Ot),e=t?t.location:null;return{getPathname:()=>e?e.pathname+e.search:""}}}),s5=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],W_e=s5.map(t=>`[${t}]`).join(", "),q_e=/^url\(['"]?#(.*?)['"]?\)$/;let o5=(()=>{var t;class e extends $_e{get inline(){return this._inline}set inline(r){this._inline=function fu(t){return null!=t&&"false"!=`${t}`}(r)}get svgIcon(){return this._svgIcon}set svgIcon(r){r!==this._svgIcon&&(r?this._updateSvgIcon(r):this._svgIcon&&this._clearSvgElement(),this._svgIcon=r)}get fontSet(){return this._fontSet}set fontSet(r){const i=this._cleanupFontValue(r);i!==this._fontSet&&(this._fontSet=i,this._updateFontIconClasses())}get fontIcon(){return this._fontIcon}set fontIcon(r){const i=this._cleanupFontValue(r);i!==this._fontIcon&&(this._fontIcon=i,this._updateFontIconClasses())}constructor(r,i,s,o,a,c){super(r),this._iconRegistry=i,this._location=o,this._errorHandler=a,this._inline=!1,this._previousFontSetClass=[],this._currentIconFetch=rn.EMPTY,c&&(c.color&&(this.color=this.defaultColor=c.color),c.fontSet&&(this.fontSet=c.fontSet)),s||r.nativeElement.setAttribute("aria-hidden","true")}_splitIconName(r){if(!r)return["",""];const i=r.split(":");switch(i.length){case 1:return["",i[0]];case 2:return i;default:throw Error(`Invalid icon name: "${r}"`)}}ngOnInit(){this._updateFontIconClasses()}ngAfterViewChecked(){const r=this._elementsWithExternalReferences;if(r&&r.size){const i=this._location.getPathname();i!==this._previousPath&&(this._previousPath=i,this._prependPathToReferences(i))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(r){this._clearSvgElement();const i=this._location.getPathname();this._previousPath=i,this._cacheChildrenWithExternalReferences(r),this._prependPathToReferences(i),this._elementRef.nativeElement.appendChild(r)}_clearSvgElement(){const r=this._elementRef.nativeElement;let i=r.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();i--;){const s=r.childNodes[i];(1!==s.nodeType||"svg"===s.nodeName.toLowerCase())&&s.remove()}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const r=this._elementRef.nativeElement,i=(this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet).split(/ +/):this._iconRegistry.getDefaultFontSetClass()).filter(s=>s.length>0);this._previousFontSetClass.forEach(s=>r.classList.remove(s)),i.forEach(s=>r.classList.add(s)),this._previousFontSetClass=i,this.fontIcon!==this._previousFontIconClass&&!i.includes("mat-ligature-font")&&(this._previousFontIconClass&&r.classList.remove(this._previousFontIconClass),this.fontIcon&&r.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(r){return"string"==typeof r?r.trim().split(" ")[0]:r}_prependPathToReferences(r){const i=this._elementsWithExternalReferences;i&&i.forEach((s,o)=>{s.forEach(a=>{o.setAttribute(a.name,`url('${r}#${a.value}')`)})})}_cacheChildrenWithExternalReferences(r){const i=r.querySelectorAll(W_e),s=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let o=0;o<i.length;o++)s5.forEach(a=>{const c=i[o],l=c.getAttribute(a),u=l?l.match(q_e):null;if(u){let d=s.get(c);d||(d=[],s.set(c,d)),d.push({name:a,value:u[1]})}})}_updateSvgIcon(r){if(this._svgNamespace=null,this._svgName=null,this._currentIconFetch.unsubscribe(),r){const[i,s]=this._splitIconName(r);i&&(this._svgNamespace=i),s&&(this._svgName=s),this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(s,i).pipe(bo(1)).subscribe(o=>this._setSvgElement(o),o=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${i}:${s}! ${o.message}`))})}}}return(t=e).\u0275fac=function(r){return new(r||t)(M(pn),M(Ly),function sl(t){return function OX(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;const n=t.attrs;if(n){const r=n.length;let i=0;for(;i<r;){const s=n[i];if(QO(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(s===e)return n[i+1];i+=2}}}return null}(An(),t)}("aria-hidden"),M(G_e),M(ei),M(H_e,8))},t.\u0275cmp=Yr({type:t,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:8,hostBindings:function(r,i){2&r&&(Tr("data-mat-icon-type",i._usingFontIcon()?"font":"svg")("data-mat-icon-name",i._svgName||i.fontIcon)("data-mat-icon-namespace",i._svgNamespace||i.fontSet)("fontIcon",i._usingFontIcon()?i.fontIcon:null),or("mat-icon-inline",i.inline)("mat-icon-no-color","primary"!==i.color&&"accent"!==i.color&&"warn"!==i.color))},inputs:{color:"color",inline:"inline",svgIcon:"svgIcon",fontSet:"fontSet",fontIcon:"fontIcon"},exportAs:["matIcon"],features:[Ve],ngContentSelectors:F_e,decls:1,vars:0,template:function(r,i){1&r&&(jm(),$m(0))},styles:["mat-icon,mat-icon.mat-primary,mat-icon.mat-accent,mat-icon.mat-warn{color:var(--mat-icon-color)}.mat-icon{-webkit-user-select:none;user-select:none;background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px;overflow:hidden}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}.mat-icon.mat-ligature-font[fontIcon]::before{content:attr(fontIcon)}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}"],encapsulation:2,changeDetection:0}),e})(),K_e=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Rt({imports:[gu,gu]}),e})();const Y_e=function(t){return{active:t}};function Q_e(t,e){if(1&t){const n=function UV(){return k()}();Y(0,"a",2),rt("click",function(){const s=function FL(t){return de.lFrame.contextLView=t,t[$t]}(n).index;return function VL(t){return de.lFrame.contextLView=null,t}(Bm().toggleActive(s))}),be(1,"mat-icon",3),Y(2,"p"),it(3),oe()()}if(2&t){const n=e.$implicit,r=e.index,i=Bm();Gn("ngClass",m3(3,Y_e,r===i.activeIndex)),gt(1),Pl("fontIcon",n.icon),gt(2),fh(n.title)}}let X_e=(()=>{var t;class e{constructor(){this.iconList=[{icon:"person",title:"My Profile"},{icon:"notifications",title:"Notification"},{icon:"grid_view",title:"Settings"},{icon:"power_settings_new",title:"Logout"}],this.activeIndex=0}toggleActive(r){this.activeIndex=this.activeIndex===r?this.activeIndex:r}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Yr({type:t,selectors:[["app-myprofile"]],decls:2,vars:1,consts:[[1,"profile-area"],["class","profile-icon",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"profile-icon",3,"ngClass","click"],["aria-hidden","false","aria-label","Example home icon",1,"icon",3,"fontIcon"]],template:function(r,i){1&r&&(Y(0,"section",0),Um(1,Q_e,4,5,"a",1),oe()),2&r&&(gt(1),Gn("ngForOf",i.iconList))},dependencies:[jT,QB,o5],styles:["section.profile-area[_ngcontent-%COMP%]{background-color:#fff;padding:1em;border-radius:20px;box-shadow:2px 2px 5px #80808080}.profile-icon[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:1rem;padding:1rem 2rem;border-radius:15px;text-decoration:none;gap:1rem;transition-duration:.5s}.profile-icon[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .profile-icon[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#000;transition-duration:.5s}.profile-icon.active[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%], .profile-icon.active[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .profile-icon.active[_ngcontent-%COMP%]{color:var(--purpal);background-color:var(--light-purpal)}"]}),e})();var J_e=Si(344);const Z_e=["addListener","removeListener"],eye=["addEventListener","removeEventListener"],tye=["on","off"];function kS(t,e,n,r){if(Me(n)&&(r=n,n=void 0),r)return kS(t,e,n).pipe(bC(r));const[i,s]=function iye(t){return Me(t.addEventListener)&&Me(t.removeEventListener)}(t)?eye.map(o=>a=>t[o](e,a,n)):function nye(t){return Me(t.addListener)&&Me(t.removeListener)}(t)?Z_e.map(a5(t,e)):function rye(t){return Me(t.on)&&Me(t.off)}(t)?tye.map(a5(t,e)):[];if(!i&&NI(t))return dn(o=>kS(o,e,n))(er(t));if(!i)throw new TypeError("Invalid event target");return new m(o=>{const a=(...c)=>o.next(1<c.length?c:c[0]);return i(a),()=>s(a)})}function a5(t,e){return n=>r=>t[n](e,r)}function cye(t,e=If,n){const r=function aye(t=0,e,n=xme){let r=-1;return null!=e&&(OO(e)?n=e:r=e),new m(i=>{let s=function oye(t){return t instanceof Date&&!isNaN(t)}(t)?+t-n.now():t;s<0&&(s=0);let o=0;return n.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(t,e);return function sye(t,e){return re((n,r)=>{const{leading:i=!0,trailing:s=!1}=e??{};let o=!1,a=null,c=null,l=!1;const u=()=>{c?.unsubscribe(),c=null,s&&(g(),l&&r.complete())},d=()=>{c=null,l&&r.complete()},f=_=>c=er(t(_)).subscribe(ie(r,u,d)),g=()=>{if(o){o=!1;const _=a;a=null,r.next(_),!l&&f(_)}};n.subscribe(ie(r,_=>{o=!0,a=_,(!c||c.closed)&&(i?g():f(_))},()=>{l=!0,(!(s&&o&&c)||c.closed)&&r.complete()}))})}(()=>r,n)}const lye=["inputRef"],uye=["*"];let PS=(()=>{class t{constructor(){this.tagifyMap=new Map}add(n,r){this.tagifyMap.get(n)?console.warn(`There already exists a tagify instance with name ${n}!`):this.tagifyMap.set(n,r)}get(n){return this.tagifyMap.get(n)}remove(n){this.tagifyMap.delete(n)}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})(),dye=(()=>{class t{constructor(n,r){this.tagifyService=n,this.element=r,this.valueType="undefined",this.onChange=Function.prototype,this.onTouched=Function.prototype,this.unsubscribe$=new F,this.value$=new yr(null),this.skip=!1,this.inputClassValue="",this.readonlyValue=!1,this.settings={},this.name="",this.add=new nt,this.remove=new nt,this.tInput=new nt}set inputClass(n){this.setTagsClass(n),this.inputClassValue=n}set readonly(n){this.readonlyValue=!!n,this.setReadonly()}get value(){return this.valueData}set value(n){n!==this.valueData&&(this.valueData=n,this.onChange(n))}ngAfterViewInit(){this.settings.callbacks=this.settings.callbacks||{},this.settings.callbacks.hasOwnProperty("add")||(this.settings.callbacks.add=()=>this.add.emit({tags:this.tagify.value,added:this.tagify.value[this.tagify.value.length-1]})),this.settings.callbacks.hasOwnProperty("remove")||(this.settings.callbacks.remove=()=>this.remove.emit(this.tagify.value));const n=this.element.nativeElement.textContent;this.tagify=new J_e(this.inputRef.nativeElement,this.settings),this.name.length&&this.tagifyService.add(this.name,this.tagify),this.setReadonly(),n.length&&(this.tagify.loadOriginalValues(n),this.skip=!0,setTimeout(()=>{this.setValue()})),this.value$.pipe(Xl(this.unsubscribe$)).subscribe(r=>{if(null!==r){if(this.skip)return void(this.skip=!1);if("undefined"===this.valueType&&(this.valueType=typeof r),"string"==typeof r)return this.tagify.loadOriginalValues(r),void setTimeout(()=>{this.setValue()});this.tagify.addTags(r,!1,!0),this.tagify.value.forEach(i=>{if(!r.find(s=>s.value===i.value)){const s=this.tagify.getTagElms().find(o=>o.attributes.getNamedItem("value").textContent===i.value);this.tagify.removeTags(s)}})}}),this.tagify.on("input",r=>{this.tInput.emit("value"in r.detail?r.detail.value:r.detail.textContent),"string"===this.valueType&&"mix"===this.tagify.settings.mode&&(this.value=this.tagify.getMixedTagsAsString())}),kS(this.tagify,"change").pipe(cye(0,If,{leading:!1,trailing:!0}),Xl(this.unsubscribe$)).subscribe(()=>{this.setValue()}),this.whitelist&&this.whitelist.pipe(Xl(this.unsubscribe$)).subscribe(r=>{this.tagify.settings.whitelist=r})}writeValue(n){this.value$.next(n)}registerOnChange(n){this.onChange=n}registerOnTouched(n){this.onTouched=n}setValue(){this.value="string"===this.valueType?"mix"===this.tagify.settings.mode?this.tagify.getMixedTagsAsString():this.tagify.DOM.originalInput.value:this.tagify.value.slice()}setTagsClass(n){const r=this.element.nativeElement.querySelector("tags");r&&(r.classList.remove(...this.inputClassValue.split(/\s+/)),r.classList.add(...n.split(/\s+/)))}setReadonly(){this.tagify&&this.tagify.setReadonly(this.readonlyValue)}ngOnDestroy(){this.unsubscribe$.next(),this.unsubscribe$.complete(),this.tagify.destroy(),this.name.length&&this.tagifyService.remove(this.name)}}return t.\u0275fac=function(n){return new(n||t)(M(PS),M(pn))},t.\u0275cmp=Yr({type:t,selectors:[["tagify"]],viewQuery:function(n,r){if(1&n&&Xm(lye,7),2&n){let i;Ih(i=Eh())&&(r.inputRef=i.first)}},inputs:{settings:"settings",name:"name",whitelist:"whitelist",inputClass:"inputClass",readonly:"readonly"},outputs:{add:"add",remove:"remove",tInput:"tInput"},features:[st([{provide:si,useExisting:Xe(()=>t),multi:!0}])],ngContentSelectors:uye,decls:4,vars:1,consts:[[3,"ngClass"],["inputRef",""],[2,"display","none"]],template:function(n,r){1&n&&(jm(),be(0,"input",0,1),Y(2,"span",2),$m(3),oe()),2&n&&Gn("ngClass",r.inputClassValue)},dependencies:[jT],encapsulation:2}),t})(),hye=(()=>{class t{static forRoot(){return{ngModule:t,providers:[PS]}}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Rt({providers:[PS],imports:[qT]}),t})();const fye=["editor"];let pye=(()=>{var t;class e{constructor(){this.selectedFacility="",this.settings={tagTextProp:"name",enforceWhitelist:!1,dropdown:{closeOnSelect:!0,enabled:0,classname:"users-list",searchKeys:["name","email"]},templates:{tag(r){return`\n        <tag title="${r.email||""}"\n             contenteditable='false'\n             spellcheck='false'\n             tabIndex="-1"\n             class="tagify__tag"\n             ${this.getAttributes(r)}>\n          <x title='' class='tagify__tag__removeBtn' role='button' aria-label='remove tag'></x>\n          <div>\n            <div class='tagify__tag__avatar-wrap'>\n              <img src="${r.avatar||"https://i.pravatar.cc/80?img=12"}">\n            </div>\n            <span class='tagify__tag-text'>${r.name}</span>\n          </div>\n        </tag>\n      `},dropdownItem(r){return`\n            <div ${this.getAttributes(r)}\n              class='tagify__dropdown__item'\n              tabindex="0"\n              tagifySuggestionIdx="${r.value}"\n              role="option">\n              ${r.avatar?`\n                  <div class='tagify__dropdown__item__avatar-wrap'>\n                      <img src="${r.avatar}">\n                  </div>`:""}\n              <strong>${r.name}</strong>\n              <span>${r.email}</span>\n          </div>\n          `},dropdownHeader(r){return`\n            <header data-selector='tagify-suggestions-header' class="${this.settings.classNames.dropdownItem} ${this.settings.classNames.dropdownItem}__addAll">\n              <div>\n                  <strong>${this.value.length?"Add Remaning":"Add All"}</strong>\n                  <a class='remove-all-tags'>Remove all</a>\n              </div>\n              <span>${r.length} members</span>\n          </header>\n          `}},transformTag:r=>{const{name:i,email:s}=this.parseFullValue(r.name);r.name=i,r.email=s||r.email},validate:({name:r,email:i})=>{if(!i&&r){const s=this.parseFullValue(r);r=s.name,i=s.email}return!!r||"Missing name"},callbacks:{"dropdown:show":r=>{console.log(r)},"dropdown:select":r=>{const i=r.detail.tagify;r.detail.event instanceof MouseEvent&&r.detail.event.target.matches(".remove-all-tags")?i.removeAllTags():r.detail.elm.classList.contains(`${i.settings.classNames.dropdownItem}__addAll`)&&i.dropdown.selectAll()},"edit:start":r=>{r.detail.tagify.setTagTextNode(r.detail.tag,`${r.detail.data.name} ${r.detail.data.email}`)}},whitelist:[{value:"1",name:"Justinian Hattersley",avatar:"https://i.pravatar.cc/80?img=1",email:"jhattersley0@ucsd.edu",team:"A"},{value:"2",name:"Antons Esson",avatar:"https://i.pravatar.cc/80?img=2",email:"aesson1@ning.com",team:"B"},{value:"3",name:"Ardeen Batisse",avatar:"https://i.pravatar.cc/80?img=3",email:"abatisse2@nih.gov",team:"A"},{value:"4",name:"Graeme Yellowley",avatar:"https://i.pravatar.cc/80?img=4",email:"gyellowley3@behance.net",team:"C"},{value:"5",name:"Dido Wilford",avatar:"https://i.pravatar.cc/80?img=5",email:"dwilford4@jugem.jp",team:"A"},{value:"6",name:"Celesta Orwin",avatar:"https://i.pravatar.cc/80?img=6",email:"corwin5@meetup.com",team:"C"},{value:"7",name:"Sally Main",avatar:"https://i.pravatar.cc/80?img=7",email:"smain6@techcrunch.com",team:"A"},{value:"8",name:"Grethel Haysman",avatar:"https://i.pravatar.cc/80?img=8",email:"ghaysman7@mashable.com",team:"B"},{value:"9",name:"Marvin Mandrake",avatar:"https://i.pravatar.cc/80?img=9",email:"mmandrake8@sourceforge.net",team:"B"},{value:"10",name:"Corrie Tidey",avatar:"https://i.pravatar.cc/80?img=10",email:"ctidey9@youtube.com",team:"A"},{value:"11",name:"foo",avatar:"https://i.pravatar.cc/80?img=11",email:"foo@bar.com",team:"B"},{value:"12",name:"foo",avatar:"https://i.pravatar.cc/80?img=12",email:"foo.aaa@foo.com",team:"A"}]},this.places=[],this.locationSettings={placeholder:"Enter Location",blacklist:["fucking","shit"],maxTags:1,callbacks:{click:r=>{console.log(r.detail)}}},this.facilitySettings={enforceWhitelist:!1,whitelist:["Projector","Car Parking","Food","Music System","Internet"],dropdown:{enabled:1}},this.alignment="left",this.isBold=!1,this.isItalic=!1,this.isUnderline=!1}validateEmail(r){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r)}parseFullValue(r){const i=r.split(/<(.*?)>/g),s=i[0].trim(),o=i[1]?.replace(/<(.*?)>/g,"").trim();return{name:s,email:o}}toggleAlignment(r){this.alignment=r,document.execCommand("justify"+r)}toggleFormatting(r){document.execCommand(r,!1,""),"bold"===r?this.isBold=!this.isBold:"italic"===r?this.isItalic=!this.isItalic:"underline"===r&&(this.isUnderline=!this.isUnderline),console.log(r),this.updateButtonActiveState(r)}updateButtonActiveState(r){"bold"===r?this.isBold=document.queryCommandState(r):"italic"===r?this.isItalic=document.queryCommandState(r):"underline"===r&&(this.isUnderline=document.queryCommandState(r))}onEditorInput(r){console.log("Content:",r.target.innerText)}isFormattingActive(r){return console.log(r),document.queryCommandState(r)}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Yr({type:t,selectors:[["app-meeting-detail"]],viewQuery:function(r,i){if(1&r&&Xm(fye,5),2&r){let s;Ih(s=Eh())&&(i.editor=s.first)}},decls:80,vars:17,consts:[[1,"meeting-details"],[1,"title","detail-field"],["fontIcon","edit",1,"icon"],[1,"input-container"],["type","text","name","title","id","title","placeholder","Title"],["for","title",1,"placeholder"],[1,"guest-field","detail-field"],["fontIcon","person",1,"icon"],[1,"tagify-main",3,"settings"],[1,"date-and-time-field","detail-field"],["fontIcon","schedule",1,"icon"],[1,"flex","date-feilds"],["type","date","name","date","id","datestart","placeholder","Date"],["for","date",1,"placeholder"],["fontIcon","arrow_forward",1,"icon"],["type","date","name","date","id","dateend","placeholder","Date"],[1,"meeting-place","detail-field"],["fontIcon","place",1,"icon"],[1,"location-tagify",3,"settings","ngModel","ngModelChange"],[1,"facilities","detail-field"],["fontIcon","star",1,"icon"],[1,"meeting-with","detail-field"],["fontIcon","group",1,"icon"],[1,"meet-with"],[1,"meeting-description","detail-field"],["fontIcon","text_fields",1,"icon"],[1,"toolbar"],[3,"click"],["fontIcon","format_bold",1,"icon"],["fontIcon","format_italic",1,"icon"],["fontIcon","format_underlined",1,"icon"],["fontIcon","format_align_left",1,"icon"],["fontIcon","format_align_center",1,"icon"],["fontIcon","format_align_right",1,"icon"],["contentEditable","true",1,"editor",3,"input"],["fontIcon","edit_square",1,"icon"],["type","text","name","agenda","id","agenda","placeholder","Agenda"],["for","agenda",1,"placeholder"],[1,"button-submit"],[1,"submit"]],template:function(r,i){1&r&&(Y(0,"section",0)(1,"div",1),be(2,"mat-icon",2),Y(3,"div",3),be(4,"input",4),Y(5,"label",5),it(6,"Title"),oe()()(),Y(7,"div",6),be(8,"mat-icon",7),Y(9,"tagify",8),it(10," abatisse2@nih.gov, Justinian Hattersley "),oe()(),Y(11,"div",9),be(12,"mat-icon",10),Y(13,"div",11)(14,"div",3),be(15,"input",12),Y(16,"label",13),it(17,"Date"),oe()(),Y(18,"select")(19,"option"),it(20,"2:30 PM"),oe(),Y(21,"option"),it(22,"1:30 PM"),oe(),Y(23,"option"),it(24,"2:30 PM"),oe()(),be(25,"mat-icon",14),Y(26,"div",3),be(27,"input",15),Y(28,"label",13),it(29,"Date"),oe()(),Y(30,"select")(31,"option"),it(32,"2:30 PM"),oe(),Y(33,"option"),it(34,"1:30 PM"),oe(),Y(35,"option"),it(36,"2:30 PM"),oe()()()(),Y(37,"div",16),be(38,"mat-icon",17),Y(39,"tagify",18),rt("ngModelChange",function(o){return i.places=o}),oe()(),Y(40,"div",19),be(41,"mat-icon",20),Y(42,"tagify",18),rt("ngModelChange",function(o){return i.selectedFacility=o}),oe()(),Y(43,"div",21),be(44,"mat-icon",22),Y(45,"select",23)(46,"option"),it(47,"Relation with NTN"),oe(),Y(48,"option"),it(49,"Relation with ABC"),oe(),Y(50,"option"),it(51,"Relation with ABC"),oe(),Y(52,"option"),it(53,"Relation with ABC"),oe()()(),Y(54,"div",24),be(55,"mat-icon",25),Y(56,"div",26)(57,"button",27),rt("click",function(){return i.toggleFormatting("bold")}),be(58,"mat-icon",28),oe(),Y(59,"button",27),rt("click",function(){return i.toggleFormatting("italic")}),be(60,"mat-icon",29),oe(),Y(61,"button",27),rt("click",function(){return i.toggleFormatting("underline")}),be(62,"mat-icon",30),oe(),Y(63,"button",27),rt("click",function(){return i.toggleAlignment("left")}),be(64,"mat-icon",31),oe(),Y(65,"button",27),rt("click",function(){return i.toggleAlignment("center")}),be(66,"mat-icon",32),oe(),Y(67,"button",27),rt("click",function(){return i.toggleAlignment("right")}),be(68,"mat-icon",33),oe(),Y(69,"div",34),rt("input",function(o){return i.onEditorInput(o)}),it(70," Type details for new meeting "),oe()()(),Y(71,"div",1),be(72,"mat-icon",35),Y(73,"div",3),be(74,"input",36),Y(75,"label",37),it(76,"Agenda"),oe()()(),Y(77,"div",38)(78,"button",39),it(79,"Save"),oe()()()),2&r&&(gt(9),Gn("settings",i.settings),gt(30),Gn("settings",i.locationSettings)("ngModel",i.places),gt(3),Gn("settings",i.facilitySettings)("ngModel",i.selectedFacility),gt(15),or("active",i.isBold),gt(2),or("active",i.isItalic),gt(2),or("active",i.isUnderline),gt(2),or("active","left"===i.alignment),gt(2),or("active","center"===i.alignment),gt(2),or("active","right"===i.alignment))},dependencies:[o5,sG,aG,aS,Sy,dye],styles:['.detail-field[_ngcontent-%COMP%]{display:flex;justify-content:baseline;align-items:center;gap:2rem}.meeting-details[_ngcontent-%COMP%]{background-color:#fff;padding:2rem;border-radius:10px;display:flex;flex-direction:column;gap:1rem}.date-and-time-field[_ngcontent-%COMP%]   .input-container[_ngcontent-%COMP%]{width:auto}.date-feilds[_ngcontent-%COMP%]{align-items:center}.icon[_ngcontent-%COMP%]{color:var(--purpal);overflow:visible}.editable-textarea.placeholder[_ngcontent-%COMP%]:before{content:attr(data-placeholder);color:#999;font-style:italic;pointer-events:none}.input-container[_ngcontent-%COMP%], .toolbar[_ngcontent-%COMP%]{position:relative;width:100%}.toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background:none;border:none;margin-right:1rem}.toolbar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:#a3a3a3}.toolbar[_ngcontent-%COMP%]   button.active[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{color:var(--purpal)}.meeting-with[_ngcontent-%COMP%]   select.meet-with[_ngcontent-%COMP%]{border:1px solid #d5d8de;border-radius:5px;padding:20px 0 20px 10px;width:20%;box-sizing:border-box;transition-duration:5s;background-color:#fff}.editor[_ngcontent-%COMP%]:focus-visible{outline:none}.meeting-description[_ngcontent-%COMP%]{align-items:baseline}.button-submit[_ngcontent-%COMP%]{display:flex;justify-content:end;margin-top:2rem}button.submit[_ngcontent-%COMP%]{background-color:var(--purpal);border:none;color:#fff;font-size:16px;font-weight:600;padding:17px 56px;border-radius:10px}.editor[_ngcontent-%COMP%]{min-height:5rem}.toolbar[_ngcontent-%COMP%], .input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%], .date-feilds[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{border:1px solid #d5d8de;border-radius:5px;padding:20px 0 20px 10px;width:100%;box-sizing:border-box;transition-duration:5s;background-color:#fff}.input-container[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus-visible{outline-color:var(--purpal)}.input-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]::placeholder{font-size:16px;transform:translateY(0);transition:font-size .3s ease-in-out,transform .3s ease-in-out,color .3s ease-in-out;font-family:Times New Roman,Times,serif}.input-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:focus::placeholder{font-size:12px;transform:translateY(-115%)}.input-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:none}.input-container[_ngcontent-%COMP%]   input[type=text][_ngcontent-%COMP%]:not(:placeholder-shown) + label[_ngcontent-%COMP%]{position:absolute;top:10px;left:11px;display:block;font-size:12px;color:#877775;font-family:Times New Roman,Times,serif}[_nghost-%COMP%]  .tagify{--tag-pad: .3rem .5rem;line-height:normal;font:14px Arial;width:100%;background-color:#fff;padding:6px 20px;gap:1rem}.tagify-main[_ngcontent-%COMP%]{width:100%}  .tagify__dropdown.users-list .tagify__dropdown__item{display:grid;grid-template-columns:auto 1fr;gap:0 1em;grid-template-areas:"avatar name" "avatar email"}  .tagify__dropdown.users-list .tagify__dropdown__item:hover .tagify__dropdown__item__avatar-wrap{transform:scale(1.2)}  .tagify__dropdown.users-list .tagify__dropdown__item__avatar-wrap{grid-area:avatar;width:36px;height:36px;border-radius:50%;overflow:hidden;background:#eee;transition:.1s ease-out}  .tagify__dropdown.users-list img{width:100%;vertical-align:top}  .tagify__dropdown.users-list div,   .tagify__dropdown.users-list strong{grid-area:name;width:100%;align-self:center}  .tagify__dropdown.users-list span{grid-area:email;width:100%;font-size:.9em;opacity:.6}  .tagify__dropdown.users-list .tagify__dropdown__item__addAll{border-bottom:1px solid #ddd;gap:0}[_nghost-%COMP%]  .tagify__tag{white-space:nowrap;padding:0;background-color:var(--light-purpal);border-radius:999999px}[_nghost-%COMP%]  .tagify__tag>div{padding:0!important;display:flex;align-items:center}[_nghost-%COMP%]  .location-tagify .tagify__tag{padding:5px 10px}[_nghost-%COMP%]  .location-tagify{width:100%}[_nghost-%COMP%]  .tagify__tag>div .tagify__tag-text{font-size:15px;font-weight:500;color:#323941}[_nghost-%COMP%]  .tagify__tag>div:before{display:none}[_nghost-%COMP%]  .tagify__tag img{width:100%;vertical-align:top;pointer-events:none}[_nghost-%COMP%]  .tagify__tag .tagify__tag__avatar-wrap{width:35px;white-space:normal;border-radius:50%;background:silver;margin-right:5px;transition:.12s ease-out}  .users-list .tagify__dropdown__itemsGroup:empty{display:none}  .users-list .tagify__dropdown__itemsGroup:before{content:attr(data-title);display:inline-block;font-size:.9em;padding:4px 6px;font-style:italic;border-radius:4px;background:#00ce8d;color:#fff;font-weight:600}  .users-list .tagify__dropdown__itemsGroup:not(:first-of-type){border-top:1px solid #ddd}']}),e})(),gye=(()=>{var t;class e{constructor(r){this.route=r}ngOnInit(){this.logo=this.route.snapshot.data.logo,this.userLogin=this.route.snapshot.data.userLogin,this.userImage=this.route.snapshot.data.userImage}}return(t=e).\u0275fac=function(r){return new(r||t)(M(So))},t.\u0275cmp=Yr({type:t,selectors:[["app-new-meeting-details"]],decls:5,vars:3,consts:[[3,"logo","userLogin","userImage"],[1,"metting-page"]],template:function(r,i){1&r&&(be(0,"app-header",0),Y(1,"main",1),be(2,"app-myprofile")(3,"app-meeting-detail"),oe(),be(4,"app-footer")),2&r&&Gn("logo",i.logo)("userLogin",i.userLogin)("userImage",i.userImage)},dependencies:[gme,mme,X_e,pye],styles:["main.metting-page[_ngcontent-%COMP%]{display:flex;max-width:95%;margin:auto;margin-top:2rem;gap:2rem}main.metting-page[_ngcontent-%COMP%] > [_ngcontent-%COMP%]:nth-child(2){width:100%}@media (max-width:876px){main.metting-page[_ngcontent-%COMP%]{flex-direction:column}}"]}),e})();const c5={logo:"/assets/images/logo.png",userLogin:"Talha Ahmad",userImage:"/assets/images/userimg.png"},mye=[{path:"",component:pme,data:c5},{path:"new-meeting-details",component:gye,data:c5}];let _ye=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Rt({imports:[n4.forRoot(mye),n4]}),e})(),yye=(()=>{var t;class e{constructor(){this.title="erp-app",this.logo="/assets/images/logo.png",this.userLogin="Talha Ahmad",this.userImage="/assets/images/userimg.png"}}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275cmp=Yr({type:t,selectors:[["app-root"]],decls:1,vars:0,template:function(r,i){1&r&&be(0,"router-outlet")},dependencies:[VC]}),e})(),u5=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Rt({}),e})(),Mye=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Rt({imports:[u5,gu,l_e,qT,u5,gu]}),e})();class Nye{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(function Rye(t){const e=t.getComponent();return"VERSION"===e?.type}(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}return null}).filter(n=>n).join(" ")}}const OS="@firebase/app",Ya=new ks("@firebase/app"),Vy="[DEFAULT]",ive={[OS]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Qa=new Map,Uy=new Map;function sve(t,e){try{t.container.addComponent(e)}catch(n){Ya.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xa(t){const e=t.name;if(Uy.has(e))return Ya.debug(`There were multiple attempts to register component ${e}.`),!1;Uy.set(e,t);for(const n of Qa.values())sve(n,t);return!0}function Sf(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}const $s=new Sr("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ave{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Dt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $s.create("app-deleted",{appName:this._name})}}const Ja="9.23.0";function h5(t,e={}){let n=t;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:Vy,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw $s.create("bad-app-name",{appName:String(i)});if(n||(n=I_()),!n)throw $s.create("no-options");const s=Qa.get(i);if(s){if(ka(n,s.options)&&ka(r,s.config))return s;throw $s.create("duplicate-app",{appName:i})}const o=new Pj(i);for(const c of Uy.values())o.addComponent(c);const a=new ave(n,r,o);return Qa.set(i,a),a}function By(t=Vy){const e=Qa.get(t);if(!e&&t===Vy&&I_())return h5();if(!e)throw $s.create("no-app",{appName:t});return e}function f5(){return Array.from(Qa.values())}function zn(t,e,n){var r;let i=null!==(r=ive[t])&&void 0!==r?r:t;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void Ya.warn(a.join(" "))}Xa(new Dt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const cve="firebase-heartbeat-database",lve=1,Af="firebase-heartbeat-store";let FS=null;function p5(){return FS||(FS=Bj(cve,lve,{upgrade:(t,e)=>{0===e&&t.createObjectStore(Af)}}).catch(t=>{throw $s.create("idb-open",{originalErrorMessage:t.message})})),FS}function VS(){return(VS=v(function*(t){try{return yield(yield p5()).transaction(Af).objectStore(Af).get(m5(t))}catch(e){if(e instanceof Mn)Ya.warn(e.message);else{const n=$s.create("idb-get",{originalErrorMessage:e?.message});Ya.warn(n.message)}}})).apply(this,arguments)}function g5(t,e){return US.apply(this,arguments)}function US(){return(US=v(function*(t,e){try{const r=(yield p5()).transaction(Af,"readwrite");yield r.objectStore(Af).put(e,m5(t)),yield r.done}catch(n){if(n instanceof Mn)Ya.warn(n.message);else{const r=$s.create("idb-set",{originalErrorMessage:n?.message});Ya.warn(r.message)}}})).apply(this,arguments)}function m5(t){return`${t.name}!${t.options.appId}`}class fve{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new gve(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return v(function*(){const r=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=_5();if(null===e._heartbeatsCache&&(e._heartbeatsCache=yield e._heartbeatsCachePromise),e._heartbeatsCache.lastSentHeartbeatDate!==i&&!e._heartbeatsCache.heartbeats.some(s=>s.date===i))return e._heartbeatsCache.heartbeats.push({date:i,agent:r}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(s=>{const o=new Date(s.date).valueOf();return Date.now()-o<=2592e6}),e._storage.overwrite(e._heartbeatsCache)})()}getHeartbeatsHeader(){var e=this;return v(function*(){if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null===e._heartbeatsCache||0===e._heartbeatsCache.heartbeats.length)return"";const n=_5(),{heartbeatsToSend:r,unsentEntries:i}=function pve(t,e=1024){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),y5(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),y5(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(e._heartbeatsCache.heartbeats),s=Gl(JSON.stringify({version:2,heartbeats:r}));return e._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(e._heartbeatsCache.heartbeats=i,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),s})()}}function _5(){return(new Date).toISOString().substring(0,10)}class gve{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return v(function*(){return!!Io()&&Wl().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return v(function*(){return(yield e._canUseIndexedDBPromise)&&(yield function uve(t){return VS.apply(this,arguments)}(e.app))||{heartbeats:[]}})()}overwrite(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return g5(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var n=this;return v(function*(){var r;if(yield n._canUseIndexedDBPromise){const s=yield n.read();return g5(n.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function y5(t){return Gl(JSON.stringify({version:2,heartbeats:t})).length}!function mve(t){Xa(new Dt("platform-logger",e=>new Nye(e),"PRIVATE")),Xa(new Dt("heartbeat",e=>new fve(e),"PRIVATE")),zn(OS,"0.9.13",t),zn(OS,"0.9.13","esm2017"),zn("fire-js","")}(""),zn("firebase","9.23.0","app");const vve=(t,e)=>e.some(n=>t instanceof n);let v5,w5;const I5=new WeakMap,BS=new WeakMap,E5=new WeakMap,jS=new WeakMap,$S=new WeakMap;let HS={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return BS.get(t);if("objectStoreNames"===e)return t.objectStoreNames||E5.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Fo(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Dve(t){return"function"==typeof t?function Cve(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Ive(){return w5||(w5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(GS(this),e),Fo(I5.get(this))}:function(...e){return Fo(t.apply(GS(this),e))}:function(e,...n){const r=t.call(GS(this),e,...n);return E5.set(r,e.sort?e.sort():[e]),Fo(r)}}(t):(t instanceof IDBTransaction&&function bve(t){if(BS.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});BS.set(t,e)}(t),vve(t,function wve(){return v5||(v5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,HS):t)}function Fo(t){if(t instanceof IDBRequest)return function Eve(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Fo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&I5.set(n,t)}).catch(()=>{}),$S.set(e,t),e}(t);if(jS.has(t))return jS.get(t);const e=Dve(t);return e!==t&&(jS.set(t,e),$S.set(e,t)),e}const GS=t=>$S.get(t),Ave=["get","getKey","getAll","getAllKeys","count"],xve=["put","add","delete","clear"],zS=new Map;function b5(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(zS.get(e))return zS.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=xve.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Ave.includes(n))return;const s=function(){var o=v(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return zS.set(e,s),s}!function Tve(t){HS=t(HS)}(t=>({...t,get:(e,n,r)=>b5(e,n)||t.get(e,n,r),has:(e,n)=>!!b5(e,n)||t.has(e,n)}));const T5="@firebase/installations",WS="0.6.4",C5=1e4,D5=`w:${WS}`,S5="FIS_v2",Mve="https://firebaseinstallations.googleapis.com/v1",Nve=36e5,Hs=new Sr("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function A5(t){return t instanceof Mn&&t.code.includes("request-failed")}function qS({projectId:t}){return`${Mve}/projects/${t}/installations`}function x5(t){return{token:t.token,requestStatus:2,expiresIn:Ove(t.expiresIn),creationTime:Date.now()}}function KS(t,e){return YS.apply(this,arguments)}function YS(){return(YS=v(function*(t,e){const r=(yield e.json()).error;return Hs.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function M5({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function QS(t){return XS.apply(this,arguments)}function XS(){return(XS=v(function*(t){const e=yield t();return e.status>=500&&e.status<600?t():e})).apply(this,arguments)}function Ove(t){return Number(t.replace("s","000"))}function JS(){return(JS=v(function*({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=qS(t),i=M5(t),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({fid:n,authVersion:S5,appId:t.appId,sdkVersion:D5})},c=yield QS(()=>fetch(r,a));if(c.ok){const l=yield c.json();return{fid:l.fid||n,registrationStatus:2,refreshToken:l.refreshToken,authToken:x5(l.authToken)}}throw yield KS("Create Installation",c)})).apply(this,arguments)}function R5(t){return new Promise(e=>{setTimeout(e,t)})}const Uve=/^[cdef][\w-]{21}$/,ZS="";function Bve(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=function jve(t){return function Vve(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}(t).substr(0,22)}(t);return Uve.test(n)?n:ZS}catch{return ZS}}function mu(t){return`${t.appName}!${t.appId}`}const _u=new Map;function k5(t,e){const n=mu(t);P5(n,e),function Gve(t,e){const n=function O5(){return!Za&&"BroadcastChannel"in self&&(Za=new BroadcastChannel("[Firebase] FID Change"),Za.onmessage=t=>{P5(t.data.key,t.data.fid)}),Za}();n&&n.postMessage({key:t,fid:e}),function L5(){0===_u.size&&Za&&(Za.close(),Za=null)}()}(n,e)}function P5(t,e){const n=_u.get(t);if(n)for(const r of n)r(e)}let Za=null;const zve="firebase-installations-database",Wve=1,ec="firebase-installations-store";let eA=null;function tA(){return eA||(eA=function Sve(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Fo(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Fo(o.result),c.oldVersion,c.newVersion,Fo(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}(zve,Wve,{upgrade:(t,e)=>{0===e&&t.createObjectStore(ec)}})),eA}function jy(t,e){return nA.apply(this,arguments)}function nA(){return(nA=v(function*(t,e){const n=mu(t),i=(yield tA()).transaction(ec,"readwrite"),s=i.objectStore(ec),o=yield s.get(n);return yield s.put(e,n),yield i.done,(!o||o.fid!==e.fid)&&k5(t,e.fid),e})).apply(this,arguments)}function rA(t){return iA.apply(this,arguments)}function iA(){return(iA=v(function*(t){const e=mu(t),r=(yield tA()).transaction(ec,"readwrite");yield r.objectStore(ec).delete(e),yield r.done})).apply(this,arguments)}function xf(t,e){return sA.apply(this,arguments)}function sA(){return(sA=v(function*(t,e){const n=mu(t),i=(yield tA()).transaction(ec,"readwrite"),s=i.objectStore(ec),o=yield s.get(n),a=e(o);return void 0===a?yield s.delete(n):yield s.put(a,n),yield i.done,a&&(!o||o.fid!==a.fid)&&k5(t,a.fid),a})).apply(this,arguments)}function oA(t){return aA.apply(this,arguments)}function aA(){return aA=v(function*(t){let e;const n=yield xf(t.appConfig,r=>{const i=function qve(t){return V5(t||{fid:Bve(),registrationStatus:0})}(r),s=function Kve(t,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(Hs.create("app-offline"))};const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Yve(t,e){return cA.apply(this,arguments)}(t,n);return{installationEntry:n,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:Qve(t)}:{installationEntry:e}}(t,i);return e=s.registrationPromise,s.installationEntry});return n.fid===ZS?{installationEntry:yield e}:{installationEntry:n,registrationPromise:e}}),aA.apply(this,arguments)}function cA(){return cA=v(function*(t,e){try{const n=yield function Fve(t,e){return JS.apply(this,arguments)}(t,e);return jy(t.appConfig,n)}catch(n){throw A5(n)&&409===n.customData.serverCode?yield rA(t.appConfig):yield jy(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}),cA.apply(this,arguments)}function Qve(t){return lA.apply(this,arguments)}function lA(){return(lA=v(function*(t){let e=yield F5(t.appConfig);for(;1===e.registrationStatus;)yield R5(100),e=yield F5(t.appConfig);if(0===e.registrationStatus){const{installationEntry:n,registrationPromise:r}=yield oA(t);return r||n}return e})).apply(this,arguments)}function F5(t){return xf(t,e=>{if(!e)throw Hs.create("installation-not-found");return V5(e)})}function V5(t){return function Xve(t){return 1===t.registrationStatus&&t.registrationTime+C5<Date.now()}(t)?{fid:t.fid,registrationStatus:0}:t}function uA(){return(uA=v(function*({appConfig:t,heartbeatServiceProvider:e},n){const r=function Zve(t,{fid:e}){return`${qS(t)}/${e}/authTokens:generate`}(t,n),i=function N5(t,{refreshToken:e}){const n=M5(t);return n.append("Authorization",function Lve(t){return`${S5} ${t}`}(e)),n}(t,n),s=e.getImmediate({optional:!0});if(s){const l=yield s.getHeartbeatsHeader();l&&i.append("x-firebase-client",l)}const a={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:D5,appId:t.appId}})},c=yield QS(()=>fetch(r,a));if(c.ok)return x5(yield c.json());throw yield KS("Generate Auth Token",c)})).apply(this,arguments)}function dA(t){return hA.apply(this,arguments)}function hA(){return hA=v(function*(t,e=!1){let n;const r=yield xf(t.appConfig,s=>{if(!B5(s))throw Hs.create("not-registered");const o=s.authToken;if(!e&&function nwe(t){return 2===t.requestStatus&&!function rwe(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Nve}(t)}(o))return s;if(1===o.requestStatus)return n=function ewe(t,e){return fA.apply(this,arguments)}(t,e),s;{if(!navigator.onLine)throw Hs.create("app-offline");const a=function iwe(t){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},t),{authToken:e})}(s);return n=function twe(t,e){return pA.apply(this,arguments)}(t,a),a}});return n?yield n:r.authToken}),hA.apply(this,arguments)}function fA(){return(fA=v(function*(t,e){let n=yield U5(t.appConfig);for(;1===n.authToken.requestStatus;)yield R5(100),n=yield U5(t.appConfig);const r=n.authToken;return 0===r.requestStatus?dA(t,e):r})).apply(this,arguments)}function U5(t){return xf(t,e=>{if(!B5(e))throw Hs.create("not-registered");return function swe(t){return 1===t.requestStatus&&t.requestTime+C5<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function pA(){return pA=v(function*(t,e){try{const n=yield function Jve(t,e){return uA.apply(this,arguments)}(t,e),r=Object.assign(Object.assign({},e),{authToken:n});return yield jy(t.appConfig,r),n}catch(n){if(!A5(n)||401!==n.customData.serverCode&&404!==n.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield jy(t.appConfig,r)}else yield rA(t.appConfig);throw n}}),pA.apply(this,arguments)}function B5(t){return void 0!==t&&2===t.registrationStatus}function gA(){return(gA=v(function*(t){const e=t,{installationEntry:n,registrationPromise:r}=yield oA(e);return r?r.catch(console.error):dA(e).catch(console.error),n.fid})).apply(this,arguments)}function mA(){return mA=v(function*(t,e=!1){const n=t;return yield function cwe(t){return _A.apply(this,arguments)}(n),(yield dA(n,e)).token}),mA.apply(this,arguments)}function _A(){return(_A=v(function*(t){const{registrationPromise:e}=yield oA(t);e&&(yield e)})).apply(this,arguments)}function wA(t){return Hs.create("missing-app-config-values",{valueName:t})}const j5="installations",fwe=t=>{const e=t.getProvider("app").getImmediate(),n=function dwe(t){if(!t||!t.options)throw wA("App Configuration");if(!t.name)throw wA("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw wA(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e);return{app:e,appConfig:n,heartbeatServiceProvider:Oh(e,"heartbeat"),_delete:()=>Promise.resolve()}},pwe=t=>{const n=Oh(t.getProvider("app").getImmediate(),j5).getImmediate();return{getId:()=>function owe(t){return gA.apply(this,arguments)}(n),getToken:i=>function awe(t){return mA.apply(this,arguments)}(n,i)}};(function gwe(){Ar(new Dt(j5,fwe,"PUBLIC")),Ar(new Dt("installations-internal",pwe,"PRIVATE"))})(),ur(T5,WS),ur(T5,WS,"esm2017");const IA="@firebase/remote-config",Mr=new Sr("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Dwe{constructor(e,n,r,i){this.client=e,this.storage=n,this.storageCache=r,this.logger=i}isCachedDataFresh(e,n){if(!n)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-n,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var n=this;return v(function*(){const[r,i]=yield Promise.all([n.storage.getLastSuccessfulFetchTimestampMillis(),n.storage.getLastSuccessfulFetchResponse()]);if(i&&n.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const s=yield n.client.fetch(e),o=[n.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===s.status&&o.push(n.storage.setLastSuccessfulFetchResponse(s)),yield Promise.all(o),s})()}}function Swe(t=navigator){return t.languages&&t.languages[0]||t.language}class Awe{constructor(e,n,r,i,s,o){this.firebaseInstallations=e,this.sdkVersion=n,this.namespace=r,this.projectId=i,this.apiKey=s,this.appId=o}fetch(e){var n=this;return v(function*(){const[r,i]=yield Promise.all([n.firebaseInstallations.getId(),n.firebaseInstallations.getToken()]),o=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${n.projectId}/namespaces/${n.namespace}:fetch?key=${n.apiKey}`,a={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},c={sdk_version:n.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:n.appId,language_code:Swe()},l={method:"POST",headers:a,body:JSON.stringify(c)},u=fetch(o,l),d=new Promise((T,E)=>{e.signal.addEventListener(()=>{const N=new Error("The operation was aborted.");N.name="AbortError",E(N)})});let f;try{yield Promise.race([u,d]),f=yield u}catch(T){let E="fetch-client-network";throw"AbortError"===T?.name&&(E="fetch-timeout"),Mr.create(E,{originalErrorMessage:T?.message})}let g=f.status;const _=f.headers.get("ETag")||void 0;let w,I;if(200===f.status){let T;try{T=yield f.json()}catch(E){throw Mr.create("fetch-client-parse",{originalErrorMessage:E?.message})}w=T.entries,I=T.state}if("INSTANCE_STATE_UNSPECIFIED"===I?g=500:"NO_CHANGE"===I?g=304:("NO_TEMPLATE"===I||"EMPTY_CONFIG"===I)&&(w={}),304!==g&&200!==g)throw Mr.create("fetch-status",{httpStatus:g});return{status:g,eTag:_,config:w}})()}}class Nwe{constructor(e,n){this.client=e,this.storage=n}fetch(e){var n=this;return v(function*(){const r=(yield n.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return n.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:n,backoffCount:r}){var i=this;return v(function*(){yield function xwe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(Mr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,n);try{const s=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),s}catch(s){if(!function Mwe(t){if(!(t instanceof Mn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(s))throw s;const o={throttleEndTimeMillis:Date.now()+uC(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(o),i.attemptFetch(e,o)}})()}}class Pwe{constructor(e,n,r,i,s){this.app=e,this._client=n,this._storageCache=r,this._storage=i,this._logger=s,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Hy(t,e){const n=t.target.error||void 0;return Mr.create(e,{originalErrorMessage:n&&n?.message})}const tc="app_namespace_store";class Vwe{constructor(e,n,r,i=function Fwe(){return new Promise((t,e)=>{try{const n=indexedDB.open("firebase_remote_config",1);n.onerror=r=>{e(Hy(r,"storage-open"))},n.onsuccess=r=>{t(r.target.result)},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(tc,{keyPath:"compositeKey"})}}catch(n){e(Mr.create("storage-open",{originalErrorMessage:n?.message}))}})}()){this.appId=e,this.appName=n,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var n=this;return v(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([tc],"readonly").objectStore(tc),c=n.createCompositeKey(e);try{const l=a.get(c);l.onerror=u=>{s(Hy(u,"storage-get"))},l.onsuccess=u=>{const d=u.target.result;i(d?d.value:void 0)}}catch(l){s(Mr.create("storage-get",{originalErrorMessage:l?.message}))}})})()}set(e,n){var r=this;return v(function*(){const i=yield r.openDbPromise;return new Promise((s,o)=>{const c=i.transaction([tc],"readwrite").objectStore(tc),l=r.createCompositeKey(e);try{const u=c.put({compositeKey:l,value:n});u.onerror=d=>{o(Hy(d,"storage-set"))},u.onsuccess=()=>{s()}}catch(u){o(Mr.create("storage-set",{originalErrorMessage:u?.message}))}})})()}delete(e){var n=this;return v(function*(){const r=yield n.openDbPromise;return new Promise((i,s)=>{const a=r.transaction([tc],"readwrite").objectStore(tc),c=n.createCompositeKey(e);try{const l=a.delete(c);l.onerror=u=>{s(Hy(u,"storage-delete"))},l.onsuccess=()=>{i()}}catch(l){s(Mr.create("storage-delete",{originalErrorMessage:l?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Uwe{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return v(function*(){const n=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),s=yield n;s&&(e.lastFetchStatus=s);const o=yield r;o&&(e.lastSuccessfulFetchTimestampMillis=o);const a=yield i;a&&(e.activeConfig=a)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function jwe(){return DA.apply(this,arguments)}function DA(){return(DA=v(function*(){if(!Io())return!1;try{return yield Wl()}catch{return!1}})).apply(this,arguments)}!function Bwe(){Ar(new Dt("remote-config",function t(e,{instanceIdentifier:n}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Mr.create("registration-window");if(!Io())throw Mr.create("indexed-db-unavailable");const{projectId:s,apiKey:o,appId:a}=r.options;if(!s)throw Mr.create("registration-project-id");if(!o)throw Mr.create("registration-api-key");if(!a)throw Mr.create("registration-app-id");const c=new Vwe(a,r.name,n=n||"firebase"),l=new Uwe(c),u=new ks(IA);u.logLevel=Oe.ERROR;const d=new Awe(i,Kl,n,s,o,a),f=new Nwe(d,c),g=new Dwe(f,c,l,u),_=new Pwe(r,g,l,c,u);return function bwe(t){const e=Rn(t);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(_),_},"PUBLIC").setMultipleInstances(!0)),ur(IA,"0.4.4"),ur(IA,"0.4.4","esm2017")}();const $we=(t,e)=>e.some(n=>t instanceof n);let z5,W5;const q5=new WeakMap,SA=new WeakMap,K5=new WeakMap,AA=new WeakMap,xA=new WeakMap;let MA={get(t,e,n){if(t instanceof IDBTransaction){if("done"===e)return SA.get(t);if("objectStoreNames"===e)return t.objectStoreNames||K5.get(t);if("store"===e)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gs(t[e])},set:(t,e,n)=>(t[e]=n,!0),has:(t,e)=>t instanceof IDBTransaction&&("done"===e||"store"===e)||e in t};function Ywe(t){return"function"==typeof t?function Kwe(t){return t!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Gwe(){return W5||(W5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(t)?function(...e){return t.apply(NA(this),e),Gs(q5.get(this))}:function(...e){return Gs(t.apply(NA(this),e))}:function(e,...n){const r=t.call(NA(this),e,...n);return K5.set(r,e.sort?e.sort():[e]),Gs(r)}}(t):(t instanceof IDBTransaction&&function Wwe(t){if(SA.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});SA.set(t,e)}(t),$we(t,function Hwe(){return z5||(z5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(t,MA):t)}function Gs(t){if(t instanceof IDBRequest)return function zwe(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Gs(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&q5.set(n,t)}).catch(()=>{}),xA.set(e,t),e}(t);if(AA.has(t))return AA.get(t);const e=Ywe(t);return e!==t&&(AA.set(t,e),xA.set(e,t)),e}const NA=t=>xA.get(t);function Y5(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Gs(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Gs(o.result),c.oldVersion,c.newVersion,Gs(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}function RA(t,{blocked:e}={}){const n=indexedDB.deleteDatabase(t);return e&&n.addEventListener("blocked",()=>e()),Gs(n).then(()=>{})}const Qwe=["get","getKey","getAll","getAllKeys","count"],Xwe=["put","add","delete","clear"],kA=new Map;function Q5(t,e){if(!(t instanceof IDBDatabase)||e in t||"string"!=typeof e)return;if(kA.get(e))return kA.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=Xwe.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!Qwe.includes(n))return;const s=function(){var o=v(function*(a,...c){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[n](...c),i&&l.done]))[0]});return function(c){return o.apply(this,arguments)}}();return kA.set(e,s),s}!function qwe(t){MA=t(MA)}(t=>({...t,get:(e,n,r)=>Q5(e,n)||t.get(e,n,r),has:(e,n)=>!!Q5(e,n)||t.has(e,n)}));const Jwe="/firebase-messaging-sw.js",Zwe="/firebase-cloud-messaging-push-scope",X5="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",eIe="https://fcmregistrations.googleapis.com/v1",J5="google.c.a.c_id",tIe="google.c.a.c_l",nIe="google.c.a.ts";var Gy=function(t){return t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked",t}(Gy||{});function zs(t){const e=new Uint8Array(t);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function sIe(t){const n=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length);for(let s=0;s<r.length;++s)i[s]=r.charCodeAt(s);return i}const PA="fcm_token_details_db",oIe=5,Z5="fcm_token_object_Store";function OA(){return OA=v(function*(t){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(s=>s.name).includes(PA))return null;let e=null;return(yield Y5(PA,oIe,{upgrade:(r=v(function*(i,s,o,a){var c;if(s<2||!i.objectStoreNames.contains(Z5))return;const l=a.objectStore(Z5),u=yield l.index("fcmSenderId").get(t);if(yield l.clear(),u)if(2===s){const d=u;if(!d.auth||!d.p256dh||!d.endpoint)return;e={token:d.fcmToken,createTime:null!==(c=d.createTime)&&void 0!==c?c:Date.now(),subscriptionOptions:{auth:d.auth,p256dh:d.p256dh,endpoint:d.endpoint,swScope:d.swScope,vapidKey:"string"==typeof d.vapidKey?d.vapidKey:zs(d.vapidKey)}}}else if(3===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:zs(d.auth),p256dh:zs(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:zs(d.vapidKey)}}}else if(4===s){const d=u;e={token:d.fcmToken,createTime:d.createTime,subscriptionOptions:{auth:zs(d.auth),p256dh:zs(d.p256dh),endpoint:d.endpoint,swScope:d.swScope,vapidKey:zs(d.vapidKey)}}}}),function(s,o,a,c){return r.apply(this,arguments)})})).close(),yield RA(PA),yield RA("fcm_vapid_details_db"),yield RA("undefined"),function cIe(t){if(!t||!t.subscriptionOptions)return!1;const{subscriptionOptions:e}=t;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}(e)?e:null;var r}),OA.apply(this,arguments)}const lIe="firebase-messaging-database",uIe=1,nc="firebase-messaging-store";let LA=null;function FA(){return LA||(LA=Y5(lIe,uIe,{upgrade:(t,e)=>{0===e&&t.createObjectStore(nc)}})),LA}function ez(t){return VA.apply(this,arguments)}function VA(){return VA=v(function*(t){const e=$A(t),r=yield(yield FA()).transaction(nc).objectStore(nc).get(e);if(r)return r;{const i=yield function aIe(t){return OA.apply(this,arguments)}(t.appConfig.senderId);if(i)return yield UA(t,i),i}}),VA.apply(this,arguments)}function UA(t,e){return BA.apply(this,arguments)}function BA(){return(BA=v(function*(t,e){const n=$A(t),i=(yield FA()).transaction(nc,"readwrite");return yield i.objectStore(nc).put(e,n),yield i.done,e})).apply(this,arguments)}function jA(){return(jA=v(function*(t){const e=$A(t),r=(yield FA()).transaction(nc,"readwrite");yield r.objectStore(nc).delete(e),yield r.done})).apply(this,arguments)}function $A({appConfig:t}){return t.appId}const Pn=new Sr("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function fIe(t,e){return HA.apply(this,arguments)}function HA(){return(HA=v(function*(t,e){const n=yield qA(t),r=nz(e),i={method:"POST",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(WA(t.appConfig),i)).json()}catch(o){throw Pn.create("token-subscribe-failed",{errorInfo:o?.toString()})}if(s.error)throw Pn.create("token-subscribe-failed",{errorInfo:s.error.message});if(!s.token)throw Pn.create("token-subscribe-no-token");return s.token})).apply(this,arguments)}function GA(){return(GA=v(function*(t,e){const n=yield qA(t),r=nz(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)};let s;try{s=yield(yield fetch(`${WA(t.appConfig)}/${e.token}`,i)).json()}catch(o){throw Pn.create("token-update-failed",{errorInfo:o?.toString()})}if(s.error)throw Pn.create("token-update-failed",{errorInfo:s.error.message});if(!s.token)throw Pn.create("token-update-no-token");return s.token})).apply(this,arguments)}function tz(t,e){return zA.apply(this,arguments)}function zA(){return(zA=v(function*(t,e){const r={method:"DELETE",headers:yield qA(t)};try{const s=yield(yield fetch(`${WA(t.appConfig)}/${e}`,r)).json();if(s.error)throw Pn.create("token-unsubscribe-failed",{errorInfo:s.error.message})}catch(i){throw Pn.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function WA({projectId:t}){return`${eIe}/projects/${t}/registrations`}function qA(t){return KA.apply(this,arguments)}function KA(){return(KA=v(function*({appConfig:t,installations:e}){const n=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t.apiKey,"x-goog-firebase-installations-auth":`FIS ${n}`})})).apply(this,arguments)}function nz({p256dh:t,auth:e,endpoint:n,vapidKey:r}){const i={web:{endpoint:n,auth:e,p256dh:t}};return r!==X5&&(i.web.applicationPubKey=r),i}const gIe=6048e5;function YA(){return YA=v(function*(t){const e=yield function yIe(t,e){return ZA.apply(this,arguments)}(t.swRegistration,t.vapidKey),n={vapidKey:t.vapidKey,swScope:t.swRegistration.scope,endpoint:e.endpoint,auth:zs(e.getKey("auth")),p256dh:zs(e.getKey("p256dh"))},r=yield ez(t.firebaseDependencies);if(r){if(function vIe(t,e){return e.vapidKey===t.vapidKey&&e.endpoint===t.endpoint&&e.auth===t.auth&&e.p256dh===t.p256dh}(r.subscriptionOptions,n))return Date.now()>=r.createTime+gIe?function _Ie(t,e){return XA.apply(this,arguments)}(t,{token:r.token,createTime:Date.now(),subscriptionOptions:n}):r.token;try{yield tz(t.firebaseDependencies,r.token)}catch(i){console.warn(i)}return iz(t.firebaseDependencies,n)}return iz(t.firebaseDependencies,n)}),YA.apply(this,arguments)}function QA(){return QA=v(function*(t){const e=yield ez(t.firebaseDependencies);e&&(yield tz(t.firebaseDependencies,e.token),yield function dIe(t){return jA.apply(this,arguments)}(t.firebaseDependencies));const n=yield t.swRegistration.pushManager.getSubscription();return!n||n.unsubscribe()}),QA.apply(this,arguments)}function XA(){return XA=v(function*(t,e){try{const n=yield function pIe(t,e){return GA.apply(this,arguments)}(t.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:n,createTime:Date.now()});return yield UA(t.firebaseDependencies,r),n}catch(n){throw yield function rz(t){return QA.apply(this,arguments)}(t),n}}),XA.apply(this,arguments)}function iz(t,e){return JA.apply(this,arguments)}function JA(){return(JA=v(function*(t,e){const r={token:yield fIe(t,e),createTime:Date.now(),subscriptionOptions:e};return yield UA(t,r),r.token})).apply(this,arguments)}function ZA(){return(ZA=v(function*(t,e){return(yield t.pushManager.getSubscription())||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:sIe(e)})})).apply(this,arguments)}function sz(t){const e={from:t.from,collapseKey:t.collapse_key,messageId:t.fcmMessageId};return function wIe(t,e){if(!e.notification)return;t.notification={};const n=e.notification.title;n&&(t.notification.title=n);const r=e.notification.body;r&&(t.notification.body=r);const i=e.notification.image;i&&(t.notification.image=i);const s=e.notification.icon;s&&(t.notification.icon=s)}(e,t),function IIe(t,e){e.data&&(t.data=e.data)}(e,t),function EIe(t,e){var n,r,i,s,o;if(!(e.fcmOptions||null!==(n=e.notification)&&void 0!==n&&n.click_action))return;t.fcmOptions={};const a=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(s=e.notification)||void 0===s?void 0:s.click_action;a&&(t.fcmOptions.link=a);const c=null===(o=e.fcmOptions)||void 0===o?void 0:o.analytics_label;c&&(t.fcmOptions.analyticsLabel=c)}(e,t),e}function oz(t,e){const n=[];for(let r=0;r<t.length;r++)n.push(t.charAt(r)),r<e.length&&n.push(e.charAt(r));return n.join("")}function ex(t){return Pn.create("missing-app-config-values",{valueName:t})}oz("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),oz("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class CIe{constructor(e,n,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function TIe(t){if(!t||!t.options)throw ex("App Configuration Object");if(!t.name)throw ex("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:n}=t;for(const r of e)if(!n[r])throw ex(r);return{appName:t.name,projectId:n.projectId,apiKey:n.apiKey,appId:n.appId,senderId:n.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:n,analyticsProvider:r}}_delete(){return Promise.resolve()}}function tx(){return(tx=v(function*(t){try{t.swRegistration=yield navigator.serviceWorker.register(Jwe,{scope:Zwe}),t.swRegistration.update().catch(()=>{})}catch(e){throw Pn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function nx(){return(nx=v(function*(t,e){if(!e&&!t.swRegistration&&(yield function az(t){return tx.apply(this,arguments)}(t)),e||!t.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Pn.create("invalid-sw-registration");t.swRegistration=e}})).apply(this,arguments)}function rx(){return(rx=v(function*(t,e){e?t.vapidKey=e:t.vapidKey||(t.vapidKey=X5)})).apply(this,arguments)}function ix(){return ix=v(function*(t,e){if(!navigator)throw Pn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Pn.create("permission-blocked");return yield function SIe(t,e){return rx.apply(this,arguments)}(t,e?.vapidKey),yield function DIe(t,e){return nx.apply(this,arguments)}(t,e?.serviceWorkerRegistration),function mIe(t){return YA.apply(this,arguments)}(t)}),ix.apply(this,arguments)}function sx(){return(sx=v(function*(t,e,n){const r=function xIe(t){switch(t){case Gy.NOTIFICATION_CLICKED:return"notification_open";case Gy.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(e);(yield t.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:n[J5],message_name:n[tIe],message_time:n[nIe],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function ox(){return ox=v(function*(t,e){const n=e.data;if(!n.isFirebaseMessaging)return;t.onMessageHandler&&n.messageType===Gy.PUSH_RECEIVED&&("function"==typeof t.onMessageHandler?t.onMessageHandler(sz(n)):t.onMessageHandler.next(sz(n)));const r=n.data;(function bIe(t){return"object"==typeof t&&!!t&&J5 in t})(r)&&"1"===r["google.c.a.e"]&&(yield function AIe(t,e,n){return sx.apply(this,arguments)}(t,n.messageType,r))}),ox.apply(this,arguments)}const lz="@firebase/messaging",NIe=t=>{const e=new CIe(t.getProvider("app").getImmediate(),t.getProvider("installations-internal").getImmediate(),t.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",n=>function MIe(t,e){return ox.apply(this,arguments)}(e,n)),e},RIe=t=>{const e=t.getProvider("messaging").getImmediate();return{getToken:r=>function cz(t,e){return ix.apply(this,arguments)}(e,r)}};function dz(){return ax.apply(this,arguments)}function ax(){return(ax=v(function*(){try{yield Wl()}catch{return!1}return typeof window<"u"&&Io()&&cC()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function kIe(){Ar(new Dt("messaging",NIe,"PUBLIC")),Ar(new Dt("messaging-internal",RIe,"PRIVATE")),ur(lz,"0.12.4"),ur(lz,"0.12.4","esm2017")}();const zy="analytics",LIe="firebase_id",FIe="origin",VIe=6e4,UIe="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",ux="https://www.googletagmanager.com/gtag/js",mn=new ks("@firebase/analytics"),hr=new Sr("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function jIe(t){if(!t.startsWith(ux)){const e=hr.create("invalid-gtag-resource",{gtagURL:t});return mn.warn(e.message),""}return t}function hz(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function dx(){return(dx=v(function*(t,e,n,r,i,s){const o=r[i];try{if(o)yield e[o];else{const c=(yield hz(n)).find(l=>l.measurementId===i);c&&(yield e[c.appId])}}catch(a){mn.error(a)}t("config",i,s)})).apply(this,arguments)}function hx(){return(hx=v(function*(t,e,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=yield hz(n);for(const c of o){const l=a.find(d=>d.measurementId===c),u=l&&e[l.appId];if(!u){s=[];break}s.push(u)}}0===s.length&&(s=Object.values(e)),yield Promise.all(s),t("event",r,i||{})}catch(s){mn.error(s)}})).apply(this,arguments)}const QIe=30,fz=new class JIe{constructor(e={},n=1e3){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function ZIe(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}function fx(){return(fx=v(function*(t){var e;const{appId:n,apiKey:r}=t,i={method:"GET",headers:ZIe(r)},s=UIe.replace("{app-id}",n),o=yield fetch(s,i);if(200!==o.status&&304!==o.status){let a="";try{const c=yield o.json();null!==(e=c.error)&&void 0!==e&&e.message&&(a=c.error.message)}catch{}throw hr.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()})).apply(this,arguments)}function px(){return(px=v(function*(t,e=fz,n){const{appId:r,apiKey:i,measurementId:s}=t.options;if(!r)throw hr.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw hr.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new iEe;return setTimeout(v(function*(){a.abort()}),void 0!==n?n:VIe),pz({appId:r,apiKey:i,measurementId:s},o,a,e)})).apply(this,arguments)}function pz(t,e,n){return gx.apply(this,arguments)}function gx(){return gx=v(function*(t,{throttleEndTimeMillis:e,backoffCount:n},r,i=fz){var s;const{appId:o,measurementId:a}=t;try{yield function nEe(t,e){return new Promise((n,r)=>{const i=Math.max(e-Date.now(),0),s=setTimeout(n,i);t.addEventListener(()=>{clearTimeout(s),r(hr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(r,e)}catch(c){if(a)return mn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:o,measurementId:a};throw c}try{const c=yield function eEe(t){return fx.apply(this,arguments)}(t);return i.deleteThrottleMetadata(o),c}catch(c){const l=c;if(!function rEe(t){if(!(t instanceof Mn&&t.customData))return!1;const e=Number(t.customData.httpStatus);return 429===e||500===e||503===e||504===e}(l)){if(i.deleteThrottleMetadata(o),a)return mn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l?.message}]`),{appId:o,measurementId:a};throw c}const u=503===Number(null===(s=l?.customData)||void 0===s?void 0:s.httpStatus)?uC(n,i.intervalMillis,QIe):uC(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+u,backoffCount:n+1};return i.setThrottleMetadata(o,d),mn.debug(`Calling attemptFetch again in ${u} millis`),pz(t,d,r,i)}}),gx.apply(this,arguments)}class iEe{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let mx,bx;function _x(){return(_x=v(function*(t,e,n,r,i){if(i&&i.global)t("event",n,r);else{const s=yield e;t("event",n,Object.assign(Object.assign({},r),{send_to:s}))}})).apply(this,arguments)}function Tx(){return(Tx=v(function*(){if(!Io())return mn.warn(hr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield Wl()}catch(t){return mn.warn(hr.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}return!0})).apply(this,arguments)}function Cx(){return Cx=v(function*(t,e,n,r,i,s,o){var a;const c=function tEe(t){return px.apply(this,arguments)}(t);c.then(g=>{n[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&mn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>mn.error(g)),e.push(c);const l=function dEe(){return Tx.apply(this,arguments)}().then(g=>{if(g)return r.getId()}),[u,d]=yield Promise.all([c,l]);(function YIe(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(ux)&&n.src.includes(t))return n;return null})(s)||function HIe(t,e){const n=function $Ie(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}("firebase-js-sdk-policy",{createScriptURL:jIe}),r=document.createElement("script"),i=`${ux}?l=${t}&id=${e}`;r.src=n?n?.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}(s,u.measurementId),bx&&(i("consent","default",bx),function gz(t){bx=t}(void 0)),i("js",new Date);const f=null!==(a=o?.config)&&void 0!==a?a:{};return f[FIe]="firebase",f.update=!0,null!=d&&(f[LIe]=d),i("config",u.measurementId,f),mx&&(i("set",mx),function mz(t){mx=t}(void 0)),u.measurementId}),Cx.apply(this,arguments)}class fEe{constructor(e){this.app=e}_delete(){return delete Yi[this.app.options.appId],Promise.resolve()}}let Yi={},_z=[];const yz={};let wz,Qi,Wy="dataLayer",Dx=!1;function gEe(t,e,n){!function pEe(){const t=[];if(T_()&&t.push("This is a browser extension environment."),cC()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=hr.create("invalid-analytics-context",{errorInfo:e});mn.warn(n.message)}}();const r=t.options.appId;if(!r)throw hr.create("no-app-id");if(!t.options.apiKey){if(!t.options.measurementId)throw hr.create("no-api-key");mn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Yi[r])throw hr.create("already-exists",{id:r});if(!Dx){!function GIe(t){let e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(Wy);const{wrappedGtag:s,gtagCore:o}=function KIe(t,e,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(s=window[i]),window[i]=function qIe(t,e,n,r){function s(){return s=v(function*(o,...a){try{if("event"===o){const[c,l]=a;yield function WIe(t,e,n,r,i){return hx.apply(this,arguments)}(t,e,n,c,l)}else if("config"===o){const[c,l]=a;yield function zIe(t,e,n,r,i,s){return dx.apply(this,arguments)}(t,e,n,r,c,l)}else if("consent"===o){const[c]=a;t("consent","update",c)}else if("get"===o){const[c,l,u]=a;t("get",c,l,u)}else if("set"===o){const[c]=a;t("set",c)}else t(o,...a)}catch(c){mn.error(c)}}),s.apply(this,arguments)}return function i(o){return s.apply(this,arguments)}}(s,t,e,n),{gtagCore:s,wrappedGtag:window[i]}}(Yi,_z,yz,Wy,"gtag");Qi=s,wz=o,Dx=!0}return Yi[r]=function hEe(t,e,n,r,i,s,o){return Cx.apply(this,arguments)}(t,_z,yz,e,wz,Wy,n),new fEe(t)}function _Ee(){return Sx.apply(this,arguments)}function Sx(){return(Sx=v(function*(){if(T_()||!cC()||!Io())return!1;try{return yield Wl()}catch{return!1}})).apply(this,arguments)}const Iz="@firebase/analytics";!function vEe(){Ar(new Dt(zy,(e,{options:n})=>gEe(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),n),"PUBLIC")),Ar(new Dt("analytics-internal",function t(e){try{const n=e.getProvider(zy).getImmediate();return{logEvent:(r,i,s)=>function yEe(t,e,n,r){t=Rn(t),function sEe(t,e,n,r,i){return _x.apply(this,arguments)}(Qi,Yi[t.app.options.appId],e,n,r).catch(i=>mn.error(i))}(n,r,i,s)}}catch(n){throw hr.create("interop-component-reg-failed",{reason:n})}},"PRIVATE")),ur(Iz,"0.10.0"),ur(Iz,"0.10.0","esm2017")}();const EEe=new class IEe extends IG{}(class wEe extends vG{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}}),Mf=new mo("7.6.1"),xx="__angularfire_symbol__analyticsIsSupportedValue",Mx="__angularfire_symbol__analyticsIsSupported",Nx="__angularfire_symbol__remoteConfigIsSupportedValue",Rx="__angularfire_symbol__remoteConfigIsSupported",kx="__angularfire_symbol__messagingIsSupportedValue",Px="__angularfire_symbol__messagingIsSupported";function qy(t,e,n){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===n);if(1===s.length)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}globalThis[Mx]||(globalThis[Mx]=_Ee().then(t=>globalThis[xx]=t).catch(()=>globalThis[xx]=!1)),globalThis[Px]||(globalThis[Px]=dz().then(t=>globalThis[kx]=t).catch(()=>globalThis[kx]=!1)),globalThis[Rx]||(globalThis[Rx]=jwe().then(t=>globalThis[Nx]=t).catch(()=>globalThis[Nx]=!1));const Ky=(t,e)=>{const n=e?[e]:f5(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};function yu(){}class bz{constructor(e,n=EEe){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},n,r)}}class bEe{constructor(e){this.zone=e,this.task=null}call(e,n){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yu,{},yu,yu)),n.pipe(Xt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Yy=(()=>{class t{constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new bz(Zone.current)),this.insideAngular=n.run(()=>new bz(Zone.current,If)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return t.\u0275fac=function(n){return new(n||t)(j(Ne))},t.\u0275prov=J({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();function rc(){const t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return t}function ic(t){return rc().ngZone.run(()=>t())}function CEe(t){return rc(),function DEe(t){return function(n){return(n=n.lift(new bEe(t.ngZone))).pipe(Ag(t.outsideAngular),Sg(t.insideAngular))}}(rc())(t)}const SEe=(t,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ic(()=>t.apply(void 0,r))},Qy=(t,e)=>function(){let n;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(n||(n=ic(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yu,{},yu,yu)))),r[s]=SEe(r[s],n));const i=function TEe(t){return rc().ngZone.runOutsideAngular(()=>t())}(()=>t.apply(this,r));if(!e){if(i instanceof m){const s=rc();return i.pipe(Ag(s.outsideAngular),Sg(s.insideAngular))}return ic(()=>i)}return i instanceof m?i.pipe(CEe):i instanceof Promise?ic(()=>new Promise((s,o)=>i.then(a=>ic(()=>s(a)),a=>ic(()=>o(a))))):"function"==typeof i&&n?function(){return setTimeout(()=>{n&&"scheduled"===n.state&&n.invoke()},10),i.apply(this,arguments)}:ic(()=>i)};class sc{constructor(e){return e}}class Xy{constructor(){return f5()}}const Lx=new V("angularfire2._apps"),xEe={provide:sc,useFactory:function AEe(t){return t&&1===t.length?t[0]:new sc(By())},deps:[[new Pt,Lx]]},MEe={provide:Xy,deps:[[new Pt,Lx]]};function NEe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new sc(r)}}let REe=(()=>{class t{constructor(n){zn("angularfire",Mf.full,"core"),zn("angularfire",Mf.full,"app"),zn("angular",b2.full,n.toString())}}return t.\u0275fac=function(n){return new(n||t)(j(Es))},t.\u0275mod=jt({type:t}),t.\u0275inj=Rt({providers:[xEe,MEe]}),t})();function kEe(t,...e){return{ngModule:REe,providers:[{provide:Lx,useFactory:NEe(t),multi:!0,deps:[Ne,gn,Yy,...e]}]}}const PEe=Qy(h5,!0),Fx=new Map,Tz={activated:!1,tokenObservers:[]},OEe={initialized:!1,enabled:!1};function Ft(t){return Fx.get(t)||Object.assign({},Tz)}function Jy(){return OEe}const Vx="https://content-firebaseappcheck.googleapis.com/v1",UEe="exchangeDebugToken",Cz={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class jEe{constructor(e,n,r,i,s){if(this.operation=e,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var n=this;return v(function*(){n.stop();try{n.pending=new zl,yield function $Ee(t){return new Promise(e=>{setTimeout(e,t)})}(n.getNextRun(e)),n.pending.resolve(),yield n.pending.promise,n.pending=new zl,yield n.operation(),n.pending.resolve(),yield n.pending.promise,n.process(!0).catch(()=>{})}catch(r){n.retryPolicy(r)?n.process(!1).catch(()=>{}):n.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}const On=new Sr("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function Ux(t){if(!Ft(t).activated)throw On.create("use-before-activation",{appName:t.name})}function tv(t,e){return jx.apply(this,arguments)}function jx(){return(jx=v(function*({url:t,body:e},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=yield i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(e),headers:r};let o,a;try{o=yield fetch(t,s)}catch(d){throw On.create("fetch-network-error",{originalErrorMessage:d?.message})}if(200!==o.status)throw On.create("fetch-status-error",{httpStatus:o.status});try{a=yield o.json()}catch(d){throw On.create("fetch-parse-error",{originalErrorMessage:d?.message})}const c=a.ttl.match(/^([\d.]+)(s)$/);if(!c||!c[2]||isNaN(Number(c[1])))throw On.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const l=1e3*Number(c[1]),u=Date.now();return{token:a.token,expireTimeMillis:u+l,issuedAtTimeMillis:u}})).apply(this,arguments)}function Dz(t,e){const{projectId:n,appId:r,apiKey:i}=t.options;return{url:`${Vx}/projects/${n}/apps/${r}:${UEe}?key=${i}`,body:{debug_token:e}}}const WEe="firebase-app-check-database",qEe=1,Nf="firebase-app-check-store";let nv=null;function $x(){return($x=v(function*(t,e){const r=(yield function Az(){return nv||(nv=new Promise((t,e)=>{try{const n=indexedDB.open(WEe,qEe);n.onsuccess=r=>{t(r.target.result)},n.onerror=r=>{var i;e(On.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},n.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Nf,{keyPath:"compositeKey"})}}catch(n){e(On.create("storage-open",{originalErrorMessage:n?.message}))}}),nv)}()).transaction(Nf,"readwrite"),s=r.objectStore(Nf).put({compositeKey:t,value:e});return new Promise((o,a)=>{s.onsuccess=c=>{o()},r.onerror=c=>{var l;a(On.create("storage-set",{originalErrorMessage:null===(l=c.target.error)||void 0===l?void 0:l.message}))}})})).apply(this,arguments)}const Rf=new ks("@firebase/app-check");function zx(t,e){return Io()?function YEe(t,e){return function xz(t,e){return $x.apply(this,arguments)}(function Nz(t){return`${t.options.appId}-${t.name}`}(t),e)}(t,e).catch(n=>{Rf.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}function qx(){return Jy().enabled}function Kx(){return Yx.apply(this,arguments)}function Yx(){return(Yx=v(function*(){const t=Jy();if(t.enabled&&t.token)return t.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const tbe={error:"UNKNOWN_ERROR"};function nbe(t){return v_.encodeString(JSON.stringify(t),!1)}function rv(t){return Qx.apply(this,arguments)}function Qx(){return(Qx=v(function*(t,e=!1){const n=t.app;Ux(n);const r=Ft(n);let s,i=r.token;if(i&&!vu(i)&&(r.token=void 0,i=void 0),!i){const c=yield r.cachedTokenPromise;c&&(vu(c)?i=c:yield zx(n,void 0))}if(!e&&i&&vu(i))return{token:i.token};let a,o=!1;if(qx()){r.exchangeTokenPromise||(r.exchangeTokenPromise=tv(Dz(n,yield Kx()),t.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const c=yield r.exchangeTokenPromise;return yield zx(n,c),r.token=c,{token:c.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=yield Ft(n).exchangeTokenPromise}catch(c){"appCheck/throttled"===c.code?Rf.warn(c.message):Rf.error(c),s=c}return i?s?a=vu(i)?{token:i.token,internalError:s}:Oz(s):(a={token:i.token},r.token=i,yield zx(n,i)):a=Oz(s),o&&function Pz(t,e){const n=Ft(t).tokenObservers;for(const r of n)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(n,a),a})).apply(this,arguments)}function Rz(t){return Xx.apply(this,arguments)}function Xx(){return(Xx=v(function*(t){const e=t.app;Ux(e);const{provider:n}=Ft(e);if(qx()){const r=yield Kx(),{token:i}=yield tv(Dz(e,r),t.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield n.getToken();return{token:r}}})).apply(this,arguments)}function Zx(t,e){const n=Ft(t),r=n.tokenObservers.filter(i=>i.next!==e);0===r.length&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function kz(t){const{app:e}=t,n=Ft(e);let r=n.tokenRefresher;r||(r=function rbe(t){const{app:e}=t;return new jEe(v(function*(){let r;if(r=Ft(e).token?yield rv(t,!0):yield rv(t),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const n=Ft(e);if(n.token){let r=n.token.issuedAtTimeMillis+.5*(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,n.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},Cz.RETRIAL_MIN_WAIT,Cz.RETRIAL_MAX_WAIT)}(t),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function vu(t){return t.expireTimeMillis-Date.now()>0}function Oz(t){return{token:nbe(tbe),error:t}}class ibe{constructor(e,n){this.app=e,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:e}=Ft(this.app);for(const n of e)Zx(this.app,n.next);return Promise.resolve()}}const Hz="app-check-internal";!function ybe(){Ar(new Dt("app-check",t=>function sbe(t,e){return new ibe(t,e)}(t.getProvider("app").getImmediate(),t.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,n)=>{t.getProvider(Hz).initialize()})),Ar(new Dt(Hz,t=>function obe(t){return{getToken:e=>rv(t,e),getLimitedUseToken:()=>Rz(t),addTokenListener:e=>function Jx(t,e,n,r){const{app:i}=t,s=Ft(i);if(s.tokenObservers=[...s.tokenObservers,{next:n,error:r,type:e}],s.token&&vu(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),kz(t)}).catch(()=>{})}s.cachedTokenPromise.then(()=>kz(t))}(t,"INTERNAL",e),removeTokenListener:e=>Zx(t.app,e)}}(t.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),ur("@firebase/app-check","0.8.0")}();class sv{constructor(){return Ky("app-check")}}typeof window<"u"&&window;const bbe=function zz(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Wz=new Sr("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ov=new ks("@firebase/auth");function av(t,...e){ov.logLevel<=Oe.ERROR&&ov.error(`Auth (${Ja}): ${t}`,...e)}function Nr(t,...e){throw iM(t,...e)}function Xi(t,...e){return iM(t,...e)}function iM(t,...e){if("string"!=typeof t){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Wz.create(t,...e)}function B(t,e,...n){if(!t)throw iM(e,...n)}function Ji(t){const e="INTERNAL ASSERTION FAILED: "+t;throw av(e),new Error(e)}function Vo(t,e){t||Ji(e)}function kf(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.href)||""}function Kz(){var t;return typeof self<"u"&&(null===(t=self.location)||void 0===t?void 0:t.protocol)||null}class Pf{constructor(e,n){this.shortDelay=e,this.longDelay=n,Vo(n>e,"Short delay should be less than long delay!"),this.isMobile=b_()||aC()}get(){return function Cbe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function sM(){return"http:"===Kz()||"https:"===Kz()}()||T_()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function oM(t,e){Vo(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}class Yz{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Ji("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Ji("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Ji("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Sbe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Abe=new Pf(3e4,6e4);function At(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Vt(t,e,n,r){return aM.apply(this,arguments)}function aM(){return(aM=v(function*(t,e,n,r,i={}){return Qz(t,i,v(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=Rs(Object.assign({key:t.config.apiKey},o)).slice(1),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode),Yz.fetch()(Xz(t,t.config.apiHost,n,a),Object.assign({method:e,headers:c,referrerPolicy:"no-referrer"},s))}))})).apply(this,arguments)}function Qz(t,e,n){return cM.apply(this,arguments)}function cM(){return(cM=v(function*(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},Sbe),e);try{const i=new xbe(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Of(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,l]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Of(t,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw Of(t,"email-already-in-use",o);if("USER_DISABLED"===c)throw Of(t,"user-disabled",o);const u=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw function qz(t,e,n){const r=Object.assign(Object.assign({},bbe()),{[e]:n});return new Sr("auth","Firebase",r).create(e,{appName:t.name})}(t,u,l);Nr(t,u)}}catch(i){if(i instanceof Mn)throw i;Nr(t,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function lM(){return(lM=v(function*(t,e,n,r,i={}){const s=yield Vt(t,e,n,r,i);return"mfaPendingCredential"in s&&Nr(t,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function Xz(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?oM(t.config,i):`${t.config.apiScheme}://${i}`}class xbe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Xi(this.auth,"network-request-failed")),Abe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Of(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Xi(t,e,r);return i.customData._tokenResponse=n,i}function uM(){return(uM=v(function*(t,e){return Vt(t,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function hM(){return(hM=v(function*(t,e){return Vt(t,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function Lf(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function fM(){return(fM=v(function*(t,e=!1){const n=Rn(t),r=yield n.getIdToken(e),i=cv(r);B(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Lf(pM(i.auth_time)),issuedAtTime:Lf(pM(i.iat)),expirationTime:Lf(pM(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function pM(t){return 1e3*Number(t)}function cv(t){const[e,n,r]=t.split(".");if(void 0===e||void 0===n||void 0===r)return av("JWT malformed, contained fewer than 3 sections"),null;try{const i=Nh(n);return i?JSON.parse(i):(av("Failed to decode base64 JWT payload"),null)}catch(i){return av("Caught error parsing JWT payload as JSON",i?.toString()),null}}function qs(t,e){return gM.apply(this,arguments)}function gM(){return(gM=v(function*(t,e,n=!1){if(n)return e;try{return yield e}catch(r){throw r instanceof Mn&&function Obe({code:t}){return"auth/user-disabled"===t||"auth/user-token-expired"===t}(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})).apply(this,arguments)}class Lbe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(n=this.user.stsTokenManager.expirationTime)&&void 0!==n?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var n=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(v(function*(){yield n.iteration()}),r)}iteration(){var e=this;return v(function*(){try{yield e.user.getIdToken(!0)}catch(n){return void("auth/network-request-failed"===n?.code&&e.schedule(!0))}e.schedule()})()}}class Jz{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lf(this.lastLoginAt),this.creationTime=Lf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ff(t){return mM.apply(this,arguments)}function mM(){return mM=v(function*(t){var e;const n=t.auth,r=yield t.getIdToken(),i=yield qs(t,function Rbe(t,e){return hM.apply(this,arguments)}(n,{idToken:r}));B(i?.users.length,n,"internal-error");const s=i.users[0];t._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?function Ube(t){return t.map(e=>{var{providerId:n}=e,r=wt(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(s.providerUserInfo):[],a=function Vbe(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(t.providerData,o),u=!!t.isAnonymous&&!(t.email&&s.passwordHash||a?.length),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Jz(s.createdAt,s.lastLoginAt),isAnonymous:u};Object.assign(t,d)}),mM.apply(this,arguments)}function _M(){return(_M=v(function*(t){const e=Rn(t);yield Ff(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function yM(){return(yM=v(function*(t,e){const n=yield Qz(t,{},v(function*(){const r=Rs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=Xz(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Yz.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})).apply(this,arguments)}class Vf{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){B(e.idToken,"internal-error"),B(typeof e.idToken<"u","internal-error"),B(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function Pbe(t){const e=cv(t);return B(e,"internal-error"),B(typeof e.exp<"u","internal-error"),B(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}getToken(e,n=!1){var r=this;return v(function*(){return B(!r.accessToken||r.refreshToken,e,"user-token-expired"),n||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,n){var r=this;return v(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function Bbe(t,e){return yM.apply(this,arguments)}(e,n);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Vf;return r&&(B("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(B("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(B("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Vf,this.toJSON())}_performRefresh(){return Ji("not implemented")}}function Uo(t,e){B("string"==typeof t||typeof t>"u","internal-error",{appName:e})}class oc{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=wt(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Lbe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Jz(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var n=this;return v(function*(){const r=yield qs(n,n.stsTokenManager.getToken(n.auth,e));return B(r,n.auth,"internal-error"),n.accessToken!==r&&(n.accessToken=r,yield n.auth._persistUserIfCurrent(n),n.auth._notifyListenersIfCurrent(n)),r})()}getIdTokenResult(e){return function kbe(t){return fM.apply(this,arguments)}(this,e)}reload(){return function Fbe(t){return _M.apply(this,arguments)}(this)}_assign(e){this!==e&&(B(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new oc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){B(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){var r=this;return v(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),n&&(yield Ff(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return v(function*(){const n=yield e.getIdToken();return yield qs(e,function Mbe(t,e){return uM.apply(this,arguments)}(e.auth,{idToken:n})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,c,l,u;const d=null!==(r=n.displayName)&&void 0!==r?r:void 0,f=null!==(i=n.email)&&void 0!==i?i:void 0,g=null!==(s=n.phoneNumber)&&void 0!==s?s:void 0,_=null!==(o=n.photoURL)&&void 0!==o?o:void 0,w=null!==(a=n.tenantId)&&void 0!==a?a:void 0,I=null!==(c=n._redirectEventId)&&void 0!==c?c:void 0,T=null!==(l=n.createdAt)&&void 0!==l?l:void 0,E=null!==(u=n.lastLoginAt)&&void 0!==u?u:void 0,{uid:N,emailVerified:H,isAnonymous:X,providerData:ce,stsTokenManager:Ue}=n;B(N&&Ue,e,"internal-error");const un=Vf.fromJSON(this.name,Ue);B("string"==typeof N,e,"internal-error"),Uo(d,e.name),Uo(f,e.name),B("boolean"==typeof H,e,"internal-error"),B("boolean"==typeof X,e,"internal-error"),Uo(g,e.name),Uo(_,e.name),Uo(w,e.name),Uo(I,e.name),Uo(T,e.name),Uo(E,e.name);const mr=new oc({uid:N,auth:e,email:f,emailVerified:H,displayName:d,isAnonymous:X,photoURL:_,phoneNumber:g,tenantId:w,stsTokenManager:un,createdAt:T,lastLoginAt:E});return ce&&Array.isArray(ce)&&(mr.providerData=ce.map(Tg=>Object.assign({},Tg))),I&&(mr._redirectEventId=I),mr}static _fromIdTokenResponse(e,n,r=!1){return v(function*(){const i=new Vf;i.updateFromServerResponse(n);const s=new oc({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ff(s),s})()}}const Zz=new Map;function Ks(t){Vo(t instanceof Function,"Expected a class definition");let e=Zz.get(t);return e?(Vo(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Zz.set(t,e),e)}const eW=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return v(function*(){return!0})()}_set(n,r){var i=this;return v(function*(){i.storage[n]=r})()}_get(n){var r=this;return v(function*(){const i=r.storage[n];return void 0===i?null:i})()}_remove(n){var r=this;return v(function*(){delete r.storage[n]})()}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})();function lv(t,e,n){return`firebase:${t}:${e}:${n}`}class Iu{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=lv(this.userKey,i.apiKey,s),this.fullPersistenceKey=lv("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return v(function*(){const n=yield e.persistence._get(e.fullUserKey);return n?oc._fromJSON(e.auth,n):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var n=this;return v(function*(){if(n.persistence===e)return;const r=yield n.getCurrentUser();return yield n.removeCurrentUser(),n.persistence=e,r?n.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return v(function*(){if(!n.length)return new Iu(Ks(eW),e,r);const i=(yield Promise.all(n.map(function(){var l=v(function*(u){if(yield u._isAvailable())return u});return function(u){return l.apply(this,arguments)}}()))).filter(l=>l);let s=i[0]||Ks(eW);const o=lv(r,e.config.apiKey,e.name);let a=null;for(const l of n)try{const u=yield l._get(o);if(u){const d=oc._fromJSON(e,u);l!==s&&(a=d),s=l;break}}catch{}const c=i.filter(l=>l._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(function(){var l=v(function*(u){if(u!==s)try{yield u._remove(o)}catch{}});return function(u){return l.apply(this,arguments)}}())),new Iu(s,e,r)):new Iu(s,e,r)})()}}function tW(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iW(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(nW(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oW(e))return"Blackberry";if(aW(e))return"Webos";if(vM(e))return"Safari";if((e.includes("chrome/")||rW(e))&&!e.includes("edge/"))return"Chrome";if(sW(e))return"Android";{const r=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function nW(t=je()){return/firefox\//i.test(t)}function vM(t=je()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rW(t=je()){return/crios\//i.test(t)}function iW(t=je()){return/iemobile/i.test(t)}function sW(t=je()){return/android/i.test(t)}function oW(t=je()){return/blackberry/i.test(t)}function aW(t=je()){return/webos/i.test(t)}function uv(t=je()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function cW(t=je()){return uv(t)||sW(t)||aW(t)||oW(t)||/windows phone/i.test(t)||iW(t)}function lW(t,e=[]){let n;switch(t){case"Browser":n=tW(je());break;case"Worker":n=`${tW(je())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ja}/${r}`}function uW(t,e){return IM.apply(this,arguments)}function IM(){return(IM=v(function*(t,e){return Vt(t,"GET","/v2/recaptchaConfig",At(t,e))})).apply(this,arguments)}function hW(t){return void 0!==t&&void 0!==t.enterprise}class fW{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>"EMAIL_PASSWORD_PROVIDER"===n.provider&&"OFF"!==n.enforcementState)}}function EM(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Xi("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",function zbe(){var t,e;return null!==(e=null===(t=document.getElementsByTagName("head"))||void 0===t?void 0:t[0])&&void 0!==e?e:document}().appendChild(r)})}function pW(t){return`__${t}${Math.floor(1e6*Math.random())}`}class gW{constructor(e){this.type="recaptcha-enterprise",this.auth=_n(e)}verify(e="verify",n=!1){var r=this;return v(function*(){function s(){return s=v(function*(a){if(!n){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=v(function*(l,u){uW(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(void 0!==d.recaptchaKey){const f=new fW(d);return null==a.tenantId?a._agentRecaptchaConfig=f:a._tenantRecaptchaConfigs[a.tenantId]=f,l(f.siteKey)}u(new Error("recaptcha Enterprise site key undefined"))}).catch(d=>{u(d)})});return function(l,u){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,c,l){const u=window.grecaptcha;hW(u)?u.enterprise.ready(()=>{u.enterprise.execute(a,{action:e}).then(d=>{c(d)}).catch(()=>{c("NO_RECAPTCHA")})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(l=>{if(!n&&hW(window.grecaptcha))o(l,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));EM("https://www.google.com/recaptcha/enterprise.js?render="+l).then(()=>{o(l,a,c)}).catch(u=>{c(u)})}}).catch(l=>{c(l)})})})()}}class Ybe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var n=this;return v(function*(){if(n.auth.currentUser===e)return;const r=[];try{for(const i of n.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw n.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class Qbe{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mW(this),this.idTokenSubscription=new mW(this),this.beforeStateQueue=new Ybe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Wz,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){var r=this;return n&&(this._popupRedirectResolver=Ks(n)),this._initializationPromise=this.queue(v(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield Iu.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(n),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return v(function*(){if(e._deleted)return;const n=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||n){if(e.currentUser&&n&&e.currentUser.uid===n.uid)return e._currentUser._assign(n),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(n,!0)}})()}initializeCurrentUser(e){var n=this;return v(function*(){var r;const i=yield n.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&n.config.authDomain){yield n.getOrInitRedirectPersistenceManager();const a=null===(r=n.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,l=yield n.tryRedirectSignIn(e);(!a||a===c)&&l?.user&&(s=l.user,o=!0)}if(!s)return n.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield n.beforeStateQueue.runMiddleware(s)}catch(a){s=i,n._popupRedirectResolver._overrideRedirectResult(n,()=>Promise.reject(a))}return s?n.reloadAndSetCurrentUserOrClear(s):n.directlySetCurrentUser(null)}return B(n._popupRedirectResolver,n,"argument-error"),yield n.getOrInitRedirectPersistenceManager(),n.redirectUser&&n.redirectUser._redirectEventId===s._redirectEventId?n.directlySetCurrentUser(s):n.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var n=this;return v(function*(){let r=null;try{r=yield n._popupRedirectResolver._completeRedirectFn(n,e,!0)}catch{yield n._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var n=this;return v(function*(){try{yield Ff(e)}catch(r){if("auth/network-request-failed"!==r?.code)return n.directlySetCurrentUser(null)}return n.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function Dbe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}()}_delete(){var e=this;return v(function*(){e._deleted=!0})()}updateCurrentUser(e){var n=this;return v(function*(){const r=e?Rn(e):null;return r&&B(r.auth.config.apiKey===n.config.apiKey,n,"invalid-user-token"),n._updateCurrentUser(r&&r._clone(n))})()}_updateCurrentUser(e,n=!1){var r=this;return v(function*(){if(!r._deleted)return e&&B(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),n||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(v(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return v(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var n=this;return this.queue(v(function*(){yield n.assertedPersistence.setPersistence(Ks(e))}))}initializeRecaptchaConfig(){var e=this;return v(function*(){const n=yield uW(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new fW(n);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new gW(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Sr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,n){var r=this;return v(function*(){const i=yield r.getOrInitRedirectPersistenceManager(n);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var n=this;return v(function*(){if(!n.redirectPersistenceManager){const r=e&&Ks(e)||n._popupRedirectResolver;B(r,n,"argument-error"),n.redirectPersistenceManager=yield Iu.create(n,[Ks(r._redirectPersistence)],"redirectUser"),n.redirectUser=yield n.redirectPersistenceManager.getCurrentUser()}return n.redirectPersistenceManager})()}_redirectUserForId(e){var n=this;return v(function*(){var r,i;return n._isInitialized&&(yield n.queue(v(function*(){}))),(null===(r=n._currentUser)||void 0===r?void 0:r._redirectEventId)===e?n._currentUser:(null===(i=n.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?n.redirectUser:null})()}_persistUserIfCurrent(e){var n=this;return v(function*(){if(e===n.currentUser)return n.queue(v(function*(){return n.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(n=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==n?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s="function"==typeof n?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return B(o,this,"internal-error"),o.then(()=>s(this.currentUser)),"function"==typeof n?e.addObserver(n,r,i):e.addObserver(n)}directlySetCurrentUser(e){var n=this;return v(function*(){n.currentUser&&n.currentUser!==e&&n._currentUser._stopProactiveRefresh(),e&&n.isProactiveRefreshEnabled&&e._startProactiveRefresh(),n.currentUser=e,e?yield n.assertedPersistence.setCurrentUser(e):yield n.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return B(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=lW(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return v(function*(){var n;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(n=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return v(function*(){var n;const r=yield null===(n=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===n?void 0:n.getToken();return r?.error&&function Tbe(t,...e){ov.logLevel<=Oe.WARN&&ov.warn(`Auth (${Ja}): ${t}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function _n(t){return Rn(t)}class mW{constructor(e){this.auth=e,this.observer=null,this.addObserver=kj(n=>this.observer=n)}get next(){return B(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function _W(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function yW(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}class nTe{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Ji("not implemented")}_getIdTokenResponse(e){return Ji("not implemented")}_linkToIdToken(e,n){return Ji("not implemented")}_getReauthenticationResolver(e){return Ji("not implemented")}}function Ys(t,e){return UM.apply(this,arguments)}function UM(){return(UM=v(function*(t,e){return function Ws(t,e,n,r){return lM.apply(this,arguments)}(t,"POST","/v1/accounts:signInWithIdp",At(t,e))})).apply(this,arguments)}class jo{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class mTe extends jo{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class oi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return v(function*(){const s=yield oc._fromIdTokenResponse(e,r,i),o=EW(r);return new oi({user:s,providerId:o,_tokenResponse:r,operationType:n})})()}static _forOperation(e,n,r){return v(function*(){yield e._updateTokensIfNecessary(r,!0);const i=EW(r);return new oi({user:e,providerId:i,_tokenResponse:r,operationType:n})})()}}function EW(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}class gv extends Mn{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,gv.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new gv(e,n,r,i)}}function bW(t,e,n,r){return("reauthenticate"===e?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?gv._fromErrorAndOperation(t,s,e,r):s})}function YM(){return(YM=v(function*(t,e,n=!1){const r=yield qs(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return oi._forOperation(t,"link",r)})).apply(this,arguments)}function XM(){return(XM=v(function*(t,e,n=!1){const{auth:r}=t,i="reauthenticate";try{const s=yield qs(t,bW(r,i,e,t),n);B(s.idToken,r,"internal-error");const o=cv(s.idToken);B(o,r,"internal-error");const{sub:a}=o;return B(t.uid===a,r,"user-mismatch"),oi._forOperation(t,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Nr(r,"user-mismatch"),s}})).apply(this,arguments)}function JM(){return(JM=v(function*(t,e,n=!1){const r="signIn",i=yield bW(t,r,e),s=yield oi._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})).apply(this,arguments)}const _v="__sak";class AW{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_v,"1"),this.storage.removeItem(_v),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const UTe=(()=>{class t extends AW{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function LTe(){const t=je();return vM(t)||uv(t)}()&&function Hbe(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=cW(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key)return void this.forAllChangedKeys((a,c,l)=>{this.notifyListeners(a,l)});const i=n.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const a=this.storage.getItem(i);if(n.newValue!==a)null!==n.newValue?this.storage.setItem(i,n.newValue):this.storage.removeItem(i);else if(this.localCache[i]===n.newValue&&!r)return}const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function $be(){return Nj()&&10===document.documentMode}()||o===n.newValue||n.newValue===n.oldValue?s():setTimeout(s,10)}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(n,r){var i=()=>super._set,s=this;return v(function*(){yield i().call(s,n,r),s.localCache[n]=JSON.stringify(r)})()}_get(n){var r=()=>super._get,i=this;return v(function*(){const s=yield r().call(i,n);return i.localCache[n]=JSON.stringify(s),s})()}_remove(n){var r=()=>super._remove,i=this;return v(function*(){yield r().call(i,n),delete i.localCache[n]})()}}return t.type="LOCAL",t})(),xW=(()=>{class t extends AW{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})();let jTe=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){const r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;const i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){var r=this;return v(function*(){const i=n,{eventId:s,eventType:o,data:a}=i.data,c=r.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const l=Array.from(c).map(function(){var d=v(function*(f){return f(i.origin,a)});return function(f){return d.apply(this,arguments)}}()),u=yield function BTe(t){return Promise.all(t.map(function(){var e=v(function*(n){try{return{fulfilled:!0,value:yield n}}catch(r){return{fulfilled:!1,reason:r}}});return function(n){return e.apply(this,arguments)}}()))}(l);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:u})})()}_subscribe(n,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||0===this.handlersMap[n].size)&&delete this.handlersMap[n],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return t.receivers=[],t})();function AN(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(10*Math.random());return t+n}class $Te{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){var i=this;return v(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((c,l)=>{const u=AN("",20);s.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(f){const g=f;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(d),o=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(g.data.response);break;default:clearTimeout(d),clearTimeout(o),l(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:u,data:n},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function en(){return window}function xN(){return typeof en().WorkerGlobalScope<"u"&&"function"==typeof en().importScripts}function MN(){return(MN=v(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const MW="firebaseLocalStorageDb",yv="firebaseLocalStorage",NW="fbase_key";class $f{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function vv(t,e){return t.transaction([yv],e?"readwrite":"readonly").objectStore(yv)}function NN(){const t=indexedDB.open(MW,1);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(yv,{keyPath:NW})}catch(i){n(i)}}),t.addEventListener("success",v(function*(){const r=t.result;r.objectStoreNames.contains(yv)?e(r):(r.close(),yield function KTe(){const t=indexedDB.deleteDatabase(MW);return new $f(t).toPromise()}(),e(yield NN()))}))})}function RW(t,e,n){return RN.apply(this,arguments)}function RN(){return(RN=v(function*(t,e,n){const r=vv(t,!0).put({[NW]:e,value:n});return new $f(r).toPromise()})).apply(this,arguments)}function kN(){return(kN=v(function*(t,e){const n=vv(t,!1).get(e),r=yield new $f(n).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function kW(t,e){const n=vv(t,!0).delete(e);return new $f(n).toPromise()}const JTe=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var n=this;return v(function*(){return n.db||(n.db=yield NN()),n.db})()}_withRetries(n){var r=this;return v(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield n(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var n=this;return v(function*(){return xN()?n.initializeReceiver():n.initializeSender()})()}initializeReceiver(){var n=this;return v(function*(){n.receiver=jTe._getInstance(function WTe(){return xN()?self:null}()),n.receiver._subscribe("keyChanged",function(){var r=v(function*(i,s){return{keyProcessed:(yield n._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),n.receiver._subscribe("ping",function(){var r=v(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var n=this;return v(function*(){var r,i;if(n.activeServiceWorker=yield function GTe(){return MN.apply(this,arguments)}(),!n.activeServiceWorker)return;n.sender=new $Te(n.activeServiceWorker);const s=yield n.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(n.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(n){var r=this;return v(function*(){if(r.sender&&r.activeServiceWorker&&function zTe(){var t;return(null===(t=navigator?.serviceWorker)||void 0===t?void 0:t.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:n},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return v(function*(){try{if(!indexedDB)return!1;const n=yield NN();return yield RW(n,_v,"1"),yield kW(n,_v),!0}catch{}return!1})()}_withPendingWrite(n){var r=this;return v(function*(){r.pendingWrites++;try{yield n()}finally{r.pendingWrites--}})()}_set(n,r){var i=this;return v(function*(){return i._withPendingWrite(v(function*(){return yield i._withRetries(s=>RW(s,n,r)),i.localCache[n]=r,i.notifyServiceWorker(n)}))})()}_get(n){var r=this;return v(function*(){const i=yield r._withRetries(s=>function YTe(t,e){return kN.apply(this,arguments)}(s,n));return r.localCache[n]=i,i})()}_remove(n){var r=this;return v(function*(){return r._withPendingWrite(v(function*(){return yield r._withRetries(i=>kW(i,n)),delete r.localCache[n],r.notifyServiceWorker(n)}))})()}_poll(){var n=this;return v(function*(){const r=yield n._withRetries(o=>{const a=vv(o,!1).getAll();return new $f(a).toPromise()});if(!r)return[];if(0!==n.pendingWrites)return[];const i=[],s=new Set;for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(n.localCache[o])!==JSON.stringify(a)&&(n.notifyListeners(o,a),i.push(o));for(const o of Object.keys(n.localCache))n.localCache[o]&&!s.has(o)&&(n.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(n,r){this.localCache[n]=r;const i=this.listeners[n];if(i)for(const s of Array.from(i))s(r)}startPolling(){var n=this;this.stopPolling(),this.pollTimer=setInterval(v(function*(){return n._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),0===this.listeners[n].size&&delete this.listeners[n]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return t.type="LOCAL",t})();pW("rcb"),new Pf(3e4,6e4);class $N extends nTe{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ys(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ys(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ys(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function pCe(t){return function DW(t,e){return JM.apply(this,arguments)}(t.auth,new $N(t),t.bypassAuthState)}function gCe(t){const{auth:e,user:n}=t;return B(n,e,"internal-error"),function CW(t,e){return XM.apply(this,arguments)}(n,new $N(t),t.bypassAuthState)}function mCe(t){return HN.apply(this,arguments)}function HN(){return(HN=v(function*(t){const{auth:e,user:n}=t;return B(n,e,"internal-error"),function KM(t,e){return YM.apply(this,arguments)}(n,new $N(t),t.bypassAuthState)})).apply(this,arguments)}class _Ce{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){var e=this;return new Promise(function(){var n=v(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return n.apply(this,arguments)}}())}onAuthEvent(e){var n=this;return v(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:c}=e;if(a)return void n.reject(a);const l={auth:n.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:n.user,bypassAuthState:n.bypassAuthState};try{n.resolve(yield n.getIdpTask(c)(l))}catch(u){n.reject(u)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pCe;case"linkViaPopup":case"linkViaRedirect":return mCe;case"reauthViaPopup":case"reauthViaRedirect":return gCe;default:Nr(this.auth,"internal-error")}}resolve(e){Vo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Vo(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}new Pf(2e3,1e4);const yCe="pendingRedirect",Hf=new Map;class vCe extends _Ce{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,n=this;return v(function*(){let r=Hf.get(n.auth._key());if(!r){try{const s=(yield function wCe(t,e){return KN.apply(this,arguments)}(n.resolver,n.auth))?yield e().call(n):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Hf.set(n.auth._key(),r)}return n.bypassAuthState||Hf.set(n.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var n=()=>super.onAuthEvent,r=this;return v(function*(){if("signInViaRedirect"===e.type)return n().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,n().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return v(function*(){})()}cleanUp(){}}function KN(){return(KN=v(function*(t,e){const n=function LW(t){return lv(yCe,t.config.apiKey,t.name)}(e),r=function OW(t){return Ks(t._redirectPersistence)}(t);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(n));return yield r._remove(n),i})).apply(this,arguments)}function ICe(t,e){Hf.set(t._key(),e)}function FW(t,e){return tR.apply(this,arguments)}function tR(){return(tR=v(function*(t,e,n=!1){const r=_n(t),i=function cc(t,e){return e?Ks(e):(B(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}(r,e),o=yield new vCe(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class DCe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function SCe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return BW(t);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!BW(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";n.onError(Xi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=null===n.eventId||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(UW(e))}saveEventToCache(e){this.cachedEventUids.add(UW(e)),this.lastProcessedEventTime=Date.now()}}function UW(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function BW({type:t,error:e}){return"unknown"===t&&"auth/no-auth-event"===e?.code}function rR(){return(rR=v(function*(t,e={}){return Vt(t,"GET","/v1/projects",e)})).apply(this,arguments)}const xCe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,MCe=/^https?/;function iR(){return iR=v(function*(t){if(t.config.emulator)return;const{authorizedDomains:e}=yield function ACe(t){return rR.apply(this,arguments)}(t);for(const n of e)try{if(RCe(n))return}catch{}Nr(t,"unauthorized-domain")}),iR.apply(this,arguments)}function RCe(t){const e=kf(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return""===o.hostname&&""===r?"chrome-extension:"===n&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===n&&o.hostname===r}if(!MCe.test(n))return!1;if(xCe.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const kCe=new Pf(3e4,6e4);function jW(){const t=en().___jsl;if(t?.H)for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}let Iv=null;const LCe=new Pf(5e3,15e3),FCe="__/auth/iframe",VCe="emulator/auth/iframe",UCe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BCe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function jCe(t){const e=t.config;B(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?oM(e,VCe):`https://${t.config.authDomain}/${FCe}`,r={apiKey:e.apiKey,appName:t.name,v:Ja},i=BCe.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Rs(r).slice(1)}`}function sR(){return sR=v(function*(t){const e=yield function OCe(t){return Iv=Iv||function PCe(t){return new Promise((e,n)=>{var r,i,s;function o(){jW(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{jW(),n(Xi(t,"network-request-failed"))},timeout:kCe.get()})}if(null!==(i=null===(r=en().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=en().gapi)||void 0===s||!s.load){const a=pW("iframefcb");return en()[a]=()=>{gapi.load?o():n(Xi(t,"network-request-failed"))},EM(`https://apis.google.com/js/api.js?onload=${a}`).catch(c=>n(c))}o()}}).catch(e=>{throw Iv=null,e})}(t),Iv}(t),n=en().gapi;return B(n,t,"internal-error"),e.open({where:document.body,url:jCe(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:UCe,dontclear:!0},r=>new Promise(function(){var i=v(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Xi(t,"network-request-failed"),c=en().setTimeout(()=>{o(a)},LCe.get());function l(){en().clearTimeout(c),s(r)}r.ping(l).then(l,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),sR.apply(this,arguments)}const HCe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class $W{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const QCe="__/auth/handler",XCe="emulator/auth/handler",JCe=encodeURIComponent("fac");function HW(t,e,n,r,i,s){return oR.apply(this,arguments)}function oR(){return(oR=v(function*(t,e,n,r,i,s){B(t.config.authDomain,t,"auth-domain-config-required"),B(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Ja,eventId:i};if(e instanceof jo){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",D_(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(s||{}))o[u]=d}if(e instanceof mTe){const u=e.getScopes().filter(d=>""!==d);u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const u of Object.keys(a))void 0===a[u]&&delete a[u];const c=yield t._getAppCheckToken(),l=c?`#${JCe}=${encodeURIComponent(c)}`:"";return`${function ZCe({config:t}){return t.emulator?oM(t,XCe):`https://${t.authDomain}/${QCe}`}(t)}?${Rs(a).slice(1)}${l}`})).apply(this,arguments)}const aR="webStorageSupport",t0e=class e0e{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xW,this._completeRedirectFn=FW,this._overrideRedirectResult=ICe}_openPopup(e,n,r,i){var s=this;return v(function*(){var o;Vo(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield HW(e,n,r,kf(),i);return function KCe(t,e,n,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},HCe),{width:r.toString(),height:i.toString(),top:s,left:o}),l=je().toLowerCase();n&&(a=rW(l)?"_blank":n),nW(l)&&(e=e||"http://localhost",c.scrollbars="yes");const u=Object.entries(c).reduce((f,[g,_])=>`${f}${g}=${_},`,"");if(function jbe(t=je()){var e;return uv(t)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(l)&&"_self"!==a)return function YCe(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(e||"",a),new $W(null);const d=window.open(e||"",a,u);B(d,t,"popup-blocked");try{d.focus()}catch{}return new $W(d)}(e,a,AN())})()}_openRedirect(e,n,r,i){var s=this;return v(function*(){return yield s._originValidation(e),function HTe(t){en().location.href=t}(yield HW(e,n,r,kf(),i)),new Promise(()=>{})})()}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Vo(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){var n=this;return v(function*(){const r=yield function $Ce(t){return sR.apply(this,arguments)}(e),i=new DCe(e);return r.register("authEvent",s=>(B(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),n.eventManagers[e._key()]={manager:i},n.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(aR,{type:aR},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[aR];void 0!==o&&n(!!o),Nr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=function NCe(t){return iR.apply(this,arguments)}(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return cW()||vM()||uv()}};var WW="@firebase/auth";class n0e{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var n=this;return v(function*(){return n.assertAuthConfigured(),yield n.auth._initializationPromise,n.auth.currentUser?{accessToken:yield n.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){B(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const o0e=E_("authIdTokenMaxAge")||300;let KW=null;const a0e=t=>function(){var e=v(function*(n){const r=n&&(yield n.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>o0e)return;const s=r?.token;KW!==s&&(KW=s,yield fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(n){return e.apply(this,arguments)}}();function c0e(t=By()){const e=Sf(t,"auth");if(e.isInitialized())return e.getImmediate();const n=function Xbe(t,e){const n=Sf(t,"auth");if(n.isInitialized()){const i=n.getImmediate();if(ka(n.getOptions(),e??{}))return i;Nr(i,"already-initialized")}return n.initialize({options:e})}(t,{popupRedirectResolver:t0e,persistence:[JTe,UTe,xW]}),r=E_("authTokenSyncURL");if(r){const s=a0e(r);(function NTe(t,e,n){Rn(t).beforeAuthStateChanged(e,n)})(n,s,()=>s(n.currentUser)),function MTe(t,e,n,r){Rn(t).onIdTokenChanged(e,n,r)}(n,o=>s(o))}const i=oC("auth");return i&&function Zbe(t,e,n){const r=_n(t);B(r._canInitEmulator,r,"emulator-config-failed"),B(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!n?.disableWarnings,s=_W(e),{host:o,port:a}=function eTe(t){const e=_W(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:yW(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:yW(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function tTe(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",t):t())}()}(n,`http://${i}`),n}!function i0e(t){Xa(new Dt("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;B(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:lW(t)},l=new Qbe(r,i,s,c);return function Jbe(t,e){const n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Ks);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xa(new Dt("auth-internal",e=>{const n=_n(e.getProvider("auth").getImmediate());return new n0e(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),zn(WW,"0.23.2",function r0e(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(t)),zn(WW,"0.23.2","esm2017")}("Browser");class lR{constructor(e){return e}}class uR{constructor(){return Ky("auth")}}const dR=new V("angularfire2.auth-instances");function u0e(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new lR(r)}}const d0e={provide:uR,deps:[[new Pt,dR]]},h0e={provide:lR,useFactory:function l0e(t,e){const n=qy("auth",t,e);return n&&new lR(n)},deps:[[new Pt,dR],sc]};let f0e=(()=>{class t{constructor(){zn("angularfire",Mf.full,"auth")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Rt({providers:[h0e,d0e]}),t})();function p0e(t,...e){return{ngModule:f0e,providers:[{provide:dR,useFactory:u0e(t),multi:!0,deps:[Ne,gn,Yy,Xy,[new Pt,sv],...e]}]}}const g0e=Qy(c0e,!0);var W,m0e=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ii={},hR=hR||{},me=m0e||self;function bv(t){var e=typeof t;return"array"==(e="object"!=e?e:t?Array.isArray(t)?"array":e:"null")||"object"==e&&"number"==typeof t.length}function Gf(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var fR="closure_uid_"+(1e9*Math.random()>>>0),y0e=0;function v0e(t,e,n){return t.call.apply(t.bind,arguments)}function w0e(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function Wn(t,e,n){return(Wn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v0e:w0e).apply(null,arguments)}function Tv(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function yn(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[i].apply(r,o)}}function $o(){this.s=this.s,this.o=this.o}$o.prototype.s=!1,$o.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function _0e(t){Object.prototype.hasOwnProperty.call(t,fR)&&t[fR]||(t[fR]=++y0e)}(this)},$o.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const QW=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function pR(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function XW(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(bv(r)){const i=t.length||0,s=r.length||0;t.length=i+s;for(let o=0;o<s;o++)t[i+o]=r[o]}else t.push(r)}}function qn(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}qn.prototype.h=function(){this.defaultPrevented=!0};var E0e=function(){if(!me.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{me.addEventListener("test",()=>{},e),me.removeEventListener("test",()=>{},e)}catch{}return t}();function zf(t){return/^[\s\xa0]*$/.test(t)}function Cv(){var t=me.navigator;return t&&(t=t.userAgent)?t:""}function Zi(t){return-1!=Cv().indexOf(t)}function gR(t){return gR[" "](t),t}gR[" "]=function(){};var _R,t,T0e=Zi("Opera"),bu=Zi("Trident")||Zi("MSIE"),JW=Zi("Edge"),mR=JW||bu,ZW=Zi("Gecko")&&!(-1!=Cv().toLowerCase().indexOf("webkit")&&!Zi("Edge"))&&!(Zi("Trident")||Zi("MSIE"))&&!Zi("Edge"),C0e=-1!=Cv().toLowerCase().indexOf("webkit")&&!Zi("Edge");function eq(){var t=me.document;return t?t.documentMode:void 0}e:{var yR="",vR=(t=Cv(),ZW?/rv:([^\);]+)(\)|;)/.exec(t):JW?/Edge\/([\d\.]+)/.exec(t):bu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):C0e?/WebKit\/(\S+)/.exec(t):T0e?/(?:Version)[ \/]?(\S+)/.exec(t):void 0);if(vR&&(yR=vR?vR[1]:""),bu){var wR=eq();if(null!=wR&&wR>parseFloat(yR)){_R=String(wR);break e}}_R=yR}var D0e=me.document&&bu&&(eq()||parseInt(_R,10))||void 0;function Wf(t,e){if(qn.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(ZW){e:{try{gR(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:S0e[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&Wf.$.h.call(this)}}yn(Wf,qn);var S0e={2:"touch",3:"pen",4:"mouse"};Wf.prototype.h=function(){Wf.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var qf="closure_listenable_"+(1e6*Math.random()|0),A0e=0;function x0e(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=i,this.key=++A0e,this.fa=this.ia=!1}function Dv(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function ER(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function nq(t){const e={};for(const n in t)e[n]=t[n];return e}const rq="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function iq(t,e){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)t[n]=r[n];for(let s=0;s<rq.length;s++)n=rq[s],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function Sv(t){this.src=t,this.g={},this.h=0}function bR(t,e){var n=e.type;if(n in t.g){var s,r=t.g[n],i=QW(r,e);(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(Dv(e),0==t.g[n].length&&(delete t.g[n],t.h--))}}function TR(t,e,n,r){for(var i=0;i<t.length;++i){var s=t[i];if(!s.fa&&s.listener==e&&s.capture==!!n&&s.la==r)return i}return-1}Sv.prototype.add=function(t,e,n,r,i){var s=t.toString();(t=this.g[s])||(t=this.g[s]=[],this.h++);var o=TR(t,e,r,i);return-1<o?(e=t[o],n||(e.ia=!1)):((e=new x0e(e,this.src,s,!!r,i)).ia=n,t.push(e)),e};var CR="closure_lm_"+(1e6*Math.random()|0),DR={};function sq(t,e,n,r,i){if(r&&r.once)return aq(t,e,n,r,i);if(Array.isArray(e)){for(var s=0;s<e.length;s++)sq(t,e[s],n,r,i);return null}return n=MR(n),t&&t[qf]?t.O(e,n,Gf(r)?!!r.capture:!!r,i):oq(t,e,n,!1,r,i)}function oq(t,e,n,r,i,s){if(!e)throw Error("Invalid event type");var o=Gf(i)?!!i.capture:!!i,a=AR(t);if(a||(t[CR]=a=new Sv(t)),(n=a.add(e,n,r,o,s)).proxy)return n;if(r=function N0e(){const e=R0e;return function t(n){return e.call(t.src,t.listener,n)}}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)E0e||(i=o),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(lq(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function aq(t,e,n,r,i){if(Array.isArray(e)){for(var s=0;s<e.length;s++)aq(t,e[s],n,r,i);return null}return n=MR(n),t&&t[qf]?t.P(e,n,Gf(r)?!!r.capture:!!r,i):oq(t,e,n,!0,r,i)}function cq(t,e,n,r,i){if(Array.isArray(e))for(var s=0;s<e.length;s++)cq(t,e[s],n,r,i);else r=Gf(r)?!!r.capture:!!r,n=MR(n),t&&t[qf]?(t=t.i,(e=String(e).toString())in t.g&&-1<(n=TR(s=t.g[e],n,r,i))&&(Dv(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete t.g[e],t.h--))):t&&(t=AR(t))&&(e=t.g[e.toString()],t=-1,e&&(t=TR(e,n,r,i)),(n=-1<t?e[t]:null)&&SR(n))}function SR(t){if("number"!=typeof t&&t&&!t.fa){var e=t.src;if(e&&e[qf])bR(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(lq(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=AR(e))?(bR(n,t),0==n.h&&(n.src=null,e[CR]=null)):Dv(t)}}}function lq(t){return t in DR?DR[t]:DR[t]="on"+t}function R0e(t,e){if(t.fa)t=!0;else{e=new Wf(e,this);var n=t.listener,r=t.la||t.src;t.ia&&SR(t),t=n.call(r,e)}return t}function AR(t){return(t=t[CR])instanceof Sv?t:null}var xR="__closure_events_fn_"+(1e9*Math.random()>>>0);function MR(t){return"function"==typeof t?t:(t[xR]||(t[xR]=function(e){return t.handleEvent(e)}),t[xR])}function vn(){$o.call(this),this.i=new Sv(this),this.S=this,this.J=null}function Ln(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,"string"==typeof e)e=new qn(e,t);else if(e instanceof qn)e.target=e.target||t;else{var i=e;iq(e=new qn(r,t),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=e.g=n[s];i=Av(o,r,!0,e)&&i}if(i=Av(o=e.g=t,r,!0,e)&&i,i=Av(o,r,!1,e)&&i,n)for(s=0;s<n.length;s++)i=Av(o=e.g=n[s],r,!1,e)&&i}function Av(t,e,n,r){if(!(e=t.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,s=0;s<e.length;++s){var o=e[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,c=o.la||o.src;o.ia&&bR(t.i,o),i=!1!==a.call(c,r)&&i}}return i&&!r.defaultPrevented}yn(vn,$o),vn.prototype[qf]=!0,vn.prototype.removeEventListener=function(t,e,n,r){cq(this,t,e,n,r)},vn.prototype.N=function(){if(vn.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Dv(n[r]);delete t.g[e],t.h--}}this.J=null},vn.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)},vn.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};var NR=me.JSON.stringify;function P0e(){var t=RR;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}var uq=new class k0e{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new L0e,t=>t.reset());class L0e{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function F0e(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function V0e(t){me.setTimeout(()=>{throw t},0)}let Kf,Yf=!1,RR=new class O0e{constructor(){this.h=this.g=null}add(e,n){const r=uq.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}},dq=()=>{const t=me.Promise.resolve(void 0);Kf=()=>{t.then(U0e)}};var U0e=()=>{for(var t;t=P0e();){try{t.h.call(t.g)}catch(n){V0e(n)}var e=uq;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Yf=!1};function xv(t,e){vn.call(this),this.h=t||1,this.g=e||me,this.j=Wn(this.qb,this),this.l=Date.now()}function kR(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}function PR(t,e,n){if("function"==typeof t)n&&(t=Wn(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Wn(t.handleEvent,t)}return 2147483647<Number(e)?-1:me.setTimeout(t,e||0)}function hq(t){t.g=PR(()=>{t.g=null,t.i&&(t.i=!1,hq(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}yn(xv,vn),(W=xv.prototype).ga=!1,W.T=null,W.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ln(this,"tick"),this.ga&&(kR(this),this.start()))}},W.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},W.N=function(){xv.$.N.call(this),kR(this),delete this.g};class B0e extends $o{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:hq(this)}N(){super.N(),this.g&&(me.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Qf(t){$o.call(this),this.h=t,this.g={}}yn(Qf,$o);var fq=[];function pq(t,e,n,r){Array.isArray(n)||(n&&(fq[0]=n.toString()),n=fq);for(var i=0;i<n.length;i++){var s=sq(e,n[i],r||t.handleEvent,!1,t.h||t);if(!s)break;t.g[s.key]=s}}function gq(t){ER(t.g,function(e,n){this.g.hasOwnProperty(n)&&SR(e)},t),t.g={}}function Mv(){this.g=!0}function Tu(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+function G0e(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return NR(n)}catch{return e}}(t,n)+(r?" "+r:"")})}Qf.prototype.N=function(){Qf.$.N.call(this),gq(this)},Qf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Mv.prototype.Ea=function(){this.g=!1},Mv.prototype.info=function(){};var lc={},mq=null;function Nv(){return mq=mq||new vn}function _q(t){qn.call(this,lc.Ta,t)}function Xf(t){const e=Nv();Ln(e,new _q(e))}function yq(t,e){qn.call(this,lc.STAT_EVENT,t),this.stat=e}function fr(t){const e=Nv();Ln(e,new yq(e,t))}function vq(t,e){qn.call(this,lc.Ua,t),this.size=e}function Jf(t,e){if("function"!=typeof t)throw Error("Fn must not be null and must be a function");return me.setTimeout(function(){t()},e)}lc.Ta="serverreachability",yn(_q,qn),lc.STAT_EVENT="statevent",yn(yq,qn),lc.Ua="timingevent",yn(vq,qn);var Rv={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},wq={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function OR(){}function Eq(){}OR.prototype.h=null;var VR,Zf={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function LR(){qn.call(this,"d")}function FR(){qn.call(this,"c")}function kv(){}function ep(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new Qf(this),this.P=z0e,this.V=new xv(t=mR?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new bq}function bq(){this.i=null,this.g="",this.h=!1}yn(LR,qn),yn(FR,qn),yn(kv,OR),kv.prototype.g=function(){return new XMLHttpRequest},kv.prototype.i=function(){return{}},VR=new kv;var z0e=45e3,UR={},Pv={};function BR(t,e,n){t.L=1,t.v=Vv(Qs(e)),t.s=n,t.S=!0,Tq(t,null)}function Tq(t,e){t.G=Date.now(),tp(t),t.A=Qs(t.v);var n=t.A,r=t.W;Array.isArray(r)||(r=[String(r)]),Pq(n.i,"t",r),t.C=0,n=t.l.J,t.h=new bq,t.g=i7(t.l,n?e:null,!t.s),0<t.O&&(t.M=new B0e(Wn(t.Pa,t,t.g),t.O)),pq(t.U,t.g,"readystatechange",t.nb),e=t.I?nq(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Xf(),function j0e(t,e,n,r,i,s){t.info(function(){if(t.g)if(s)for(var o="",a=s.split("&"),c=0;c<a.length;c++){var l=a[c].split("=");if(1<l.length){var u=l[0];l=l[1];var d=u.split("_");o=2<=d.length&&"type"==d[1]?o+(u+"=")+l+"&":o+(u+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+o})}(t.j,t.u,t.A,t.m,t.W,t.s)}function Cq(t){return!!t.g&&"GET"==t.u&&2!=t.L&&t.l.Ha}function Dq(t,e,n){let i,r=!0;for(;!t.J&&t.C<n.length;){if(i=W0e(t,n),i==Pv){4==e&&(t.o=4,fr(14),r=!1),Tu(t.j,t.m,null,"[Incomplete Response]");break}if(i==UR){t.o=4,fr(15),Tu(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}Tu(t.j,t.m,i,null),jR(t,i)}Cq(t)&&i!=Pv&&i!=UR&&(t.h.g="",t.C=0),4!=e||0!=n.length||t.h.h||(t.o=1,fr(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,(e=t.l).g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),KR(e),e.M=!0,fr(11))):(Tu(t.j,t.m,n,"[Invalid Chunked Response]"),uc(t),np(t))}function W0e(t,e){var n=t.C,r=e.indexOf("\n",n);return-1==r?Pv:(n=Number(e.substring(n,r)),isNaN(n)?UR:(r+=1)+n>e.length?Pv:(e=e.slice(r,r+n),t.C=r+n,e))}function tp(t){t.Y=Date.now()+t.P,Sq(t,t.P)}function Sq(t,e){if(null!=t.B)throw Error("WatchDog timer not null");t.B=Jf(Wn(t.lb,t),e)}function Ov(t){t.B&&(me.clearTimeout(t.B),t.B=null)}function np(t){0==t.l.H||t.J||e7(t.l,t)}function uc(t){Ov(t);var e=t.M;e&&"function"==typeof e.sa&&e.sa(),t.M=null,kR(t.V),gq(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function jR(t,e){try{var n=t.l;if(0!=n.H&&(n.g==t||$R(n.i,t)))if(!t.K&&$R(n.i,t)&&3==n.H){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<t.G))break e;Gv(n),$v(n)}qR(n),fr(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=Jf(Wn(n.ib,n),6e3));if(1>=Fq(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else hc(n,11)}else if((t.K||n.g==t)&&Gv(n),!zf(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let l=i[e];if(n.V=l[0],l=l[1],2==n.H)if("c"==l[0]){n.K=l[1],n.pa=l[2];const u=l[3];null!=u&&(n.ra=u,n.l.info("VER="+n.ra));const d=l[4];null!=d&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=l[5];null!=f&&"number"==typeof f&&0<f&&(n.L=r=1.5*f,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const g=t.g;if(g){const _=g.g?g.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_){var s=r.i;s.g||-1==_.indexOf("spdy")&&-1==_.indexOf("quic")&&-1==_.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(HR(s,s.h),s.h=null))}if(r.F){const w=g.g?g.g.getResponseHeader("X-HTTP-Session-Id"):null;w&&(r.Da=w,mt(r.I,r.F,w))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms"));var o=t;if((r=n).wa=r7(r,r.J?r.pa:null,r.Y),o.K){Vq(r.i,o);var a=o,c=r.L;c&&a.setTimeout(c),a.B&&(Ov(a),tp(a)),r.g=o}else Jq(r);0<n.j.length&&Hv(n)}else"stop"!=l[0]&&"close"!=l[0]||hc(n,7);else 3==n.H&&("stop"==l[0]||"close"==l[0]?"stop"==l[0]?hc(n,7):WR(n):"noop"!=l[0]&&n.h&&n.h.Aa(l),n.A=0)}Xf()}catch{}}function Aq(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(bv(t)||"string"==typeof t)Array.prototype.forEach.call(t,e,void 0);else for(var n=function K0e(t){if(t.ta&&"function"==typeof t.ta)return t.ta();if(!t.Z||"function"!=typeof t.Z){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(bv(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}(t),r=function q0e(t){if(t.Z&&"function"==typeof t.Z)return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if("string"==typeof t)return t.split("");if(bv(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t),i=r.length,s=0;s<i;s++)e.call(void 0,r[s],n&&n[s],t)}(W=ep.prototype).setTimeout=function(t){this.P=t},W.nb=function(t){t=t.target;const e=this.M;e&&3==es(t)?e.l():this.Pa(t)},W.Pa=function(t){try{if(t==this.g)e:{const u=es(this.g);var e=this.g.Ia();if(this.g.da(),!(3>u)&&(3!=u||mR||this.g&&(this.h.h||this.g.ja()||Wq(this.g)))){this.J||4!=u||7==e||Xf(),Ov(this);var n=this.g.da();this.ca=n;t:if(Cq(this)){var r=Wq(this.g);t="";var i=r.length,s=4==es(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){uc(this),np(this);var o="";break t}this.h.i=new me.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:s&&e==i-1});r.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,function $0e(t,e,n,r,i,s,o){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+s+" "+o})}(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,c=this.g;if((a=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!zf(a)){var l=a;break t}}l=null}if(!(n=l)){this.i=!1,this.o=3,fr(12),uc(this),np(this);break e}Tu(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,jR(this,n)}this.S?(Dq(this,u,o),mR&&this.i&&3==u&&(pq(this.U,this.V,"tick",this.mb),this.V.start())):(Tu(this.j,this.m,o,null),jR(this,o)),4==u&&uc(this),this.i&&!this.J&&(4==u?e7(this.l,this):(this.i=!1,tp(this)))}else(function hDe(t){const e={};t=(t.g&&2<=es(t)&&t.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<t.length;r++){if(zf(t[r]))continue;var n=F0e(t[r]);const i=n[0];if("string"!=typeof(n=n[1]))continue;n=n.trim();const s=e[i]||[];e[i]=s,s.push(n)}!function M0e(t,e){for(const n in t)e.call(void 0,t[n],n,t)}(e,function(r){return r.join(", ")})})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.o=3,fr(12)):(this.o=0,fr(13)),uc(this),np(this)}}}catch{}},W.mb=function(){if(this.g){var t=es(this.g),e=this.g.ja();this.C<e.length&&(Ov(this),Dq(this,t,e),this.i&&4!=t&&tp(this))}},W.cancel=function(){this.J=!0,uc(this)},W.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(function H0e(t,e){t.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(Xf(),fr(17)),uc(this),this.o=2,np(this)):Sq(this,this.Y-t)};var xq=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function dc(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof dc){this.h=t.h,Lv(this,t.j),this.s=t.s,this.g=t.g,Fv(this,t.m),this.l=t.l;var e=t.i,n=new sp;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),Mq(this,n),this.o=t.o}else t&&(e=String(t).match(xq))?(this.h=!1,Lv(this,e[1]||"",!0),this.s=rp(e[2]||""),this.g=rp(e[3]||"",!0),Fv(this,e[4]),this.l=rp(e[5]||"",!0),Mq(this,e[6]||"",!0),this.o=rp(e[7]||"")):(this.h=!1,this.i=new sp(null,this.h))}function Qs(t){return new dc(t)}function Lv(t,e,n){t.j=n?rp(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function Fv(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function Mq(t,e,n){e instanceof sp?(t.i=e,function tDe(t,e){e&&!t.j&&(Ho(t),t.i=null,t.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(Rq(this,r),Pq(this,i,n))},t)),t.j=e}(t.i,t.h)):(n||(e=ip(e,Z0e)),t.i=new sp(e,t.h))}function mt(t,e,n){t.i.set(e,n)}function Vv(t){return mt(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function rp(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ip(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Q0e),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Q0e(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}dc.prototype.toString=function(){var t=[],e=this.j;e&&t.push(ip(e,Nq,!0),":");var n=this.g;return(n||"file"==e)&&(t.push("//"),(e=this.s)&&t.push(ip(e,Nq,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&t.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&t.push("/"),t.push(ip(n,"/"==n.charAt(0)?J0e:X0e,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",ip(n,eDe)),t.join("")};var Nq=/[#\/\?@]/g,X0e=/[#\?:]/g,J0e=/[#\?]/g,Z0e=/[#\?@]/g,eDe=/#/g;function sp(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ho(t){t.g||(t.g=new Map,t.h=0,t.i&&function Y0e(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var s=t[n].substring(0,r);i=t[n].substring(r+1)}else s=t[n];e(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function Rq(t,e){Ho(t),e=Cu(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function kq(t,e){return Ho(t),e=Cu(t,e),t.g.has(e)}function Pq(t,e,n){Rq(t,e),0<n.length&&(t.i=null,t.g.set(Cu(t,e),pR(n)),t.h+=n.length)}function Cu(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function Oq(t){this.l=t||rDe,t=me.PerformanceNavigationTiming?0<(t=me.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):!!(me.g&&me.g.Ka&&me.g.Ka()&&me.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(W=sp.prototype).add=function(t,e){Ho(this),this.i=null,t=Cu(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this},W.forEach=function(t,e){Ho(this),this.g.forEach(function(n,r){n.forEach(function(i){t.call(e,i,r,this)},this)},this)},W.ta=function(){Ho(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const i=t[r];for(let s=0;s<i.length;s++)n.push(e[r])}return n},W.Z=function(t){Ho(this);let e=[];if("string"==typeof t)kq(this,t)&&(e=e.concat(this.g.get(Cu(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e},W.set=function(t,e){return Ho(this),this.i=null,kq(this,t=Cu(this,t))&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this},W.get=function(t,e){return t&&0<(t=this.Z(t)).length?String(t[0]):e},W.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),t.push(i)}}return this.i=t.join("&")};var rDe=10;function Lq(t){return!!t.h||!!t.g&&t.g.size>=t.j}function Fq(t){return t.h?1:t.g?t.g.size:0}function $R(t,e){return t.h?t.h==e:!!t.g&&t.g.has(e)}function HR(t,e){t.g?t.g.add(e):t.h=e}function Vq(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}function Uq(t){if(null!=t.h)return t.i.concat(t.h.F);if(null!=t.g&&0!==t.g.size){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return pR(t.i)}Oq.prototype.cancel=function(){if(this.i=Uq(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const t of this.g.values())t.cancel();this.g.clear()}};var iDe=class{stringify(t){return me.JSON.stringify(t,void 0)}parse(t){return me.JSON.parse(t,void 0)}};function sDe(){this.g=new iDe}function oDe(t,e,n){const r=n||"";try{Aq(t,function(i,s){let o=i;Gf(i)&&(o=NR(i)),e.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Uv(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function op(t){this.l=t.fc||null,this.j=t.ob||!1}function Bv(t,e){vn.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=GR,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}yn(op,OR),op.prototype.g=function(){return new Bv(this.l,this.j)},op.prototype.i=function(t){return function(){return t}}({}),yn(Bv,vn);var GR=0;function Bq(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}function ap(t){t.readyState=4,t.l=null,t.j=null,t.A=null,cp(t)}function cp(t){t.onreadystatechange&&t.onreadystatechange.call(t)}(W=Bv.prototype).open=function(t,e){if(this.readyState!=GR)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,cp(this)},W.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||me).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},W.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,ap(this)),this.readyState=GR},W.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,cp(this)),this.g&&(this.readyState=3,cp(this),this.g)))if("arraybuffer"===this.responseType)t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof me.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Bq(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))},W.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?ap(this):cp(this),3==this.readyState&&Bq(this)}},W.Za=function(t){this.g&&(this.response=this.responseText=t,ap(this))},W.Ya=function(t){this.g&&(this.response=t,ap(this))},W.ka=function(){this.g&&ap(this)},W.setRequestHeader=function(t,e){this.v.append(t,e)},W.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""},W.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)t.push((n=n.value)[0]+": "+n[1]),n=e.next();return t.join("\r\n")},Object.defineProperty(Bv.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(t){this.m=t?"include":"same-origin"}});var cDe=me.JSON.parse;function Ut(t){vn.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=jq,this.L=this.M=!1}yn(Ut,vn);var jq="",lDe=/^https?$/i,uDe=["POST","PUT"];function $q(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Hq(t),jv(t)}function Hq(t){t.F||(t.F=!0,Ln(t,"complete"),Ln(t,"error"))}function Gq(t){if(t.h&&typeof hR<"u"&&(!t.C[1]||4!=es(t)||2!=t.da()))if(t.v&&4==es(t))PR(t.La,0,t);else if(Ln(t,"readystatechange"),4==es(t)){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=0===o){var i=String(t.I).match(xq)[1]||null;!i&&me.self&&me.self.location&&(i=me.self.location.protocol.slice(0,-1)),r=!lDe.test(i?i.toLowerCase():"")}n=r}if(n)Ln(t,"complete"),Ln(t,"success");else{t.m=6;try{var s=2<es(t)?t.g.statusText:""}catch{s=""}t.j=s+" ["+t.da()+"]",Hq(t)}}finally{jv(t)}}}function jv(t,e){if(t.g){zq(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Ln(t,"ready");try{n.onreadystatechange=r}catch{}}}function zq(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(me.clearTimeout(t.A),t.A=null)}function es(t){return t.g?t.g.readyState:0}function Wq(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case jq:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function qq(t){let e="";return ER(t,function(n,r){e+=r,e+=":",e+=n,e+="\r\n"}),e}function zR(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=qq(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):mt(t,e,n))}function lp(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Kq(t){this.Ga=0,this.j=[],this.l=new Mv,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=lp("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=lp("baseRetryDelayMs",5e3,t),this.hb=lp("retryDelaySeedMs",1e4,t),this.eb=lp("forwardChannelMaxRetries",2,t),this.xa=lp("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Oq(t&&t.concurrentRequestLimit),this.Ja=new sDe,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function WR(t){if(Yq(t),3==t.H){var e=t.W++,n=Qs(t.I);if(mt(n,"SID",t.K),mt(n,"RID",e),mt(n,"TYPE","terminate"),up(t,n),(e=new ep(t,t.l,e)).L=2,e.v=Vv(Qs(n)),n=!1,me.navigator&&me.navigator.sendBeacon)try{n=me.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&me.Image&&((new Image).src=e.v,n=!0),n||(e.g=i7(e.l,null),e.g.ha(e.v)),e.G=Date.now(),tp(e)}n7(t)}function $v(t){t.g&&(KR(t),t.g.cancel(),t.g=null)}function Yq(t){$v(t),t.u&&(me.clearTimeout(t.u),t.u=null),Gv(t),t.i.cancel(),t.m&&("number"==typeof t.m&&me.clearTimeout(t.m),t.m=null)}function Hv(t){if(!Lq(t.i)&&!t.m){t.m=!0;var e=t.Na;Kf||dq(),Yf||(Kf(),Yf=!0),RR.add(e,t),t.C=0}}function Qq(t,e){var n;n=e?e.m:t.W++;const r=Qs(t.I);mt(r,"SID",t.K),mt(r,"RID",n),mt(r,"AID",t.V),up(t,r),t.o&&t.s&&zR(r,t.o,t.s),n=new ep(t,t.l,n,t.C+1),null===t.o&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=Xq(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),HR(t.i,n),BR(n,r,e)}function up(t,e){t.na&&ER(t.na,function(n,r){mt(e,r,n)}),t.h&&Aq({},function(n,r){mt(e,r,n)})}function Xq(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Wn(t.h.Va,t.h,t):null;e:{var i=t.j;let s=-1;for(;;){const o=["count="+n];-1==s?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let c=0;c<n;c++){let l=i[c].g;const u=i[c].map;if(l-=s,0>l)s=Math.max(0,i[c].g-100),a=!1;else try{oDe(u,o,"req"+l+"_")}catch{r&&r(u)}}if(a){r=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function Jq(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;Kf||dq(),Yf||(Kf(),Yf=!0),RR.add(e,t),t.A=0}}function qR(t){return!(t.g||t.u||3<=t.A||(t.ba++,t.u=Jf(Wn(t.Ma,t),t7(t,t.A)),t.A++,0))}function KR(t){null!=t.B&&(me.clearTimeout(t.B),t.B=null)}function Zq(t){t.g=new ep(t,t.l,"rpc",t.ba),null===t.o&&(t.g.I=t.s),t.g.O=0;var e=Qs(t.wa);mt(e,"RID","rpc"),mt(e,"SID",t.K),mt(e,"AID",t.V),mt(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&mt(e,"TO",t.qa),mt(e,"TYPE","xmlhttp"),up(t,e),t.o&&t.s&&zR(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=Vv(Qs(e)),n.s=null,n.S=!0,Tq(n,t)}function Gv(t){null!=t.v&&(me.clearTimeout(t.v),t.v=null)}function e7(t,e){var n=null;if(t.g==e){Gv(t),KR(t),t.g=null;var r=2}else{if(!$R(t.i,e))return;n=e.F,Vq(t.i,e),r=1}if(0!=t.H)if(e.i)if(1==r){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;Ln(r=Nv(),new vq(r,n)),Hv(t)}else Jq(t);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function fDe(t,e){return!(Fq(t.i)>=t.i.j-(t.m?1:0)||(t.m?(t.j=e.F.concat(t.j),0):1==t.H||2==t.H||t.C>=(t.cb?0:t.eb)||(t.m=Jf(Wn(t.Na,t,e),t7(t,t.C)),t.C++,0)))}(t,e)||2==r&&qR(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:hc(t,5);break;case 4:hc(t,10);break;case 3:hc(t,6);break;default:hc(t,2)}}function t7(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function hc(t,e){if(t.l.info("Error code "+e),2==e){var n=null;t.h&&(n=null);var r=Wn(t.pb,t);n||(n=new dc("//www.google.com/images/cleardot.gif"),me.location&&"http"==me.location.protocol||Lv(n,"https"),Vv(n)),function aDe(t,e){const n=new Mv;if(me.Image){const r=new Image;r.onload=Tv(Uv,n,r,"TestLoadImage: loaded",!0,e),r.onerror=Tv(Uv,n,r,"TestLoadImage: error",!1,e),r.onabort=Tv(Uv,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=Tv(Uv,n,r,"TestLoadImage: timeout",!1,e),me.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}(n.toString(),r)}else fr(2);t.H=0,t.h&&t.h.za(e),n7(t),Yq(t)}function n7(t){if(t.H=0,t.ma=[],t.h){const e=Uq(t.i);(0!=e.length||0!=t.j.length)&&(XW(t.ma,e),XW(t.ma,t.j),t.i.i.length=0,pR(t.j),t.j.length=0),t.h.ya()}}function r7(t,e,n){var r=n instanceof dc?Qs(n):new dc(n);if(""!=r.g)e&&(r.g=e+"."+r.g),Fv(r,r.m);else{var i=me.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var s=new dc(null);r&&Lv(s,r),e&&(s.g=e),i&&Fv(s,i),n&&(s.l=n),r=s}return e=t.Da,(n=t.F)&&e&&mt(r,n,e),mt(r,"VER",t.ra),up(t,r),r}function i7(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Ut(n&&t.Ha&&!t.va?new op({ob:!0}):t.va)).Oa(t.J),e}function s7(){}function zv(){if(bu&&!(10<=Number(D0e)))throw Error("Environmental error: no available transport.")}function Hr(t,e){vn.call(this),this.g=new Kq(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!zf(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!zf(e)&&(this.g.F=e,null!==(t=this.h)&&e in t&&e in(t=this.h)&&delete t[e]),this.j=new Du(this)}function o7(t){LR.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function a7(){FR.call(this),this.status=1}function Du(t){this.g=t}function Ei(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function YR(t,e,n){n||(n=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;var s=t.g[3],o=(e=t.g[0])+(s^(n=t.g[1])&((i=t.g[2])^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=(n=(i=(s=(e=n+(o<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=e+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^e&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(e^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(e^i&(s^e))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=e+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=e+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(e^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(e^n&(s^e))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^e&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=e+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=e+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(e^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^e^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^e)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=e+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=e+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(e^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(e=n+((o=e+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(e^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+s&4294967295}function Ze(t,e){this.h=e;for(var n=[],r=!0,i=t.length-1;0<=i;i--){var s=0|t[i];r&&s==e||(n[i]=s,r=!1)}this.g=n}(W=Ut.prototype).Oa=function(t){this.M=t},W.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():VR.g(),this.C=function Iq(t){return t.h||(t.h=t.i())}(this.u?this.u:VR),this.g.onreadystatechange=Wn(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(s){return void $q(this,s)}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const s of r.keys())n.set(s,r.get(s))}r=Array.from(n.keys()).find(s=>"content-type"==s.toLowerCase()),i=me.FormData&&t instanceof me.FormData,!(0<=QW(uDe,e))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{zq(this),0<this.B&&((this.L=function dDe(t){return bu&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Wn(this.ua,this)):this.A=PR(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(s){$q(this,s)}},W.ua=function(){typeof hR<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ln(this,"timeout"),this.abort(8))},W.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Ln(this,"complete"),Ln(this,"abort"),jv(this))},W.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jv(this,!0)),Ut.$.N.call(this)},W.La=function(){this.s||(this.G||this.v||this.l?Gq(this):this.kb())},W.kb=function(){Gq(this)},W.isActive=function(){return!!this.g},W.da=function(){try{return 2<es(this)?this.g.status:-1}catch{return-1}},W.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},W.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),cDe(e)}},W.Ia=function(){return this.m},W.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(W=Kq.prototype).ra=8,W.H=1,W.Na=function(t){if(this.m)if(this.m=null,1==this.H){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new ep(this,this.l,t);let s=this.s;if(this.U&&(s?(s=nq(s),iq(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){var r=this.j[n];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=n;break e}if(4096===e||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=Xq(this,i,e),mt(n=Qs(this.I),"RID",t),mt(n,"CVER",22),this.F&&mt(n,"X-HTTP-Session-Id",this.F),up(this,n),s&&(this.O?e="headers="+encodeURIComponent(String(qq(s)))+"&"+e:this.o&&zR(n,this.o,s)),HR(this.i,i),this.bb&&mt(n,"TYPE","init"),this.P?(mt(n,"$req",e),mt(n,"SID","null"),i.aa=!0,BR(i,n,null)):BR(i,n,e),this.H=2}}else 3==this.H&&(t?Qq(this,t):0==this.j.length||Lq(this.i)||Qq(this))},W.Ma=function(){if(this.u=null,Zq(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=Jf(Wn(this.jb,this),t)}},W.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,fr(10),$v(this),Zq(this))},W.ib=function(){null!=this.v&&(this.v=null,$v(this),qR(this),fr(19))},W.pb=function(t){t?(this.l.info("Successfully pinged google.com"),fr(2)):(this.l.info("Failed to ping google.com"),fr(1))},W.isActive=function(){return!!this.h&&this.h.isActive(this)},(W=s7.prototype).Ba=function(){},W.Aa=function(){},W.za=function(){},W.ya=function(){},W.isActive=function(){return!0},W.Va=function(){},zv.prototype.g=function(t,e){return new Hr(t,e)},yn(Hr,vn),Hr.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;fr(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=r7(t,null,t.Y),Hv(t)},Hr.prototype.close=function(){WR(this.g)},Hr.prototype.u=function(t){var e=this.g;if("string"==typeof t){var n={};n.__data__=t,t=n}else this.v&&((n={}).__data__=NR(t),t=n);e.j.push(new class{constructor(t,e){this.g=t,this.map=e}}(e.fb++,t)),3==e.H&&Hv(e)},Hr.prototype.N=function(){this.g.h=null,delete this.j,WR(this.g),delete this.g,Hr.$.N.call(this)},yn(o7,LR),yn(a7,FR),yn(Du,s7),Du.prototype.Ba=function(){Ln(this.g,"a")},Du.prototype.Aa=function(t){Ln(this.g,new o7(t))},Du.prototype.za=function(t){Ln(this.g,new a7)},Du.prototype.ya=function(){Ln(this.g,"b")},yn(Ei,function pDe(){this.blockSize=-1}),Ei.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},Ei.prototype.j=function(t,e){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=this.m,i=this.h,s=0;s<e;){if(0==i)for(;s<=n;)YR(this,t,s),s+=this.blockSize;if("string"==typeof t){for(;s<e;)if(r[i++]=t.charCodeAt(s++),i==this.blockSize){YR(this,r),i=0;break}}else for(;s<e;)if(r[i++]=t[s++],i==this.blockSize){YR(this,r),i=0;break}}this.h=i,this.i+=e},Ei.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=255&n,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};var gDe={};function QR(t){return-128<=t&&128>t?function b0e(t,e){var n=gDe;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,function(e){return new Ze([0|e],0>e?-1:0)}):new Ze([0|t],0>t?-1:0)}function ts(t){if(isNaN(t)||!isFinite(t))return Su;if(0>t)return Fn(ts(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=XR;return new Ze(e,0)}var XR=4294967296,Su=QR(0),JR=QR(1),l7=QR(16777216);function Xs(t){if(0!=t.h)return!1;for(var e=0;e<t.g.length;e++)if(0!=t.g[e])return!1;return!0}function ai(t){return-1==t.h}function Fn(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new Ze(n,~t.h).add(JR)}function Wv(t,e){return t.add(Fn(e))}function qv(t,e){for(;(65535&t[e])!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function dp(t,e){this.g=t,this.h=e}function Kv(t,e){if(Xs(e))throw Error("division by zero");if(Xs(t))return new dp(Su,Su);if(ai(t))return e=Kv(Fn(t),e),new dp(Fn(e.g),Fn(e.h));if(ai(e))return e=Kv(t,Fn(e)),new dp(Fn(e.g),e.h);if(30<t.g.length){if(ai(t)||ai(e))throw Error("slowDivide_ only works with positive integers.");for(var n=JR,r=e;0>=r.X(t);)n=u7(n),r=u7(r);var i=Au(n,1),s=Au(r,1);for(r=Au(r,2),n=Au(n,2);!Xs(r);){var o=s.add(r);0>=o.X(t)&&(i=i.add(n),s=o),r=Au(r,1),n=Au(n,1)}return e=Wv(t,i.R(e)),new dp(i,e)}for(i=Su;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=ts(n)).R(e);ai(o)||0<o.X(t);)o=(s=ts(n-=r)).R(e);Xs(s)&&(s=JR),i=i.add(s),t=Wv(t,o)}return new dp(i,t)}function u7(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new Ze(n,t.h)}function Au(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,i=[],s=0;s<r;s++)i[s]=0<e?t.D(s+n)>>>e|t.D(s+n+1)<<32-e:t.D(s+n);return new Ze(i,t.h)}(W=Ze.prototype).ea=function(){if(ai(this))return-Fn(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:XR+r)*e,e*=XR}return t},W.toString=function(t){if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if(Xs(this))return"0";if(ai(this))return"-"+Fn(this).toString(t);for(var e=ts(Math.pow(t,6)),n=this,r="";;){var i=Kv(n,e).g,s=((0<(n=Wv(n,i.R(e))).g.length?n.g[0]:n.h)>>>0).toString(t);if(Xs(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},W.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h},W.X=function(t){return ai(t=Wv(this,t))?-1:Xs(t)?0:1},W.abs=function(){return ai(this)?Fn(this):this},W.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,i=0;i<=e;i++){var s=r+(65535&this.D(i))+(65535&t.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);r=o>>>16,n[i]=(o&=65535)<<16|(s&=65535)}return new Ze(n,-2147483648&n[n.length-1]?-1:0)},W.R=function(t){if(Xs(this)||Xs(t))return Su;if(ai(this))return ai(t)?Fn(this).R(Fn(t)):Fn(Fn(this).R(t));if(ai(t))return Fn(this.R(Fn(t)));if(0>this.X(l7)&&0>t.X(l7))return ts(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<t.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=t.D(i)>>>16,c=65535&t.D(i);n[2*r+2*i]+=o*c,qv(n,2*r+2*i),n[2*r+2*i+1]+=s*c,qv(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,qv(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,qv(n,2*r+2*i+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new Ze(n,0)},W.gb=function(t){return Kv(this,t).h},W.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new Ze(n,this.h&t.h)},W.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new Ze(n,this.h|t.h)},W.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new Ze(n,this.h^t.h)},zv.prototype.createWebChannel=zv.prototype.g,Hr.prototype.send=Hr.prototype.u,Hr.prototype.open=Hr.prototype.m,Hr.prototype.close=Hr.prototype.close,Rv.NO_ERROR=0,Rv.TIMEOUT=8,Rv.HTTP_ERROR=6,wq.COMPLETE="complete",Eq.EventType=Zf,Zf.OPEN="a",Zf.CLOSE="b",Zf.ERROR="c",Zf.MESSAGE="d",vn.prototype.listen=vn.prototype.O,Ut.prototype.listenOnce=Ut.prototype.P,Ut.prototype.getLastError=Ut.prototype.Sa,Ut.prototype.getLastErrorCode=Ut.prototype.Ia,Ut.prototype.getStatus=Ut.prototype.da,Ut.prototype.getResponseJson=Ut.prototype.Wa,Ut.prototype.getResponseText=Ut.prototype.ja,Ut.prototype.send=Ut.prototype.ha,Ut.prototype.setWithCredentials=Ut.prototype.Oa,Ei.prototype.digest=Ei.prototype.l,Ei.prototype.reset=Ei.prototype.reset,Ei.prototype.update=Ei.prototype.j,Ze.prototype.add=Ze.prototype.add,Ze.prototype.multiply=Ze.prototype.R,Ze.prototype.modulo=Ze.prototype.gb,Ze.prototype.compare=Ze.prototype.X,Ze.prototype.toNumber=Ze.prototype.ea,Ze.prototype.toString=Ze.prototype.toString,Ze.prototype.getBits=Ze.prototype.D,Ze.fromNumber=ts,Ze.fromString=function c7(t,e){if(0==t.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==t.charAt(0))return Fn(c7(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=ts(Math.pow(e,8)),r=Su,i=0;i<t.length;i+=8){var s=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+s),e);8>s?(s=ts(Math.pow(e,s)),r=r.R(s).add(ts(o))):r=(r=r.R(n)).add(ts(o))}return r},Ii.createWebChannelTransport=function(){return new zv},Ii.getStatEventTarget=function(){return Nv()},Ii.ErrorCode=Rv,Ii.EventType=wq,Ii.Event=lc,Ii.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Ii.FetchXmlHttpFactory=op,Ii.WebChannel=Eq,Ii.XhrIo=Ut,Ii.Md5=Ei;var mDe=Ii.Integer=Ze;const d7="@firebase/firestore";class wn{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wn.UNAUTHENTICATED=new wn(null),wn.GOOGLE_CREDENTIALS=new wn("google-credentials-uid"),wn.FIRST_PARTY=new wn("first-party-uid"),wn.MOCK_USER=new wn("mock-user");let hp="9.23.0";const Go=new ks("@firebase/firestore");function L(t,...e){if(Go.logLevel<=Oe.DEBUG){const n=e.map(ek);Go.debug(`Firestore (${hp}): ${t}`,...n)}}function zt(t,...e){if(Go.logLevel<=Oe.ERROR){const n=e.map(ek);Go.error(`Firestore (${hp}): ${t}`,...n)}}function ek(t){if("string"==typeof t)return t;try{return JSON.stringify(t)}catch{return t}}function Q(t="Unexpected state"){const e=`FIRESTORE (${hp}) INTERNAL ASSERTION FAILED: `+t;throw zt(e),new Error(e)}function te(t,e){t||Q()}const S={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class P extends Mn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}class h7{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class _De{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(wn.UNAUTHENTICATED))}shutdown(){}}class yDe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class vDe{constructor(e){this.t=e,this.currentUser=wn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){var r=this;let i=this.i;const s=l=>this.i!==i?(i=this.i,n(l)):Promise.resolve();let o=new cn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new cn,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const l=o;e.enqueueRetryable(v(function*(){yield l.promise,yield s(r.currentUser)}))},c=l=>{L("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),a()};this.t.onInit(l=>c(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?c(l):(L("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new cn)}},0),a()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(L("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(te("string"==typeof r.accessToken),new h7(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return te(null===e||"string"==typeof e),new wn(e)}}class wDe{constructor(e,n,r){this.h=e,this.l=n,this.m=r,this.type="FirstParty",this.user=wn.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class IDe{constructor(e,n,r){this.h=e,this.l=n,this.m=r}getToken(){return Promise.resolve(new wDe(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(wn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class f7{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class EDe{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const r=s=>{null!=s.error&&L("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,L("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{L("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):L("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(te("string"==typeof n.token),this.T=n.token,new f7(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function bDe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}class p7{static A(){const n=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=bDe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function fe(t,e){return t<e?-1:t>e?1:0}class Yv{constructor(e,n,r){void 0===n?n=0:n>e.length&&Q(),void 0===r?r=e.length-n:r>e.length-n&&Q(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return 0===Yv.comparator(this,e)}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Yv?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Le extends Yv{construct(e,n,r){return new Le(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new P(S.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new Le(n)}static emptyPath(){return new Le([])}}class ${constructor(e){this.path=e}static fromPath(e){return new $(Le.fromString(e))}static fromName(e){return new $(Le.fromString(e).popFirst(5))}static empty(){return new $(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Le.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new $(new Le(e.slice()))}}function Wo(t){return"IndexedDbTransactionError"===t.name}class ht{constructor(e,n){this.comparator=e,this.root=n||Vn.EMPTY}insert(e,n){return new ht(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Vn.BLACK,null,null))}remove(e){return new ht(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Vn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ew(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ew(this.root,e,this.comparator,!1)}getReverseIterator(){return new ew(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ew(this.root,e,this.comparator,!0)}}class ew{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Vn{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??Vn.RED,this.left=i??Vn.EMPTY,this.right=s??Vn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new Vn(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):0===s?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Vn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return Vn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Vn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Vn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Q();const e=this.left.check();if(e!==this.right.check())throw Q();return e+(this.isRed()?0:1)}}Vn.EMPTY=null,Vn.RED=!0,Vn.BLACK=!1,Vn.EMPTY=new class{constructor(){this.size=0}get key(){throw Q()}get value(){throw Q()}get color(){throw Q()}get left(){throw Q()}get right(){throw Q()}copy(t,e,n,r,i){return this}insert(t,e,n){return new Vn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class _t{constructor(e){this.comparator=e,this.data=new ht(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=void 0!==n?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new x7(this.data.getIterator())}getIteratorFrom(e){return new x7(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof _t)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new _t(this.comparator);return n.data=e,n}}class x7{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class M7 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ln{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new M7("Invalid base64 string: "+i):i}}(e);return new ln(n)}static fromUint8Array(e){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(e);return new ln(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return fe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function Bt(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}ln.EMPTY_BYTE_STRING=new ln("");class QDe{constructor(e,n,r,i,s,o,a,c,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=l}}class gc{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new gc("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof gc&&e.projectId===this.projectId&&e.database===this.database}}var tn,Fe;new ht($.comparator),new ht($.comparator),new ht($.comparator),new _t($.comparator),new _t(fe),(Fe=tn||(tn={}))[Fe.OK=0]="OK",Fe[Fe.CANCELLED=1]="CANCELLED",Fe[Fe.UNKNOWN=2]="UNKNOWN",Fe[Fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Fe[Fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Fe[Fe.NOT_FOUND=5]="NOT_FOUND",Fe[Fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Fe[Fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Fe[Fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Fe[Fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Fe[Fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Fe[Fe.ABORTED=10]="ABORTED",Fe[Fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Fe[Fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Fe[Fe.INTERNAL=13]="INTERNAL",Fe[Fe.UNAVAILABLE=14]="UNAVAILABLE",Fe[Fe.DATA_LOSS=15]="DATA_LOSS",new mDe([4294967295,4294967295],0);class Tc{constructor(){}_e(e,n){this.me(e,n),n.ge()}me(e,n){if("nullValue"in e)this.ye(n,5);else if("booleanValue"in e)this.ye(n,10),n.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(n,15),n.pe(Bt(e.integerValue));else if("doubleValue"in e){const r=Bt(e.doubleValue);isNaN(r)?this.ye(n,13):(this.ye(n,15),function mp(t){return 0===t&&1/t==-1/0}(r)?n.pe(0):n.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(n,20),"string"==typeof r?n.Ie(r):(n.Ie(`${r.seconds||""}`),n.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,n),this.Ee(n);else if("bytesValue"in e)this.ye(n,30),n.Ae(function Js(t){return"string"==typeof t?ln.fromBase64String(t):ln.fromUint8Array(t)}(e.bytesValue)),this.Ee(n);else if("referenceValue"in e)this.ve(e.referenceValue,n);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(n,45),n.pe(r.latitude||0),n.pe(r.longitude||0)}else"mapValue"in e?function P7(t){return"__max__"===(((t.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.ye(n,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,n),this.Ee(n)):"arrayValue"in e?(this.Pe(e.arrayValue,n),this.Ee(n)):Q()}Te(e,n){this.ye(n,25),this.be(e,n)}be(e,n){n.Ie(e)}Re(e,n){const r=e.fields||{};this.ye(n,55);for(const i of Object.keys(r))this.Te(i,n),this.me(r[i],n)}Pe(e,n){const r=e.values||[];this.ye(n,50);for(const i of r)this.me(i,n)}ve(e,n){this.ye(n,37),$.fromName(e).path.forEach(r=>{this.ye(n,60),this.be(r,n)})}ye(e,n){e.pe(n)}Ee(e){e.pe(2)}}Tc.Ve=new Tc,new Uint8Array(0);class Yn{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Yn(e,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Aw(){return typeof document<"u"?document:null}Yn.DEFAULT_COLLECTION_PERCENTILE=10,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Yn.DEFAULT=new Yn(41943040,Yn.DEFAULT_COLLECTION_PERCENTILE,Yn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Yn.DISABLED=new Yn(-1,0,0);class Yk{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ii=e,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&L("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class g1{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new cn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new g1(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new P(S.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class axe{constructor(e,n,r,i){var s=this;this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=wn.UNAUTHENTICATED,this.clientId=p7.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var o=v(function*(a){L("FirestoreClient","Received user=",a.uid),yield s.authCredentialListener(a),s.user=a});return function(a){return o.apply(this,arguments)}}()),this.appCheckCredentials.start(r,o=>(L("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}getConfiguration(){var e=this;return v(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new P(S.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const n=new cn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(v(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),n.resolve()}catch(r){const i=function Ku(t,e){if(zt("AsyncQueue",`${e}: ${t}`),Wo(t))return new P(S.UNAVAILABLE,`${e}: ${t}`);throw t}(r,"Failed to shutdown persistence");n.reject(i)}})),n.promise}}function Q9(t){const e={};return void 0!==t.timeoutSeconds&&(e.timeoutSeconds=t.timeoutSeconds),e}const X9=new Map;function Re(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new P(S.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=function Lw(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";{const e=(n=t).constructor?n.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var n;return"function"==typeof t?"a function":Q()}(t);throw new P(S.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}class t8{constructor(e){var n,r;if(void 0===e.host){if(void 0!==e.ssl)throw new P(S.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(n=e.ssl)||void 0===n||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new P(S.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function mxe(t,e,n,r){if(!0===e&&!0===r)throw new P(S.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Q9(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new P(S.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new P(S.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new P(S.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class zp{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new t8({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new P(S.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new P(S.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new t8(e),void 0!==e.credentials&&(this._authCredentials=function(n){if(!n)return new _De;switch(n.type){case"firstParty":return new IDe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new P(S.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=X9.get(e);n&&(L("ComponentProvider","Removing Datastore"),X9.delete(e),n.terminate())}(this),Promise.resolve()}}class vxe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Yk(this,"async_queue_retry"),this.Xc=()=>{const n=Aw();n&&L("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Aw();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Aw();n&&"function"==typeof n.removeEventListener&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new cn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return v(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(n){if(!Wo(n))throw n;L("AsyncQueue","Operation failed with retryable error: "+n)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,zt("INTERNAL UNHANDLED ERROR: ",function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+"\n"+s.stack),o}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(e,n,r){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=g1.createAndSchedule(this,e,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&Q()}verifyOperationInProgress(){}sa(){var e=this;return v(function*(){let n;do{n=e.Gc,yield n}while(n!==e.Gc)})()}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),"all"!==e&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}class vt extends zp{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new vxe,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||function r8(t){var e,n,r;const i=t._freezeSettings(),s=(a=(null===(e=t._app)||void 0===e?void 0:e.options.appId)||"",new QDe(t._databaseId,a,t._persistenceKey,(l=i).host,l.ssl,l.experimentalForceLongPolling,l.experimentalAutoDetectLongPolling,Q9(l.experimentalLongPollingOptions),l.useFetchStreams));var a,l;t._firestoreClient=new axe(t._authCredentials,t._appCheckCredentials,t._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}(this),this._firestoreClient.terminate()}}function Ixe(t,e){const r="string"==typeof t?t:e||"(default)",i=Sf("object"==typeof t?t:By(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=xj("firestore");s&&function _xe(t,e,n,r={}){var i;const s=(t=Re(t,zp))._getSettings(),o=`${e}:${n}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&function ns(t,...e){if(Go.logLevel<=Oe.WARN){const n=e.map(ek);Go.warn(`Firestore (${hp}): ${t}`,...n)}}("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=wn.MOCK_USER;else{a=Mj(r.mockUserToken,null===(i=t._app)||void 0===i?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new P(S.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new wn(l)}t._authCredentials=new yDe(new h7(a,c))}}(i,...s)}return i}!function(t,e=!0){hp=Ja,Xa(new Dt("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new vt(new vDe(n.getProvider("auth-internal")),new EDe(n.getProvider("app-check-internal")),function(a,c){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new P(S.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gc(a.options.projectId,c)}(s,r),s);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),zn(d7,"3.13.0",t),zn(d7,"3.13.0","esm2017")}();class uP{constructor(e){return e}}const T8="firestore",dP=new V("angularfire2.firestore-instances");function Kxe(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new uP(r)}}const Yxe={provide:class Wxe{constructor(){return Ky(T8)}},deps:[[new Pt,dP]]},Qxe={provide:uP,useFactory:function qxe(t,e){const n=qy(T8,t,e);return n&&new uP(n)},deps:[[new Pt,dP],sc]};let Xxe=(()=>{class t{constructor(){zn("angularfire",Mf.full,"fst")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Rt({providers:[Qxe,Yxe]}),t})();function Jxe(t,...e){return{ngModule:Xxe,providers:[{provide:dP,useFactory:Kxe(t),multi:!0,deps:[Ne,gn,Yy,Xy,[new Pt,uR],[new Pt,sv],...e]}]}}const Zxe=Qy(Ixe,!0),C8="@firebase/database";let hP="";class tMe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){null==n?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Nn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return null==n?null:Rh(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class nMe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){null==n?delete this.cache_[e]:this.cache_[e]=n}get(e){return Ns(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const S8=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new tMe(e)}}catch{}return new nMe},Nc=S8("localStorage"),fP=S8("sessionStorage"),id=new ks("@firebase/database"),A8=function(){let t=1;return function(){return t++}}(),x8=function(t){const e=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,G(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(s<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new Uce;n.update(e);const r=n.digest();return v_.encodeByteArray(r)},Jp=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Jp.apply(null,r):e+="object"==typeof r?Nn(r):r,e+=" "}return e};let Rc=null,M8=!0;const bn=function(...t){if(!0===M8&&(M8=!1,null===Rc&&!0===fP.get("logging_enabled")&&function(t,e){G(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(id.logLevel=Oe.VERBOSE,Rc=id.log.bind(id),e&&fP.set("logging_enabled",!0)):"function"==typeof t?Rc=t:(Rc=null,fP.remove("logging_enabled"))}(!0)),Rc){const e=Jp.apply(null,t);Rc(e)}},Zp=function(t){return function(...e){bn(t,...e)}},pP=function(...t){const e="FIREBASE INTERNAL ERROR: "+Jp(...t);id.error(e)},cs=function(...t){const e=`FIREBASE FATAL ERROR: ${Jp(...t)}`;throw id.error(e),new Error(e)},Jn=function(...t){const e="FIREBASE WARNING: "+Jp(...t);id.warn(e)},Ww=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},oa="[MIN_NAME]",io="[MAX_NAME]",kc=function(t,e){if(t===e)return 0;if(t===oa||e===io)return-1;if(e===oa||t===io)return 1;{const n=P8(t),r=P8(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1}},sMe=function(t,e){return t===e?0:t<e?-1:1},eg=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Nn(e))},gP=function(t){if("object"!=typeof t||null===t)return Nn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)0!==r&&(n+=","),n+=Nn(e[r]),n+=":",n+=gP(t[e[r]]);return n+="}",n},R8=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)r.push(t.substring(i,i+e>n?n:i+e));return r};function Tn(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const k8=function(t){G(!Ww(t),"Invalid JSON number");const r=1023;let i,s,o,a,c;0===t?(s=0,o=0,i=1/t==-1/0?1:0):(i=t<0,(t=Math.abs(t))>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,52-a)-Math.pow(2,52))):(s=0,o=Math.round(t/Math.pow(2,-1074))));const l=[];for(c=52;c;c-=1)l.push(o%2?1:0),o=Math.floor(o/2);for(c=11;c;c-=1)l.push(s%2?1:0),s=Math.floor(s/2);l.push(i?1:0),l.reverse();const u=l.join("");let d="";for(c=0;c<64;c+=8){let f=parseInt(u.substr(c,8),2).toString(16);1===f.length&&(f="0"+f),d+=f}return d.toLowerCase()},lMe=new RegExp("^-?(0*)\\d{1,10}$"),P8=function(t){if(lMe.test(t)){const e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},sd=function(t){try{t()}catch(e){setTimeout(()=>{throw Jn("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},tg=function(t,e){const n=setTimeout(t,e);return"number"==typeof n&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):"object"==typeof n&&n.unref&&n.unref(),n};class fMe{constructor(e,n){this.appName_=e,this.appCheckProvider=n,this.appCheck=n?.getImmediate({optional:!0}),this.appCheck||n?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;null===(n=this.appCheckProvider)||void 0===n||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Jn(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class pMe{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&"auth/token-not-initialized"===n.code?(bn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Jn(e)}}let ng=(()=>{class t{constructor(n){this.accessToken=n}getToken(n){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(n){n(this.accessToken)}removeTokenChangeListener(n){}notifyForInvalidToken(){}}return t.OWNER="owner",t})();const U8=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,$8="websocket",H8="long_polling";class _P{constructor(e,n,r,i,s=!1,o="",a=!1,c=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Nc.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Nc.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function G8(t,e,n){let r;if(G("string"==typeof e,"typeof type must == string"),G("object"==typeof n,"typeof params must == object"),e===$8)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else{if(e!==H8)throw new Error("Unknown connection type: "+e);r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?"}(function gMe(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams})(t)&&(n.ns=t.namespace);const i=[];return Tn(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}class mMe{constructor(){this.counters_={}}incrementCounter(e,n=1){Ns(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return Sce(this.counters_)}}const yP={},vP={};function wP(t){const e=t.toString();return yP[e]||(yP[e]=new mMe),yP[e]}class yMe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&sd(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class aa{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Zp(e),this.stats_=wP(n),this.urlFn=c=>(this.appCheckToken&&(c.ac=this.appCheckToken),G8(n,H8,c))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new yMe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{let e=!1;const n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new IP((...s)=>{const[o,a,c,l,u]=s;if(this.incrementIncomingBytes_(s),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===o)this.id=a,this.password=c;else{if("close"!==o)throw new Error("Unrecognized command received: "+o);a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_()}},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&U8.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){aa.forceAllow_=!0}static forceDisallow(){aa.forceDisallow_=!0}static isAvailable(){return!(!aa.forceAllow_&&(aa.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=Nn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=Sj(n),i=R8(r,1840);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=Nn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class IP{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=A8(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=IP.createIFrame_();let s="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){bn("frame writing exception"),a.stack&&bn(a.stack),bn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||bn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const o=this.pendingSegs.shift();r=r+"&seg"+i+"="+o.seg+"&ts"+i+"="+o.ts+"&d"+i+"="+o.d,i++}return n+=r,this.addLongPollTag_(n,this.currentSerial),!0}return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{bn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let Kw=null;typeof MozWebSocket<"u"?Kw=MozWebSocket:typeof WebSocket<"u"&&(Kw=WebSocket);let od=(()=>{class t{constructor(n,r,i,s,o,a,c){this.connId=n,this.applicationId=i,this.appCheckToken=s,this.authToken=o,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Zp(this.connId),this.stats_=wP(r),this.connURL=t.connectionURL_(r,a,c,s,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(n,r,i,s,o){const a={v:"5"};return typeof location<"u"&&location.hostname&&U8.test(location.hostname)&&(a.r="f"),r&&(a.s=r),i&&(a.ls=i),s&&(a.ac=s),o&&(a.p=o),G8(n,$8,a)}open(n,r){this.onDisconnect=r,this.onMessage=n,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Nc.set("previous_websocket_failure",!0);try{let i;0,this.mySock=new Kw(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const s=i.message||i.data;return s&&this.log_(s),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const s=i.message||i.data;s&&this.log_(s),this.onClosed_()}}start(){}static forceDisallow(){t.forceDisallow_=!0}static isAvailable(){let n=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(n=!0)}return!n&&null!==Kw&&!t.forceDisallow_}static previouslyFailed(){return Nc.isInMemoryStorage||!0===Nc.get("previous_websocket_failure")}markConnectionHealthy(){Nc.remove("previous_websocket_failure")}appendFrame_(n){if(this.frames.push(n),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=Rh(r);this.onMessage(i)}}handleNewFrameCount_(n){this.totalFrames=n,this.frames=[]}extractFrameCount_(n){if(G(null===this.frames,"We already have a frame buffer"),n.length<=6){const r=Number(n);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),n}handleIncomingFrame(n){if(null===this.mySock)return;const r=n.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(n){this.resetKeepAlive();const r=Nn(n);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=R8(r,16384);i.length>1&&this.sendString_(String(i.length));for(let s=0;s<i.length;s++)this.sendString_(i[s])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(n){try{this.mySock.send(n)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t})(),X8=(()=>{class t{constructor(n){this.initTransports_(n)}static get ALL_TRANSPORTS(){return[aa,od]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(n){const r=od&&od.isAvailable();let i=r&&!od.previouslyFailed();if(n.webSocketOnly&&(r||Jn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[od];else{const s=this.transports_=[];for(const o of t.ALL_TRANSPORTS)o&&o.isAvailable()&&s.push(o);t.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return t.globalTransportInitialized_=!1,t})();class iK{constructor(e,n,r,i,s,o,a,c,l,u){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=c,this.onKill_=l,this.lastSessionId=u,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Zp("c:"+this.id+":"),this.transportManager_=new X8(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=tg(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const n=e.t;"a"===n?this.upgradeIfSecondaryHealthy_():"r"===n?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===n&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=eg("t",e),r=eg("d",e);if("c"===n)this.onSecondaryControl_(r);else{if("d"!==n)throw new Error("Unknown protocol layer: "+n);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=eg("t",e),r=eg("d",e);"c"===n?this.onControl_(r):"d"===n&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=eg("t",e);if("d"in e){const r=e.d;if("h"===n){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===n){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===n?this.onConnectionShutdown_(r):"r"===n?this.onReset_(r):"e"===n?pP("Server Error: "+r):"o"===n?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):pP("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),"5"!==r&&Jn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),tg(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):tg(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Nc.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class sK{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}class oK{constructor(e){this.allowedEvents_=e,this.listeners_={},G(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context))return void i.splice(s,1)}validateEventType_(e){G(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}class Yw extends oK{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!b_()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new Yw}getInitialEvent(e){return G("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class Ke{constructor(e,n){if(void 0===n){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)""!==this.pieces_[n]&&(e+="/"+this.pieces_[n]);return e||"/"}}function $e(){return new Ke("")}function Te(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ca(t){return t.pieces_.length-t.pieceNum_}function at(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new Ke(t.pieces_,e)}function bP(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function rg(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function lK(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new Ke(e,0)}function Tt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof Ke)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new Ke(n,0)}function Ce(t){return t.pieceNum_>=t.pieces_.length}function gr(t,e){const n=Te(t),r=Te(e);if(null===n)return e;if(n===r)return gr(at(t),at(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function TP(t,e){if(ca(t)!==ca(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function ci(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ca(t)>ca(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class jMe{constructor(e,n){this.errorPrefix_=n,this.parts_=rg(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=x_(this.parts_[r]);uK(this)}}function uK(t){if(t.byteLength_>768)throw new Error(t.errorPrefix_+"has a key path longer than 768 bytes ("+t.byteLength_+").");if(t.parts_.length>32)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+Pc(t))}function Pc(t){return 0===t.parts_.length?"":"in property '"+t.parts_.join(".")+"'"}class CP extends oK{constructor(){let e,n;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new CP}getInitialEvent(e){return G("visible"===e,"Unknown event type: "+e),[this.visible_]}}const ig=1e3;let Xw,Oc=(()=>{class t extends sK{constructor(n,r,i,s,o,a,c,l){if(super(),this.repoInfo_=n,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=s,this.onServerInfoUpdate_=o,this.authTokenProvider_=a,this.appCheckTokenProvider_=c,this.authOverride_=l,this.id=t.nextPersistentConnectionId_++,this.log_=Zp("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=ig,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");CP.getInstance().on("visible",this.onVisible_,this),-1===n.host.indexOf("fblocal")&&Yw.getInstance().on("online",this.onOnline_,this)}sendRequest(n,r,i){const s=++this.requestNumber_,o={r:s,a:n,b:r};this.log_(Nn(o)),G(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(o),i&&(this.requestCBHash_[s]=i)}get(n){this.initConnection_();const r=new zl,s={action:"g",request:{p:n._path.toString(),q:n._queryObject},onComplete:a=>{const c=a.d;"ok"===a.s?r.resolve(c):r.reject(c)}};return this.outstandingGets_.push(s),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(n,r,i,s){this.initConnection_();const o=n._queryIdentifier,a=n._path.toString();this.log_("Listen called for "+a+" "+o),this.listens.has(a)||this.listens.set(a,new Map),G(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"listen() called for non-default but complete query"),G(!this.listens.get(a).has(o),"listen() called twice for same path/queryId.");const c={onComplete:s,hashFn:r,query:n,tag:i};this.listens.get(a).set(o,c),this.connected_&&this.sendListen_(c)}sendGet_(n){const r=this.outstandingGets_[n];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[n],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(n){const r=n.query,i=r._path.toString(),s=r._queryIdentifier;this.log_("Listen on "+i+" for "+s);const o={p:i};n.tag&&(o.q=r._queryObject,o.t=n.tag),o.h=n.hashFn(),this.sendRequest("q",o,c=>{const l=c.d,u=c.s;t.warnOnListenWarnings_(l,r),(this.listens.get(i)&&this.listens.get(i).get(s))===n&&(this.log_("listen response",c),"ok"!==u&&this.removeListen_(i,s),n.onComplete&&n.onComplete(u,l))})}static warnOnListenWarnings_(n,r){if(n&&"object"==typeof n&&Ns(n,"w")){const i=ql(n,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const s='".indexOn": "'+r._queryParams.getIndex().toString()+'"',o=r._path.toString();Jn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${s} at ${o} to your security rules for better performance.`)}}}refreshAuthToken(n){this.authToken_=n,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(n)}reduceReconnectDelayIfAdminCredential_(n){(n&&40===n.length||function(t){const e=C_(t).claims;return"object"==typeof e&&!0===e.admin}(n))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(n){this.appCheckToken_=n,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const n=this.authToken_,r=function(t){const n=C_(t).claims;return!!n&&"object"==typeof n&&n.hasOwnProperty("iat")}(n)?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,s=>{const o=s.s,a=s.d||"error";this.authToken_===n&&("ok"===o?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(o,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},n=>{const r=n.s,i=n.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(n,r){const i=n._path.toString(),s=n._queryIdentifier;this.log_("Unlisten called for "+i+" "+s),G(n._queryParams.isDefault()||!n._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,s)&&this.connected_&&this.sendUnlisten_(i,s,n._queryObject,r)}sendUnlisten_(n,r,i,s){this.log_("Unlisten on "+n+" for "+r);const o={p:n};s&&(o.q=i,o.t=s),this.sendRequest("n",o)}onDisconnectPut(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"o",data:r,onComplete:i})}onDisconnectMerge(n,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",n,r,i):this.onDisconnectRequestQueue_.push({pathString:n,action:"om",data:r,onComplete:i})}onDisconnectCancel(n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",n,null,r):this.onDisconnectRequestQueue_.push({pathString:n,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(n,r,i,s){const o={p:r,d:i};this.log_("onDisconnect "+n,o),this.sendRequest(n,o,a=>{s&&setTimeout(()=>{s(a.s,a.d)},Math.floor(0))})}put(n,r,i,s){this.putInternal("p",n,r,i,s)}merge(n,r,i,s){this.putInternal("m",n,r,i,s)}putInternal(n,r,i,s,o){this.initConnection_();const a={p:r,d:i};void 0!==o&&(a.h=o),this.outstandingPuts_.push({action:n,request:a,onComplete:s}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(n){const r=this.outstandingPuts_[n].action,i=this.outstandingPuts_[n].request,s=this.outstandingPuts_[n].onComplete;this.outstandingPuts_[n].queued=this.connected_,this.sendRequest(r,i,o=>{this.log_(r+" response",o),delete this.outstandingPuts_[n],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),s&&s(o.s,o.d)})}reportStats(n){if(this.connected_){const r={c:n};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(n){if("r"in n){this.log_("from server: "+Nn(n));const r=n.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(n.b))}else{if("error"in n)throw"A server-side error has occurred: "+n.error;"a"in n&&this.onDataPush_(n.a,n.b)}}onDataPush_(n,r){this.log_("handleServerMessage",n,r),"d"===n?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===n?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===n?this.onListenRevoked_(r.p,r.q):"ac"===n?this.onAuthRevoked_(r.s,r.d):"apc"===n?this.onAppCheckRevoked_(r.s,r.d):"sd"===n?this.onSecurityDebugPacket_(r):pP("Unrecognized action received from server: "+Nn(n)+"\nAre you using the latest client?")}onReady_(n,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(n),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(n){G(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(n))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(n){n&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ig,this.realtime_||this.scheduleConnect_(0)),this.visible_=n}onOnline_(n){n?(this.log_("Browser went online."),this.reconnectDelay_=ig,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=ig),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const n=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-n);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var n=this;return v(function*(){if(n.shouldReconnect_()){n.log_("Making a connection attempt"),n.lastConnectionAttemptTime_=(new Date).getTime(),n.lastConnectionEstablishedTime_=null;const r=n.onDataMessage_.bind(n),i=n.onReady_.bind(n),s=n.onRealtimeDisconnect_.bind(n),o=n.id+":"+t.nextConnectionId_++,a=n.lastSessionId;let c=!1,l=null;const u=function(){l?l.close():(c=!0,s())};n.realtime_={close:u,sendRequest:function(g){G(l,"sendRequest call when we're not connected not allowed."),l.sendRequest(g)}};const f=n.forceTokenRefresh_;n.forceTokenRefresh_=!1;try{const[g,_]=yield Promise.all([n.authTokenProvider_.getToken(f),n.appCheckTokenProvider_.getToken(f)]);c?bn("getToken() completed but was canceled"):(bn("getToken() completed. Creating connection."),n.authToken_=g&&g.accessToken,n.appCheckToken_=_&&_.token,l=new iK(o,n.repoInfo_,n.applicationId_,n.appCheckToken_,n.authToken_,r,i,s,w=>{Jn(w+" ("+n.repoInfo_.toString()+")"),n.interrupt("server_kill")},a))}catch(g){n.log_("Failed to get token: "+g),c||(n.repoInfo_.nodeAdmin&&Jn(g),u())}}})()}interrupt(n){bn("Interrupting connection for reason: "+n),this.interruptReasons_[n]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(n){bn("Resuming connection for reason: "+n),delete this.interruptReasons_[n],D_(this.interruptReasons_)&&(this.reconnectDelay_=ig,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(n){const r=n-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let n=0;n<this.outstandingPuts_.length;n++){const r=this.outstandingPuts_[n];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[n],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(n,r){let i;i=r?r.map(o=>gP(o)).join("$"):"default";const s=this.removeListen_(n,i);s&&s.onComplete&&s.onComplete("permission_denied")}removeListen_(n,r){const i=new Ke(n).toString();let s;if(this.listens.has(i)){const o=this.listens.get(i);s=o.get(r),o.delete(r),0===o.size&&this.listens.delete(i)}else s=void 0;return s}onAuthRevoked_(n,r){bn("Auth token revoked: "+n+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===n||"permission_denied"===n)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(n,r){bn("App check token revoked: "+n+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===n||"permission_denied"===n)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(n){this.securityDebugCallback_?this.securityDebugCallback_(n):"msg"in n&&console.log("FIREBASE: "+n.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const n of this.listens.values())for(const r of n.values())this.sendListen_(r);for(let n=0;n<this.outstandingPuts_.length;n++)this.outstandingPuts_[n]&&this.sendPut_(n);for(;this.onDisconnectRequestQueue_.length;){const n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}for(let n=0;n<this.outstandingGets_.length;n++)this.outstandingGets_[n]&&this.sendGet_(n)}sendConnectStats_(){const n={};let r="js";n["sdk."+r+"."+hP.replace(/\./g,"-")]=1,b_()?n["framework.cordova"]=1:aC()&&(n["framework.reactnative"]=1),this.reportStats(n)}shouldReconnect_(){const n=Yw.getInstance().currentlyOnline();return D_(this.interruptReasons_)&&n}}return t.nextPersistentConnectionId_=0,t.nextConnectionId_=0,t})();class De{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new De(e,n)}}class Qw{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new De(oa,e),i=new De(oa,n);return 0!==this.compare(r,i)}minPost(){return De.MIN}}class fK extends Qw{static get __EMPTY_NODE(){return Xw}static set __EMPTY_NODE(e){Xw=e}compare(e,n){return kc(e.name,n.name)}isDefinedOn(e){throw Hl("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return De.MIN}maxPost(){return new De(io,Xw)}makePost(e,n){return G("string"==typeof e,"KeyIndex indexValue must always be a string."),new De(e,Xw)}toString(){return".key"}}const ls=new fK;class Jw{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,i&&(o*=-1),o<0)e=this.isReverse_?e.left:e.right;else{if(0===o){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let n,e=this.nodeStack_.pop();if(n=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let SP,Ti=(()=>{class t{constructor(n,r,i,s,o){this.key=n,this.value=r,this.color=i??t.RED,this.left=s??Pr.EMPTY_NODE,this.right=o??Pr.EMPTY_NODE}copy(n,r,i,s,o){return new t(n??this.key,r??this.value,i??this.color,s??this.left,o??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||!!n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,r,i){let s=this;const o=i(n,s.key);return s=o<0?s.copy(null,null,null,s.left.insert(n,r,i),null):0===o?s.copy(null,r,null,null,null):s.copy(null,null,null,null,s.right.insert(n,r,i)),s.fixUp_()}removeMin_(){if(this.left.isEmpty())return Pr.EMPTY_NODE;let n=this;return!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.removeMin_(),null),n.fixUp_()}remove(n,r){let i,s;if(i=this,r(n,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(n,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(n,i.key)){if(i.right.isEmpty())return Pr.EMPTY_NODE;s=i.right.min_(),i=i.copy(s.key,s.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(n,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let n=this;return n.right.isRed_()&&!n.left.isRed_()&&(n=n.rotateLeft_()),n.left.isRed_()&&n.left.left.isRed_()&&(n=n.rotateRight_()),n.left.isRed_()&&n.right.isRed_()&&(n=n.colorFlip_()),n}moveRedLeft_(){let n=this.colorFlip_();return n.right.left.isRed_()&&(n=n.copy(null,null,null,null,n.right.rotateRight_()),n=n.rotateLeft_(),n=n.colorFlip_()),n}moveRedRight_(){let n=this.colorFlip_();return n.left.left.isRed_()&&(n=n.rotateRight_(),n=n.colorFlip_()),n}rotateLeft_(){const n=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight_(){const n=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip_(){const n=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,r)}checkMaxDepth_(){const n=this.check_();return Math.pow(2,n)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const n=this.left.check_();if(n!==this.right.check_())throw new Error("Black depths differ");return n+(this.isRed_()?0:1)}}return t.RED=!0,t.BLACK=!1,t})();class Pr{constructor(e,n=Pr.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Pr(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Ti.BLACK,null,null))}remove(e){return new Pr(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ti.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),0===n){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}n<0?r=r.left:n>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Jw(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Jw(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Jw(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Jw(this.root_,null,this.comparator_,!0,e)}}function YMe(t,e){return kc(t.name,e.name)}function DP(t,e){return kc(t,e)}Pr.EMPTY_NODE=new class KMe{copy(e,n,r,i,s){return this}insert(e,n,r){return new Ti(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const pK=function(t){return"number"==typeof t?"number:"+k8(t):"string:"+t},gK=function(t){if(t.isLeafNode()){const e=t.val();G("string"==typeof e||"number"==typeof e||"object"==typeof e&&Ns(e,".sv"),"Priority must be a string or number.")}else G(t===SP||t.isEmpty(),"priority of unexpected type.");G(t===SP||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let mK,_K,yK,ad=(()=>{class t{constructor(n,r=t.__childrenNodeConstructor.EMPTY_NODE){this.value_=n,this.priorityNode_=r,this.lazyHash_=null,G(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),gK(this.priorityNode_)}static set __childrenNodeConstructor(n){mK=n}static get __childrenNodeConstructor(){return mK}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(n){return new t(this.value_,n)}getImmediateChild(n){return".priority"===n?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}getChild(n){return Ce(n)?this:".priority"===Te(n)?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(n,r){return null}updateImmediateChild(n,r){return".priority"===n?this.updatePriority(r):r.isEmpty()&&".priority"!==n?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(n,r).updatePriority(this.priorityNode_)}updateChild(n,r){const i=Te(n);return null===i?r:r.isEmpty()&&".priority"!==i?this:(G(".priority"!==i||1===ca(n),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(at(n),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(n,r){return!1}val(n){return n&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let n="";this.priorityNode_.isEmpty()||(n+="priority:"+pK(this.priorityNode_.val())+":");const r=typeof this.value_;n+=r+":",n+="number"===r?k8(this.value_):this.value_,this.lazyHash_=x8(n)}return this.lazyHash_}getValue(){return this.value_}compareTo(n){return n===t.__childrenNodeConstructor.EMPTY_NODE?1:n instanceof t.__childrenNodeConstructor?-1:(G(n.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(n))}compareToLeafNode_(n){const r=typeof n.value_,i=typeof this.value_,s=t.VALUE_TYPE_ORDER.indexOf(r),o=t.VALUE_TYPE_ORDER.indexOf(i);return G(s>=0,"Unknown leaf type: "+r),G(o>=0,"Unknown leaf type: "+i),s===o?"object"===i?0:this.value_<n.value_?-1:this.value_===n.value_?0:1:o-s}withIndex(){return this}isIndexed(){return!0}equals(n){return n===this||!!n.isLeafNode()&&(this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_))}}return t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t})();const ft=new class ZMe extends Qw{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return 0===s?kc(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return De.MIN}maxPost(){return new De(io,new ad("[PRIORITY-POST]",yK))}makePost(e,n){const r=_K(e);return new De(n,new ad("[PRIORITY-POST]",r))}toString(){return".priority"}},eNe=Math.log(2);class tNe{constructor(e){this.count=parseInt(Math.log(e+1)/eNe,10),this.current_=this.count-1;const i=(s=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Zw=function(t,e,n,r){t.sort(e);const i=function(c,l){const u=l-c;let d,f;if(0===u)return null;if(1===u)return d=t[c],f=n?n(d):d,new Ti(f,d.node,Ti.BLACK,null,null);{const g=parseInt(u/2,10)+c,_=i(c,g),w=i(g+1,l);return d=t[g],f=n?n(d):d,new Ti(f,d.node,Ti.BLACK,_,w)}},a=function(c){let l=null,u=null,d=t.length;const f=function(_,w){const I=d-_,T=d;d-=_;const E=i(I+1,T),N=t[I],H=n?n(N):N;g(new Ti(H,N.node,w,null,E))},g=function(_){l?(l.left=_,l=_):(u=_,l=_)};for(let _=0;_<c.count;++_){const w=c.nextBitIsOne(),I=Math.pow(2,c.count-(_+1));w?f(I,Ti.BLACK):(f(I,Ti.BLACK),f(I,Ti.RED))}return u}(new tNe(t.length));return new Pr(r||e,a)};let AP;const cd={};class so{constructor(e,n){this.indexes_=e,this.indexSet_=n}static get Default(){return G(cd&&ft,"ChildrenNode.ts has not been loaded"),AP=AP||new so({".priority":cd},{".priority":ft}),AP}get(e){const n=ql(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Pr?n:null}hasIndex(e){return Ns(this.indexSet_,e.toString())}addIndex(e,n){G(e!==ls,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(De.Wrap);let a,o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();a=i?Zw(r,e.getCompare()):cd;const c=e.toString(),l=Object.assign({},this.indexSet_);l[c]=e;const u=Object.assign({},this.indexes_);return u[c]=a,new so(u,l)}addToIndexes(e,n){const r=S_(this.indexes_,(i,s)=>{const o=ql(this.indexSet_,s);if(G(o,"Missing index implementation for "+s),i===cd){if(o.isDefinedOn(e.node)){const a=[],c=n.getIterator(De.Wrap);let l=c.getNext();for(;l;)l.name!==e.name&&a.push(l),l=c.getNext();return a.push(e),Zw(a,o.getCompare())}return cd}{const a=n.get(e.name);let c=i;return a&&(c=c.remove(new De(e.name,a))),c.insert(e,e.node)}});return new so(r,this.indexSet_)}removeFromIndexes(e,n){const r=S_(this.indexes_,i=>{if(i===cd)return i;{const s=n.get(e.name);return s?i.remove(new De(e.name,s)):i}});return new so(r,this.indexSet_)}}let sg,ve=(()=>{class t{constructor(n,r,i){this.children_=n,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&gK(this.priorityNode_),this.children_.isEmpty()&&G(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return sg||(sg=new t(new Pr(DP),null,so.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||sg}updatePriority(n){return this.children_.isEmpty()?this:new t(this.children_,n,this.indexMap_)}getImmediateChild(n){if(".priority"===n)return this.getPriority();{const r=this.children_.get(n);return null===r?sg:r}}getChild(n){const r=Te(n);return null===r?this:this.getImmediateChild(r).getChild(at(n))}hasChild(n){return null!==this.children_.get(n)}updateImmediateChild(n,r){if(G(r,"We should always be passing snapshot nodes"),".priority"===n)return this.updatePriority(r);{const i=new De(n,r);let s,o;r.isEmpty()?(s=this.children_.remove(n),o=this.indexMap_.removeFromIndexes(i,this.children_)):(s=this.children_.insert(n,r),o=this.indexMap_.addToIndexes(i,this.children_));const a=s.isEmpty()?sg:this.priorityNode_;return new t(s,a,o)}}updateChild(n,r){const i=Te(n);if(null===i)return r;{G(".priority"!==Te(n)||1===ca(n),".priority must be the last token in a path");const s=this.getImmediateChild(i).updateChild(at(n),r);return this.updateImmediateChild(i,s)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(n){if(this.isEmpty())return null;const r={};let i=0,s=0,o=!0;if(this.forEachChild(ft,(a,c)=>{r[a]=c.val(n),i++,o&&t.INTEGER_REGEXP_.test(a)?s=Math.max(s,Number(a)):o=!1}),!n&&o&&s<2*i){const a=[];for(const c in r)a[c]=r[c];return a}return n&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let n="";this.getPriority().isEmpty()||(n+="priority:"+pK(this.getPriority().val())+":"),this.forEachChild(ft,(r,i)=>{const s=i.hash();""!==s&&(n+=":"+r+":"+s)}),this.lazyHash_=""===n?"":x8(n)}return this.lazyHash_}getPredecessorChildName(n,r,i){const s=this.resolveIndex_(i);if(s){const o=s.getPredecessorKey(new De(n,r));return o?o.name:null}return this.children_.getPredecessorKey(n)}getFirstChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(n){const r=this.getFirstChildName(n);return r?new De(r,this.children_.get(r)):null}getLastChildName(n){const r=this.resolveIndex_(n);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(n){const r=this.getLastChildName(n);return r?new De(r,this.children_.get(r)):null}forEachChild(n,r){const i=this.resolveIndex_(n);return i?i.inorderTraversal(s=>r(s.name,s.node)):this.children_.inorderTraversal(r)}getIterator(n){return this.getIteratorFrom(n.minPost(),n)}getIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(n,s=>s);{const s=this.children_.getIteratorFrom(n.name,De.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)<0;)s.getNext(),o=s.peek();return s}}getReverseIterator(n){return this.getReverseIteratorFrom(n.maxPost(),n)}getReverseIteratorFrom(n,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(n,s=>s);{const s=this.children_.getReverseIteratorFrom(n.name,De.Wrap);let o=s.peek();for(;null!=o&&r.compare(o,n)>0;)s.getNext(),o=s.peek();return s}}compareTo(n){return this.isEmpty()?n.isEmpty()?0:-1:n.isLeafNode()||n.isEmpty()?1:n===og?-1:0}withIndex(n){if(n===ls||this.indexMap_.hasIndex(n))return this;{const r=this.indexMap_.addIndex(n,this.children_);return new t(this.children_,this.priorityNode_,r)}}isIndexed(n){return n===ls||this.indexMap_.hasIndex(n)}equals(n){if(n===this)return!0;if(n.isLeafNode())return!1;{const r=n;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(ft),s=r.getIterator(ft);let o=i.getNext(),a=s.getNext();for(;o&&a;){if(o.name!==a.name||!o.node.equals(a.node))return!1;o=i.getNext(),a=s.getNext()}return null===o&&null===a}return!1}return!1}}resolveIndex_(n){return n===ls?null:this.indexMap_.get(n.toString())}}return t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t})();const og=new class nNe extends ve{constructor(){super(new Pr(DP),ve.EMPTY_NODE,so.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return ve.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(De,{MIN:{value:new De(oa,ve.EMPTY_NODE)},MAX:{value:new De(io,og)}}),fK.__EMPTY_NODE=ve.EMPTY_NODE,ad.__childrenNodeConstructor=ve,function QMe(t){SP=t}(og),function JMe(t){yK=t}(og);const rNe=!0;function Mt(t,e=null){if(null===t)return ve.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),G(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new ad(t,Mt(e));if(t instanceof Array||!rNe){let n=ve.EMPTY_NODE;return Tn(t,(r,i)=>{if(Ns(t,r)&&"."!==r.substring(0,1)){const s=Mt(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Mt(e))}{const n=[];let r=!1;if(Tn(t,(o,a)=>{if("."!==o.substring(0,1)){const c=Mt(a);c.isEmpty()||(r=r||!c.getPriority().isEmpty(),n.push(new De(o,c)))}}),0===n.length)return ve.EMPTY_NODE;const s=Zw(n,YMe,o=>o.name,DP);if(r){const o=Zw(n,ft.getCompare());return new ve(s,Mt(e),new so({".priority":o},{".priority":ft}))}return new ve(s,Mt(e),so.Default)}}!function XMe(t){_K=t}(Mt);class xP extends Qw{constructor(e){super(),this.indexPath_=e,G(!Ce(e)&&".priority"!==Te(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return 0===s?kc(e.name,n.name):s}makePost(e,n){const r=Mt(e),i=ve.EMPTY_NODE.updateChild(this.indexPath_,r);return new De(n,i)}maxPost(){const e=ve.EMPTY_NODE.updateChild(this.indexPath_,og);return new De(io,e)}toString(){return rg(this.indexPath_,0).join("/")}}const MP=new class iNe extends Qw{compare(e,n){const r=e.node.compareTo(n.node);return 0===r?kc(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return De.MIN}maxPost(){return De.MAX}makePost(e,n){const r=Mt(e);return new De(n,r)}toString(){return".value"}};function cg(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}class RP{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ft}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return G(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return G(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:oa}hasEnd(){return this.endSet_}getIndexEndValue(){return G(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return G(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:io}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return G(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ft}copy(){const e=new RP;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function wK(t){const e={};if(t.isDefault())return e;let n;if(t.index_===ft?n="$priority":t.index_===MP?n="$value":t.index_===ls?n="$key":(G(t.index_ instanceof xP,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=Nn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=Nn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+Nn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=Nn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+Nn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function IK(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;""===n&&(n=t.isViewFromLeft()?"l":"r"),e.vf=n}return t.index_!==ft&&(e.i=t.index_.toString()),e}class tI extends sK{constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Zp("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return void 0!==n?"tag$"+n:(G(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=tI.getListenId_(e,r),a={};this.listens_[o]=a;const c=wK(e._queryParams);this.restRequest_(s+".json",c,(l,u)=>{let d=u;if(404===l&&(d=null,l=null),null===l&&this.onDataUpdate_(s,d,!1,r),ql(this.listens_,o)===a){let f;f=l?401===l?"permission_denied":"rest_error:"+l:"ok",i(f,null)}})}unlisten(e,n){const r=tI.getListenId_(e,n);delete this.listens_[r]}get(e){const n=wK(e._queryParams),r=e._path.toString(),i=new zl;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;404===s&&(a=null,s=null),null===s?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+Rs(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&4===a.readyState){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let c=null;if(a.status>=200&&a.status<300){try{c=Rh(a.responseText)}catch{Jn("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,c)}else 401!==a.status&&404!==a.status&&Jn("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}class hNe{constructor(){this.rootNode_=ve.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}function nI(){return{value:null,children:new Map}}function ud(t,e,n){if(Ce(e))t.value=n,t.children.clear();else if(null!==t.value)t.value=t.value.updateChild(e,n);else{const r=Te(e);t.children.has(r)||t.children.set(r,nI()),ud(t.children.get(r),e=at(e),n)}}function LP(t,e,n){null!==t.value?n(e,t.value):function fNe(t,e){t.children.forEach((n,r)=>{e(r,n)})}(t,(r,i)=>{LP(i,new Ke(e.toString()+"/"+r),n)})}class pNe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n=Object.assign({},e);return this.last_&&Tn(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}class _Ne{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new pNe(e);const r=1e4+2e4*Math.random();tg(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;Tn(e,(i,s)=>{s>0&&Ns(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),tg(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var us=function(t){return t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",t}(us||{});function UP(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}class rI{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=us.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Ce(this.path)){if(null!=this.affectedTree.value)return G(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new Ke(e));return new rI($e(),n,this.revert)}}return G(Te(this.path)===e,"operationForChild called for unrelated child."),new rI(at(this.path),this.affectedTree,this.revert)}}class Lc{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=us.OVERWRITE}operationForChild(e){return Ce(this.path)?new Lc(this.source,$e(),this.snap.getImmediateChild(e)):new Lc(this.source,at(this.path),this.snap)}}class dd{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=us.MERGE}operationForChild(e){if(Ce(this.path)){const n=this.children.subtree(new Ke(e));return n.isEmpty()?null:n.value?new Lc(this.source,$e(),n.value):new dd(this.source,$e(),n)}return G(Te(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new dd(this.source,at(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class la{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ce(e))return this.isFullyInitialized()&&!this.filtered_;const n=Te(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function dg(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,c)=>function INe(t,e,n){if(null==e.childName||null==n.childName)throw Hl("Should only compare child_ events.");const r=new De(e.childName,e.snapshotNode),i=new De(n.childName,n.snapshotNode);return t.index_.compare(r,i)}(t,a,c)),o.forEach(a=>{const c=function wNe(t,e,n){return"value"===e.type||"child_removed"===e.type||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}(t,a,s);i.forEach(l=>{l.respondsTo(a.type)&&e.push(l.createEvent(c,t.query_))})})}function iI(t,e){return{eventCache:t,serverCache:e}}function hg(t,e,n,r){return iI(new la(e,n,r),t.serverCache)}function bK(t,e,n,r){return iI(t.eventCache,new la(e,n,r))}function sI(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Fc(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}let BP;class pt{constructor(e,n=(()=>(BP||(BP=new Pr(sMe)),BP))()){this.value=e,this.children=n}static fromObject(e){let n=new pt(null);return Tn(e,(r,i)=>{n=n.set(new Ke(r),i)}),n}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(null!=this.value&&n(this.value))return{path:$e(),value:this.value};if(Ce(e))return null;{const r=Te(e),i=this.children.get(r);if(null!==i){const s=i.findRootMostMatchingPathAndValue(at(e),n);return null!=s?{path:Tt(new Ke(r),s.path),value:s.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ce(e))return this;{const n=Te(e),r=this.children.get(n);return null!==r?r.subtree(at(e)):new pt(null)}}set(e,n){if(Ce(e))return new pt(n,this.children);{const r=Te(e),s=(this.children.get(r)||new pt(null)).set(at(e),n),o=this.children.insert(r,s);return new pt(this.value,o)}}remove(e){if(Ce(e))return this.children.isEmpty()?new pt(null):new pt(null,this.children);{const n=Te(e),r=this.children.get(n);if(r){const i=r.remove(at(e));let s;return s=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&s.isEmpty()?new pt(null):new pt(this.value,s)}return this}}get(e){if(Ce(e))return this.value;{const n=Te(e),r=this.children.get(n);return r?r.get(at(e)):null}}setTree(e,n){if(Ce(e))return n;{const r=Te(e),s=(this.children.get(r)||new pt(null)).setTree(at(e),n);let o;return o=s.isEmpty()?this.children.remove(r):this.children.insert(r,s),new pt(this.value,o)}}fold(e){return this.fold_($e(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Tt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,$e(),n)}findOnPath_(e,n,r){const i=!!this.value&&r(n,this.value);if(i)return i;if(Ce(e))return null;{const s=Te(e),o=this.children.get(s);return o?o.findOnPath_(at(e),Tt(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,$e(),n)}foreachOnPath_(e,n,r){if(Ce(e))return this;{this.value&&r(n,this.value);const i=Te(e),s=this.children.get(i);return s?s.foreachOnPath_(at(e),Tt(n,i),r):new pt(null)}}foreach(e){this.foreach_($e(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Tt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}class Ci{constructor(e){this.writeTree_=e}static empty(){return new Ci(new pt(null))}}function fg(t,e,n){if(Ce(e))return new Ci(new pt(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let s=r.value;const o=gr(i,e);return s=s.updateChild(o,n),new Ci(t.writeTree_.set(i,s))}{const i=new pt(n),s=t.writeTree_.setTree(e,i);return new Ci(s)}}}function jP(t,e,n){let r=t;return Tn(n,(i,s)=>{r=fg(r,Tt(e,i),s)}),r}function TK(t,e){if(Ce(e))return Ci.empty();{const n=t.writeTree_.setTree(e,new pt(null));return new Ci(n)}}function $P(t,e){return null!=Vc(t,e)}function Vc(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return null!=n?t.writeTree_.get(n.path).getChild(gr(n.path,e)):null}function CK(t){const e=[],n=t.writeTree_.value;return null!=n?n.isLeafNode()||n.forEachChild(ft,(r,i)=>{e.push(new De(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new De(r,i.value))}),e}function ua(t,e){if(Ce(e))return t;{const n=Vc(t,e);return new Ci(null!=n?new pt(n):t.writeTree_.subtree(e))}}function HP(t){return t.writeTree_.isEmpty()}function hd(t,e){return DK($e(),t.writeTree_,e)}function DK(t,e,n){if(null!=e.value)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{".priority"===i?(G(null!==s.value,"Priority writes must always be leaf nodes"),r=s.value):n=DK(Tt(t,i),s,n)}),!n.getChild(t).isEmpty()&&null!==r&&(n=n.updateChild(Tt(t,".priority"),r)),n}}function oI(t,e){return NK(e,t)}function SNe(t,e){if(t.snap)return ci(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&ci(Tt(t.path,n),e))return!0;return!1}function xNe(t){return t.visible}function SK(t,e,n){let r=Ci.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)ci(n,o)?(a=gr(n,o),r=fg(r,a,s.snap)):ci(o,n)&&(a=gr(o,n),r=fg(r,$e(),s.snap.getChild(a)));else{if(!s.children)throw Hl("WriteRecord should have .snap or .children");if(ci(n,o))a=gr(n,o),r=jP(r,a,s.children);else if(ci(o,n))if(a=gr(o,n),Ce(a))r=jP(r,$e(),s.children);else{const c=ql(s.children,Te(a));if(c){const l=c.getChild(at(a));r=fg(r,$e(),l)}}}}}return r}function AK(t,e,n,r,i){if(r||i){const s=ua(t.visibleWrites,e);return!i&&HP(s)?n:i||null!=n||$P(s,$e())?hd(SK(t.allWrites,function(l){return(l.visible||i)&&(!r||!~r.indexOf(l.writeId))&&(ci(l.path,e)||ci(e,l.path))},e),n||ve.EMPTY_NODE):null}{const s=Vc(t.visibleWrites,e);if(null!=s)return s;{const o=ua(t.visibleWrites,e);return HP(o)?n:null!=n||$P(o,$e())?hd(o,n||ve.EMPTY_NODE):null}}}function aI(t,e,n,r){return AK(t.writeTree,t.treePath,e,n,r)}function GP(t,e){return function MNe(t,e,n){let r=ve.EMPTY_NODE;const i=Vc(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ft,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=ua(t.visibleWrites,e);return n.forEachChild(ft,(o,a)=>{const c=hd(ua(s,new Ke(o)),a);r=r.updateImmediateChild(o,c)}),CK(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}return CK(ua(t.visibleWrites,e)).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}(t.writeTree,t.treePath,e)}function xK(t,e,n,r){return function NNe(t,e,n,r,i){G(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Tt(e,n);if($P(t.visibleWrites,s))return null;{const o=ua(t.visibleWrites,s);return HP(o)?i.getChild(n):hd(o,i.getChild(n))}}(t.writeTree,t.treePath,e,n,r)}function cI(t,e){return function kNe(t,e){return Vc(t.visibleWrites,e)}(t.writeTree,Tt(t.treePath,e))}function zP(t,e,n){return function RNe(t,e,n,r){const i=Tt(e,n),s=Vc(t.visibleWrites,i);return null!=s?s:r.isCompleteForChild(n)?hd(ua(t.visibleWrites,i),r.getNode().getImmediateChild(n)):null}(t.writeTree,t.treePath,e,n)}function MK(t,e){return NK(Tt(t.treePath,e),t.writeTree)}function NK(t,e){return{treePath:t,writeTree:e}}class FNe{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;G("child_added"===n||"child_changed"===n||"child_removed"===n,"Only child changes supported for tracking"),G(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if("child_added"===n&&"child_removed"===s)this.changeMap.set(r,cg(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===n&&"child_added"===s)this.changeMap.delete(r);else if("child_removed"===n&&"child_changed"===s)this.changeMap.set(r,function ag(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}(r,i.oldSnap));else if("child_changed"===n&&"child_added"===s)this.changeMap.set(r,function ld(t,e){return{type:"child_added",snapshotNode:e,childName:t}}(r,e.snapshotNode));else{if("child_changed"!==n||"child_changed"!==s)throw Hl("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,cg(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const RK=new class VNe{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}};class WP{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new la(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return zP(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Fc(this.viewCache_),s=function LNe(t,e,n,r,i,s){return function PNe(t,e,n,r,i,s,o){let a;const c=ua(t.visibleWrites,e),l=Vc(c,$e());if(null!=l)a=l;else{if(null==n)return[];a=hd(c,n)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];{const u=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let g=f.getNext();for(;g&&u.length<i;)0!==d(g,r)&&u.push(g),g=f.getNext();return u}}(t.writeTree,t.treePath,e,n,r,i,s)}(this.writes_,i,n,1,r,e);return 0===s.length?null:s[0]}}function kK(t,e,n,r,i,s){const o=e.eventCache;if(null!=cI(r,n))return e;{let a,c;if(Ce(n))if(G(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const l=Fc(e),d=GP(r,l instanceof ve?l:ve.EMPTY_NODE);a=t.filter.updateFullNode(e.eventCache.getNode(),d,s)}else{const l=aI(r,Fc(e));a=t.filter.updateFullNode(e.eventCache.getNode(),l,s)}else{const l=Te(n);if(".priority"===l){G(1===ca(n),"Can't have a priority with additional path components");const u=o.getNode();c=e.serverCache.getNode();const d=xK(r,n,u,c);a=null!=d?t.filter.updatePriority(u,d):o.getNode()}else{const u=at(n);let d;if(o.isCompleteForChild(l)){c=e.serverCache.getNode();const f=xK(r,n,o.getNode(),c);d=null!=f?o.getNode().getImmediateChild(l).updateChild(u,f):o.getNode().getImmediateChild(l)}else d=zP(r,l,e.serverCache);a=null!=d?t.filter.updateChild(o.getNode(),l,d,u,i,s):o.getNode()}}return hg(e,a,o.isFullyInitialized()||Ce(n),t.filter.filtersNodes())}}function lI(t,e,n,r,i,s,o,a){const c=e.serverCache;let l;const u=o?t.filter:t.filter.getIndexedFilter();if(Ce(n))l=u.updateFullNode(c.getNode(),r,null);else if(u.filtersNodes()&&!c.isFiltered()){const g=c.getNode().updateChild(n,r);l=u.updateFullNode(c.getNode(),g,null)}else{const g=Te(n);if(!c.isCompleteForPath(n)&&ca(n)>1)return e;const _=at(n),I=c.getNode().getImmediateChild(g).updateChild(_,r);l=".priority"===g?u.updatePriority(c.getNode(),I):u.updateChild(c.getNode(),g,I,_,RK,null)}const d=bK(e,l,c.isFullyInitialized()||Ce(n),u.filtersNodes());return kK(t,d,n,i,new WP(i,d,s),a)}function qP(t,e,n,r,i,s,o){const a=e.eventCache;let c,l;const u=new WP(i,e,s);if(Ce(n))l=t.filter.updateFullNode(e.eventCache.getNode(),r,o),c=hg(e,l,!0,t.filter.filtersNodes());else{const d=Te(n);if(".priority"===d)l=t.filter.updatePriority(e.eventCache.getNode(),r),c=hg(e,l,a.isFullyInitialized(),a.isFiltered());else{const f=at(n),g=a.getNode().getImmediateChild(d);let _;if(Ce(f))_=r;else{const w=u.getCompleteChild(d);_=null!=w?".priority"===bP(f)&&w.getChild(lK(f)).isEmpty()?w:w.updateChild(f,r):ve.EMPTY_NODE}c=g.equals(_)?e:hg(e,t.filter.updateChild(a.getNode(),d,_,f,u,o),a.isFullyInitialized(),t.filter.filtersNodes())}}return c}function PK(t,e){return t.eventCache.isCompleteForChild(e)}function OK(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function KP(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l,c=e;l=Ce(n)?r:new pt(null).setTree(n,r);const u=e.serverCache.getNode();return l.children.inorderTraversal((d,f)=>{if(u.hasChild(d)){const _=OK(0,e.serverCache.getNode().getImmediateChild(d),f);c=lI(t,c,new Ke(d),_,i,s,o,a)}}),l.children.inorderTraversal((d,f)=>{const g=!e.serverCache.isCompleteForChild(d)&&null===f.value;if(!u.hasChild(d)&&!g){const w=OK(0,e.serverCache.getNode().getImmediateChild(d),f);c=lI(t,c,new Ke(d),w,i,s,o,a)}}),c}function QNe(t,e){const n=Fc(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ce(e)&&!n.getImmediateChild(Te(e)).isEmpty())?n.getChild(e):null}function VK(t,e,n,r){e.type===us.MERGE&&null!==e.source.queryId&&(G(Fc(t.viewCache_),"We should always have a full cache before handling merges"),G(sI(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=function jNe(t,e,n,r,i){const s=new FNe;let o,a;if(n.type===us.OVERWRITE){const l=n;l.source.fromUser?o=qP(t,e,l.path,l.snap,r,i,s):(G(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered()&&!Ce(l.path),o=lI(t,e,l.path,l.snap,r,i,a,s))}else if(n.type===us.MERGE){const l=n;l.source.fromUser?o=function HNe(t,e,n,r,i,s,o){let a=e;return r.foreach((c,l)=>{const u=Tt(n,c);PK(e,Te(u))&&(a=qP(t,a,u,l,i,s,o))}),r.foreach((c,l)=>{const u=Tt(n,c);PK(e,Te(u))||(a=qP(t,a,u,l,i,s,o))}),a}(t,e,l.path,l.children,r,i,s):(G(l.source.fromServer,"Unknown source."),a=l.source.tagged||e.serverCache.isFiltered(),o=KP(t,e,l.path,l.children,r,i,a,s))}else if(n.type===us.ACK_USER_WRITE){const l=n;o=l.revert?function WNe(t,e,n,r,i,s){let o;if(null!=cI(r,n))return e;{const a=new WP(r,e,i),c=e.eventCache.getNode();let l;if(Ce(n)||".priority"===Te(n)){let u;if(e.serverCache.isFullyInitialized())u=aI(r,Fc(e));else{const d=e.serverCache.getNode();G(d instanceof ve,"serverChildren would be complete if leaf node"),u=GP(r,d)}l=t.filter.updateFullNode(c,u,s)}else{const u=Te(n);let d=zP(r,u,e.serverCache);null==d&&e.serverCache.isCompleteForChild(u)&&(d=c.getImmediateChild(u)),l=null!=d?t.filter.updateChild(c,u,d,at(n),a,s):e.eventCache.getNode().hasChild(u)?t.filter.updateChild(c,u,ve.EMPTY_NODE,at(n),a,s):c,l.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=aI(r,Fc(e)),o.isLeafNode()&&(l=t.filter.updateFullNode(l,o,s)))}return o=e.serverCache.isFullyInitialized()||null!=cI(r,$e()),hg(e,l,o,t.filter.filtersNodes())}}(t,e,l.path,r,i,s):function GNe(t,e,n,r,i,s,o){if(null!=cI(i,n))return e;const a=e.serverCache.isFiltered(),c=e.serverCache;if(null!=r.value){if(Ce(n)&&c.isFullyInitialized()||c.isCompleteForPath(n))return lI(t,e,n,c.getNode().getChild(n),i,s,a,o);if(Ce(n)){let l=new pt(null);return c.getNode().forEachChild(ls,(u,d)=>{l=l.set(new Ke(u),d)}),KP(t,e,n,l,i,s,a,o)}return e}{let l=new pt(null);return r.foreach((u,d)=>{const f=Tt(n,u);c.isCompleteForPath(f)&&(l=l.set(u,c.getNode().getChild(f)))}),KP(t,e,n,l,i,s,a,o)}}(t,e,l.path,l.affectedTree,r,i,s)}else{if(n.type!==us.LISTEN_COMPLETE)throw Hl("Unknown operation type: "+n.type);o=function zNe(t,e,n,r,i){const s=e.serverCache;return kK(t,bK(e,s.getNode(),s.isFullyInitialized()||Ce(n),s.isFiltered()),n,r,RK,i)}(t,e,n.path,r,s)}const c=s.getChanges();return function $Ne(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=sI(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(function vK(t){return{type:"value",snapshotNode:t}}(sI(e)))}}(e,o,c),{viewCache:o,changes:c}}(t.processor_,i,e,n,r);return function BNe(t,e){G(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),G(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}(t.processor_,s.viewCache),G(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,function UK(t,e,n,r){return function vNe(t,e,n,r){const i=[],s=[];return e.forEach(o=>{"child_changed"===o.type&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(function sNe(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}(o.childName,o.snapshotNode))}),dg(t,i,"child_removed",e,r,n),dg(t,i,"child_added",e,r,n),dg(t,i,"child_moved",s,r,n),dg(t,i,"child_changed",e,r,n),dg(t,i,"value",e,r,n),i}(t.eventGenerator_,e,n,r?[r]:t.eventRegistrations_)}(t,s.changes,s.viewCache.eventCache.getNode(),null)}let uI,hI;function YP(t,e,n,r){const i=e.source.queryId;if(null!==i){const s=t.views.get(i);return G(null!=s,"SyncTree gave us an op for an invalid query."),VK(s,e,n,r)}{let s=[];for(const o of t.views.values())s=s.concat(VK(o,e,n,r));return s}}function da(t,e){let n=null;for(const r of t.views.values())n=n||QNe(r,e);return n}class zK{constructor(e){this.listenProvider_=e,this.syncPointTree_=new pt(null),this.pendingWriteTree_=function ONe(){return{visibleWrites:Ci.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function QP(t,e,n,r,i){return function bNe(t,e,n,r,i){G(r>t.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=fg(t.visibleWrites,e,n)),t.lastWriteId=r}(t.pendingWriteTree_,e,n,r,i),i?fd(t,new Lc({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,n)):[]}function fa(t,e,n=!1){const r=function CNe(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}(t.pendingWriteTree_,e);if(function DNe(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);G(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&SNe(a,r.path)?i=!1:ci(r.path,a.path)&&(s=!0)),o--}return!!i&&(s?(function ANe(t){t.visibleWrites=SK(t.allWrites,xNe,$e()),t.lastWriteId=t.allWrites.length>0?t.allWrites[t.allWrites.length-1].writeId:-1}(t),!0):(r.snap?t.visibleWrites=TK(t.visibleWrites,r.path):Tn(r.children,c=>{t.visibleWrites=TK(t.visibleWrites,Tt(r.path,c))}),!0))}(t.pendingWriteTree_,e)){let s=new pt(null);return null!=r.snap?s=s.set($e(),!0):Tn(r.children,o=>{s=s.set(new Ke(o),!0)}),fd(t,new rI(r.path,s,n))}return[]}function pg(t,e,n){return fd(t,new Lc({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,n))}function pI(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=da(a,gr(o,e));if(l)return l});return AK(i,e,s,n,!0)}function fd(t,e){return qK(e,t.syncPointTree_,null,oI(t.pendingWriteTree_,$e()))}function qK(t,e,n,r){if(Ce(t.path))return KK(t,e,n,r);{const i=e.get($e());null==n&&null!=i&&(n=da(i,$e()));let s=[];const o=Te(t.path),a=t.operationForChild(o),c=e.children.get(o);if(c&&a){const l=n?n.getImmediateChild(o):null,u=MK(r,o);s=s.concat(qK(a,c,l,u))}return i&&(s=s.concat(YP(i,t,r,n))),s}}function KK(t,e,n,r){const i=e.get($e());null==n&&null!=i&&(n=da(i,$e()));let s=[];return e.children.inorderTraversal((o,a)=>{const c=n?n.getImmediateChild(o):null,l=MK(r,o),u=t.operationForChild(o);u&&(s=s.concat(KK(u,a,c,l)))}),i&&(s=s.concat(YP(i,t,r,n))),s}function JP(t,e){return t.tagToQueryMap.get(e)}function ZP(t){const e=t.indexOf("$");return G(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Ke(t.substr(0,e))}}function eO(t,e,n){const r=t.syncPointTree_.get(e);return G(r,"Missing sync point for query tag that we're tracking"),YP(r,n,oI(t.pendingWriteTree_,e),null)}class tO{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new tO(n)}node(){return this.node_}}class nO{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Tt(this.path_,e);return new nO(this.syncTree_,n)}node(){return pI(this.syncTree_,this.path_)}}const _Re=function(t){return(t=t||{}).timestamp=t.timestamp||(new Date).getTime(),t},QK=function(t,e,n){return t&&"object"==typeof t?(G(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?yRe(t[".sv"],e,n):"object"==typeof t[".sv"]?vRe(t[".sv"],e):void G(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},yRe=function(t,e,n){if("timestamp"===t)return n.timestamp;G(!1,"Unexpected server value: "+t)},vRe=function(t,e,n){t.hasOwnProperty("increment")||G(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;"number"!=typeof r&&G(!1,"Unexpected increment value: "+r);const i=e.node();if(G(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return"number"!=typeof o?r:o+r},XK=function(t,e,n,r){return iO(e,new nO(n,t),r)},rO=function(t,e,n){return iO(t,new tO(e),n)};function iO(t,e,n){const r=t.getPriority().val(),i=QK(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=QK(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new ad(a,Mt(i)):t}{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new ad(i))),o.forEachChild(ft,(a,c)=>{const l=iO(c,e.getImmediateChild(a),n);l!==c&&(s=s.updateImmediateChild(a,l))}),s}}class sO{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function mI(t,e){let n=e instanceof Ke?e:new Ke(e),r=t,i=Te(n);for(;null!==i;){const s=ql(r.node.children,i)||{children:{},childCount:0};r=new sO(i,r,s),n=at(n),i=Te(n)}return r}function Uc(t){return t.node.value}function oO(t,e){t.node.value=e,aO(t)}function JK(t){return t.node.childCount>0}function _I(t,e){Tn(t.node.children,(n,r)=>{e(new sO(n,t,r))})}function ZK(t,e,n,r){n&&!r&&e(t),_I(t,i=>{ZK(i,e,!0,r)}),n&&r&&e(t)}function _g(t){return new Ke(null===t.parent?t.name:_g(t.parent)+"/"+t.name)}function aO(t){null!==t.parent&&function ERe(t,e,n){const r=function wRe(t){return void 0===Uc(t)&&!JK(t)}(n),i=Ns(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,aO(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,aO(t))}(t.parent,t.name,t)}const bRe=/[\[\].#$\/\u0000-\u001F\u007F]/,TRe=/[\[\].#$\u0000-\u001F\u007F]/,cO=10485760,yI=function(t){return"string"==typeof t&&0!==t.length&&!bRe.test(t)},vg=function(t,e,n){const r=n instanceof Ke?new jMe(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+Pc(r));if("function"==typeof e)throw new Error(t+"contains a function "+Pc(r)+" with contents = "+e.toString());if(Ww(e))throw new Error(t+"contains "+e.toString()+" "+Pc(r));if("string"==typeof e&&e.length>cO/3&&x_(e)>cO)throw new Error(t+"contains a string greater than "+cO+" utf8 bytes "+Pc(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,s=!1;if(Tn(e,(o,a)=>{if(".value"===o)i=!0;else if(".priority"!==o&&".sv"!==o&&(s=!0,!yI(o)))throw new Error(t+" contains an invalid key ("+o+") "+Pc(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function $Me(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=x_(e),uK(t)})(r,o),vg(t,a,r),function HMe(t){const e=t.parts_.pop();t.byteLength_-=x_(e),t.parts_.length>0&&(t.byteLength_-=1)}(r)}),i&&s)throw new Error(t+' contains ".value" child '+Pc(r)+" in addition to actual children.")}},nY=function(t,e){const n=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!yI(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==n.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),function(t){return"string"==typeof t&&0!==t.length&&!TRe.test(t)}(t)}(n))throw new Error(function A_(t,e){return`${t} failed: ${e} argument `}(t,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')};class ARe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Wr(t,e,n){(function vI(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();null!==n&&!TP(s,n.path)&&(t.eventLists_.push(n),n=null),null===n&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)})(t,n),function iY(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];i&&(e(i.path)?(xRe(t.eventLists_[r]),t.eventLists_[r]=null):n=!1)}n&&(t.eventLists_=[]),t.recursionDepth_--}(t,r=>ci(r,e)||ci(e,r))}function xRe(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(null!==n){t.events[e]=null;const r=n.getEventRunner();Rc&&bn("event: "+n.toString()),sd(r)}}}const MRe=25;class NRe{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ARe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=nI(),this.transactionQueueTree_=new sO,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function oY(t){const n=t.infoData_.getNode(new Ke(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+n}function Ig(t){return _Re({timestamp:oY(t)})}function aY(t,e,n,r,i){t.dataUpdateCount++;const s=new Ke(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const c=S_(n,l=>Mt(l));o=function dRe(t,e,n,r){const i=JP(t,r);if(i){const s=ZP(i),o=s.path,a=s.queryId,c=gr(o,e),l=pt.fromObject(n);return eO(t,o,new dd(UP(a),c,l))}return[]}(t.serverSyncTree_,s,c,i)}else{const c=Mt(n);o=function WK(t,e,n,r){const i=JP(t,r);if(null!=i){const s=ZP(i),o=s.path,a=s.queryId,c=gr(o,e);return eO(t,o,new Lc(UP(a),c,n))}return[]}(t.serverSyncTree_,s,c,i)}else if(r){const c=S_(n,l=>Mt(l));o=function cRe(t,e,n){const r=pt.fromObject(n);return fd(t,new dd({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(t.serverSyncTree_,s,c)}else{const c=Mt(n);o=pg(t.serverSyncTree_,s,c)}let a=s;o.length>0&&(a=gd(t,s)),Wr(t.eventQueue_,a,o)}function cY(t,e){dO(t,"connected",e),!1===e&&function LRe(t){pd(t,"onDisconnectEvents");const e=Ig(t),n=nI();LP(t.onDisconnect_,$e(),(i,s)=>{const o=XK(i,s,t.serverSyncTree_,e);ud(n,i,o)});let r=[];LP(n,$e(),(i,s)=>{r=r.concat(pg(t.serverSyncTree_,i,s));const o=function gO(t,e){const n=_g(dY(t,e)),r=mI(t.transactionQueueTree_,e);return function IRe(t,e,n){let r=n?t:t.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{mO(t,i)}),mO(t,r),ZK(r,i=>{mO(t,i)}),n}(t,i);gd(t,o)}),t.onDisconnect_=nI(),Wr(t.eventQueue_,$e(),r)}(t)}function dO(t,e,n){const r=new Ke("/.info/"+e),i=Mt(n);t.infoData_.updateSnapshot(r,i);const s=pg(t.infoSyncTree_,r,i);Wr(t.eventQueue_,r,s)}function wI(t){return t.nextWriteId_++}function pd(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),bn(n,...e)}function pO(t,e,n){return pI(t.serverSyncTree_,e,n)||ve.EMPTY_NODE}function II(t,e=t.transactionQueueTree_){if(e||EI(t,e),Uc(e)){const n=hY(t,e);G(n.length>0,"Sending zero length transaction queue"),n.every(i=>0===i.status)&&function HRe(t,e,n){const r=n.map(l=>l.currentWriteId),i=pO(t,e,r);let s=i;const o=i.hash();for(let l=0;l<n.length;l++){const u=n[l];G(0===u.status,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=1,u.retryCount++;const d=gr(e,u.path);s=s.updateChild(d,u.currentOutputSnapshotRaw)}const a=s.val(!0),c=e;t.server_.put(c.toString(),a,l=>{pd(t,"transaction put response",{path:c.toString(),status:l});let u=[];if("ok"===l){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,u=u.concat(fa(t.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();EI(t,mI(t.transactionQueueTree_,e)),II(t,t.transactionQueueTree_),Wr(t.eventQueue_,e,u);for(let f=0;f<d.length;f++)sd(d[f])}else{if("datastale"===l)for(let d=0;d<n.length;d++)n[d].status=3===n[d].status?4:0;else{Jn("transaction at "+c.toString()+" failed: "+l);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=l}gd(t,e)}},o)}(t,_g(e),n)}else JK(e)&&_I(e,n=>{II(t,n)})}function gd(t,e){const n=dY(t,e),r=_g(n);return function GRe(t,e,n){if(0===e.length)return;const r=[];let i=[];const o=e.filter(a=>0===a.status).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const c=e[a],l=gr(n,c.path);let d,u=!1;if(G(null!==l,"rerunTransactionsUnderNode_: relativePath should not be null."),4===c.status)u=!0,d=c.abortReason,i=i.concat(fa(t.serverSyncTree_,c.currentWriteId,!0));else if(0===c.status)if(c.retryCount>=MRe)u=!0,d="maxretry",i=i.concat(fa(t.serverSyncTree_,c.currentWriteId,!0));else{const f=pO(t,c.path,o);c.currentInputSnapshot=f;const g=e[a].update(f.val());if(void 0!==g){vg("transaction failed: Data returned ",g,c.path);let _=Mt(g);"object"==typeof g&&null!=g&&Ns(g,".priority")||(_=_.updatePriority(f.getPriority()));const I=c.currentWriteId,T=Ig(t),E=rO(_,f,T);c.currentOutputSnapshotRaw=_,c.currentOutputSnapshotResolved=E,c.currentWriteId=wI(t),o.splice(o.indexOf(I),1),i=i.concat(QP(t.serverSyncTree_,c.path,E,c.currentWriteId,c.applyLocally)),i=i.concat(fa(t.serverSyncTree_,I,!0))}else u=!0,d="nodata",i=i.concat(fa(t.serverSyncTree_,c.currentWriteId,!0))}Wr(t.eventQueue_,n,i),i=[],u&&(e[a].status=2,setTimeout(e[a].unwatcher,Math.floor(0)),e[a].onComplete&&r.push("nodata"===d?()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot):()=>e[a].onComplete(new Error(d),!1,null)))}EI(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)sd(r[a]);II(t,t.transactionQueueTree_)}(t,hY(t,n),r),r}function dY(t,e){let n,r=t.transactionQueueTree_;for(n=Te(e);null!==n&&void 0===Uc(r);)r=mI(r,n),n=Te(e=at(e));return r}function hY(t,e){const n=[];return fY(t,e,n),n.sort((r,i)=>r.order-i.order),n}function fY(t,e,n){const r=Uc(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);_I(e,i=>{fY(t,i,n)})}function EI(t,e){const n=Uc(e);if(n){let r=0;for(let i=0;i<n.length;i++)2!==n[i].status&&(n[r]=n[i],r++);n.length=r,oO(e,n.length>0?n:void 0)}_I(e,r=>{EI(t,r)})}function mO(t,e){const n=Uc(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)3===n[o].status||(1===n[o].status?(G(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(G(0===n[o].status,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(fa(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));-1===s?oO(e,void 0):n.length=s+1,Wr(t.eventQueue_,_g(e),i);for(let o=0;o<r.length;o++)sd(r[o])}}const _O=function(t,e){const n=qRe(t),r=n.namespace;return"firebase.com"===n.domain&&cs(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==n.domain&&cs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Jn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new _P(n.host,n.secure,r,"ws"===n.scheme||"wss"===n.scheme,e,"",r!==n.subdomain),path:new Ke(n.pathString)}},qRe=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",c=443;if("string"==typeof t){let l=t.indexOf("//");l>=0&&(a=t.substring(0,l-1),t=t.substring(l+2));let u=t.indexOf("/");-1===u&&(u=t.length);let d=t.indexOf("?");-1===d&&(d=t.length),e=t.substring(0,Math.min(u,d)),u<d&&(i=function zRe(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(t.substring(u,d)));const f=function WRe(t){const e={};"?"===t.charAt(0)&&(t=t.substring(1));for(const n of t.split("&")){if(0===n.length)continue;const r=n.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Jn(`Invalid query segment '${n}' in query '${t}'`)}return e}(t.substring(Math.min(t.length,d)));l=e.indexOf(":"),l>=0?(o="https"===a||"wss"===a,c=parseInt(e.substring(l+1),10)):l=e.length;const g=e.slice(0,l);if("localhost"===g.toLowerCase())n="localhost";else if(g.split(".").length<=2)n=g;else{const _=e.indexOf(".");r=e.substring(0,_).toLowerCase(),n=e.substring(_+1),s=r}"ns"in f&&(s=f.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};class qr{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Ce(this._path)?null:bP(this._path)}get ref(){return new Di(this._repo,this._path)}get _queryIdentifier(){const e=IK(this._queryParams),n=gP(e);return"{}"===n?"default":n}get _queryObject(){return IK(this._queryParams)}isEqual(e){if(!((e=Rn(e))instanceof qr))return!1;const n=this._repo===e._repo,r=TP(this._path,e._path);return n&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function UMe(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)""!==t.pieces_[n]&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}(this._path)}}class Di extends qr{constructor(e,n){super(e,n,new RP,!1)}get parent(){const e=lK(this._path);return null===e?null:new Di(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}(function ZNe(t){G(!uI,"__referenceConstructor has already been defined"),uI=t})(Di),function iRe(t){G(!hI,"__referenceConstructor has already been defined"),hI=t}(Di);const vO={};class fke{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function RRe(t,e,n){if(t.stats_=wP(t.repoInfo_),t.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)t.server_=new tI(t.repoInfo_,(r,i,s,o)=>{aY(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>cY(t,!0),0);else{if(typeof n<"u"&&null!==n){if("object"!=typeof n)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Nn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Oc(t.repoInfo_,e,(r,i,s,o)=>{aY(t,r,i,s,o)},r=>{cY(t,r)},r=>{!function kRe(t,e){Tn(e,(n,r)=>{dO(t,n,r)})}(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=function _Me(t,e){const n=t.toString();return vP[n]||(vP[n]=e()),vP[n]}(t.repoInfo_,()=>new _Ne(t.stats_,t.server_)),t.infoData_=new hNe,t.infoSyncTree_=new zK({startListening:(r,i,s,o)=>{let a=[];const c=t.infoData_.getNode(r._path);return c.isEmpty()||(a=pg(t.infoSyncTree_,r._path,c),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),dO(t,"connected",!1),t.serverSyncTree_=new zK({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,c)=>{const l=o(a,c);Wr(t.eventQueue_,r._path,l)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Di(this._repo,$e())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function uke(t,e){const n=vO[e];(!n||n[t.key]!==t)&&cs(`Database ${e}(${t.repoInfo_}) has already been deleted.`),function uY(t){t.persistentConnection_&&t.persistentConnection_.interrupt("repo_interrupt")}(t),delete n[t.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&cs("Cannot call "+e+" on a deleted database.")}}function pke(t=By(),e){const n=Sf(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=xj("database");r&&function gke(t,e,n,r={}){(t=Rn(t))._checkNotDeleted("useEmulator"),t._instanceStarted&&cs("Cannot call useEmulator() after instance has already been initialized.");const i=t._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&cs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new ng(ng.OWNER);else if(r.mockUserToken){const o="string"==typeof r.mockUserToken?r.mockUserToken:Mj(r.mockUserToken,t.app.options.projectId);s=new ng(o)}!function cke(t,e,n,r){t.repoInfo_=new _P(`${e}:${n}`,!1,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0),r&&(t.authTokenProvider_=r)}(i,e,n,s)}(n,...r)}return n}Oc.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},Oc.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)},function mke(t){(function eMe(t){hP=t})(Ja),Xa(new Dt("database",(e,{instanceIdentifier:n})=>function lke(t,e,n,r,i){let s=r||t.options.databaseURL;void 0===s&&(t.options.projectId||cs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),bn("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let c,l,o=_O(s,i),a=o.repoInfo;typeof process<"u"&&process.env&&(l=process.env.FIREBASE_DATABASE_EMULATOR_HOST),l?(c=!0,s=`http://${l}?ns=${a.namespace}`,o=_O(s,i),a=o.repoInfo):c=!o.repoInfo.secure;const u=i&&c?new ng(ng.OWNER):new pMe(t.name,t.options,e);nY("Invalid Firebase Database URL",o),Ce(o.path)||cs("Database URL must point to the root of a Firebase Database (not including a child path).");const d=function dke(t,e,n,r){let i=vO[e.name];i||(i={},vO[e.name]=i);let s=i[t.toURLString()];return s&&cs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new NRe(t,!1,n,r),i[t.toURLString()]=s,s}(a,t,u,new fMe(t.name,n));return new fke(d,t)}(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),n),"PUBLIC").setMultipleInstances(!0)),zn(C8,"0.14.4",t),zn(C8,"0.14.4","esm2017")}();class wO{constructor(e){return e}}const EY="database",IO=new V("angularfire2.database-instances");function Ike(t){return(e,n)=>{const r=e.runOutsideAngular(()=>t(n));return new wO(r)}}const Eke={provide:class vke{constructor(){return Ky(EY)}},deps:[[new Pt,IO]]},bke={provide:wO,useFactory:function wke(t,e){const n=qy(EY,t,e);return n&&new wO(n)},deps:[[new Pt,IO],sc]};let Tke=(()=>{class t{constructor(){zn("angularfire",Mf.full,"rtdb")}}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=jt({type:t}),t.\u0275inj=Rt({providers:[bke,Eke]}),t})();function Cke(t,...e){return{ngModule:Tke,providers:[{provide:IO,useFactory:Ike(t),multi:!0,deps:[Ne,gn,Yy,Xy,[new Pt,uR],[new Pt,sv],...e]}]}}const Dke=Qy(pke,!0);let Ske=(()=>{var t;class e{}return(t=e).\u0275fac=function(r){return new(r||t)},t.\u0275mod=jt({type:t,bootstrap:[yye]}),t.\u0275inj=Rt({imports:[yce,_ye,K_e,hme,hye.forRoot(),Mye,kEe(()=>PEe({apiKey:"AIzaSyBRTRiI6t4cCuVGsdLhwixGswLGq24HmjE",authDomain:"erp-app-78e00.firebaseapp.com",projectId:"erp-app-78e00",storageBucket:"erp-app-78e00.appspot.com",messagingSenderId:"1096834700857",appId:"1:1096834700857:web:c51c72316f4b7156529fe8",measurementId:"G-X4N0591RNL"})),Jxe(()=>Zxe()),p0e(()=>g0e()),Cke(()=>Dke())]}),e})();Hj({apiKey:"AIzaSyBRTRiI6t4cCuVGsdLhwixGswLGq24HmjE",authDomain:"erp-app-78e00.firebaseapp.com",projectId:"erp-app-78e00",storageBucket:"erp-app-78e00.appspot.com",messagingSenderId:"1096834700857",appId:"1:1096834700857:web:f04192ad0940ae1d529fe8",measurementId:"G-0R59DRW5FE"}),mce().bootstrapModule(Ske).catch(t=>console.error(t))},344:function(_d){_d.exports=function(){"use strict";function jc(h,p){var y=Object.keys(h);if(Object.getOwnPropertySymbols){var m=Object.getOwnPropertySymbols(h);p&&(m=m.filter(function(b){return Object.getOwnPropertyDescriptor(h,b).enumerable})),y.push.apply(y,m)}return y}function Si(h){for(var p=1;p<arguments.length;p++){var y=null!=arguments[p]?arguments[p]:{};p%2?jc(Object(y),!0).forEach(function(m){Me(h,m,y[m])}):Object.getOwnPropertyDescriptors?Object.defineProperties(h,Object.getOwnPropertyDescriptors(y)):jc(Object(y)).forEach(function(m){Object.defineProperty(h,m,Object.getOwnPropertyDescriptor(y,m))})}return h}function Me(h,p,y){return(p="symbol"==typeof(b=function(x,D){if("object"!=typeof x||null===x)return x;var R=x[Symbol.toPrimitive];if(void 0!==R){var F=R.call(x,"string");if("object"!=typeof F)return F;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(x)}(p))?b:String(b))in h?Object.defineProperty(h,p,{value:y,enumerable:!0,configurable:!0,writable:!0}):h[p]=y,h;var b}const fs=(h,p,y,m)=>(h=""+h,p=""+p,m&&(h=h.trim(),p=p.trim()),y?h==p:h.toLowerCase()==p.toLowerCase()),_a=(h,p)=>h&&Array.isArray(h)&&h.map(y=>rn(y,p));function rn(h,p){var y,m={};for(y in h)p.indexOf(y)<0&&(m[y]=h[y]);return m}function yd(h){var p=document.createElement("div");return h.replace(/\&#?[0-9a-z]+;/gi,function(y){return p.innerHTML=y,p.innerText})}function $c(h){return(new DOMParser).parseFromString(h.trim(),"text/html").body.firstElementChild}function vd(h,p){for(p=p||"previous";h=h[p+"Sibling"];)if(3==h.nodeType)return h}function Zn(h){return"string"==typeof h?h.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/`|'/g,"&#039;"):h}function _r(h){var p=Object.prototype.toString.call(h).split(" ")[1].slice(0,-1);return h===Object(h)&&"Array"!=p&&"Function"!=p&&"RegExp"!=p&&"HTMLUnknownElement"!=p}function Nt(h,p,y){function m(b,x){for(var D in x)if(x.hasOwnProperty(D)){if(_r(x[D])){_r(b[D])?m(b[D],x[D]):b[D]=Object.assign({},x[D]);continue}if(Array.isArray(x[D])){b[D]=Object.assign([],x[D]);continue}b[D]=x[D]}}return h instanceof Object||(h={}),m(h,p),y&&m(h,y),h}function Hc(){const h=[],p={};for(let y of arguments)for(let m of y)_r(m)?p[m.value]||(h.push(m),p[m.value]=1):h.includes(m)||h.push(m);return h}function Gc(h){return String.prototype.normalize?"string"==typeof h?h.normalize("NFD").replace(/[\u0300-\u036f]/g,""):void 0:h}var Cg=()=>/(?=.*chrome)(?=.*android)/i.test(navigator.userAgent);function Dg(){return([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,h=>(h^crypto.getRandomValues(new Uint8Array(1))[0]&15>>h/4).toString(16))}function Ai(h){return h&&h.classList&&h.classList.contains(this.settings.classNames.tag)}function xi(h,p){var y=window.getSelection();return p=p||y.getRangeAt(0),"string"==typeof h&&(h=document.createTextNode(h)),p&&(p.deleteContents(),p.insertNode(h)),h}function He(h,p,y){return h?(p&&(h.__tagifyTagData=y?p:Nt({},h.__tagifyTagData||{},p)),h.__tagifyTagData):(console.warn("tag element doesn't exist",h,p),p)}function ps(h){if(h&&h.parentNode){var p=h,y=window.getSelection(),m=y.getRangeAt(0);y.rangeCount&&(m.setStartAfter(p),m.collapse(!0),y.removeAllRanges(),y.addRange(m))}}function zc(h,p){h.forEach(y=>{if(He(y.previousSibling)||!y.previousSibling){var m=document.createTextNode("\u200b");y.before(m),p&&ps(m)}})}var wd={delimiters:",",pattern:null,tagTextProp:"value",maxTags:1/0,callbacks:{},addTagOnBlur:!0,onChangeAfterBlur:!0,duplicates:!1,whitelist:[],blacklist:[],enforceWhitelist:!1,userInput:!0,keepInvalidTags:!1,createInvalidTags:!0,mixTagsAllowedAfter:/,|\.|\:|\s/,mixTagsInterpolator:["[[","]]"],backspace:!0,skipInvalid:!1,pasteAsTags:!0,editTags:{clicks:2,keepInvalid:!0},transformTag:()=>{},trim:!0,a11y:{focusableTags:!1},mixMode:{insertAfterTag:"\xa0"},autoComplete:{enabled:!0,rightKey:!1},classNames:{namespace:"tagify",mixMode:"tagify--mix",selectMode:"tagify--select",input:"tagify__input",focus:"tagify--focus",tagNoAnimation:"tagify--noAnim",tagInvalid:"tagify--invalid",tagNotAllowed:"tagify--notAllowed",scopeLoading:"tagify--loading",hasMaxTags:"tagify--hasMaxTags",hasNoTags:"tagify--noTags",empty:"tagify--empty",inputInvalid:"tagify__input--invalid",dropdown:"tagify__dropdown",dropdownWrapper:"tagify__dropdown__wrapper",dropdownHeader:"tagify__dropdown__header",dropdownFooter:"tagify__dropdown__footer",dropdownItem:"tagify__dropdown__item",dropdownItemActive:"tagify__dropdown__item--active",dropdownItemHidden:"tagify__dropdown__item--hidden",dropdownInital:"tagify__dropdown--initial",tag:"tagify__tag",tagText:"tagify__tag-text",tagX:"tagify__tag__removeBtn",tagLoading:"tagify__tag--loading",tagEditing:"tagify__tag--editable",tagFlash:"tagify__tag--flash",tagHide:"tagify__tag--hide"},dropdown:{classname:"",enabled:2,maxItems:10,searchKeys:["value","searchBy"],fuzzySearch:!0,caseSensitive:!1,accentedSearch:!0,includeSelectedTags:!1,highlightFirst:!1,closeOnSelect:!0,clearOnSelect:!0,position:"all",appendTarget:null},hooks:{beforeRemoveTag:()=>Promise.resolve(),beforePaste:()=>Promise.resolve(),suggestionClick:()=>Promise.resolve()}};function Id(){this.dropdown={};for(let h in this._dropdown)this.dropdown[h]="function"==typeof this._dropdown[h]?this._dropdown[h].bind(this):this._dropdown[h];this.dropdown.refs()}var DI={refs(){this.DOM.dropdown=this.parseTemplate("dropdown",[this.settings]),this.DOM.dropdown.content=this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-wrapper']")},getHeaderRef(){return this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-header']")},getFooterRef(){return this.DOM.dropdown.querySelector("[data-selector='tagify-suggestions-footer']")},getAllSuggestionsRefs(){return[...this.DOM.dropdown.content.querySelectorAll(this.settings.classNames.dropdownItemSelector)]},show(h){var p,y,m,b=this.settings,x="mix"==b.mode&&!b.enforceWhitelist,R="manual"==b.dropdown.position;if(h=void 0===h?this.state.inputText:h,(b.whitelist&&b.whitelist.length||x||b.templates.dropdownItemNoMatch)&&!1!==b.dropdown.enable&&!this.state.isLoading&&!this.settings.readonly){if(clearTimeout(this.dropdownHide__bindEventsTimeout),this.suggestedListItems=this.dropdown.filterListItems(h),h&&!this.suggestedListItems.length&&(this.trigger("dropdown:noMatch",h),b.templates.dropdownItemNoMatch&&(m=b.templates.dropdownItemNoMatch.call(this,{value:h}))),!m){if(this.suggestedListItems.length)h&&x&&!this.state.editing.scope&&!fs(this.suggestedListItems[0].value,h)&&this.suggestedListItems.unshift({value:h});else{if(!h||!x||this.state.editing.scope)return this.input.autocomplete.suggest.call(this),void this.dropdown.hide();this.suggestedListItems=[{value:h}]}y=""+(_r(p=this.suggestedListItems[0])?p.value:p),b.autoComplete&&y&&0==y.indexOf(h)&&this.input.autocomplete.suggest.call(this,p)}this.dropdown.fill(m),b.dropdown.highlightFirst&&this.dropdown.highlightOption(this.DOM.dropdown.content.querySelector(b.classNames.dropdownItemSelector)),this.state.dropdown.visible||setTimeout(this.dropdown.events.binding.bind(this)),this.state.dropdown.visible=h||!0,this.state.dropdown.query=h,this.setStateSelection(),R||setTimeout(()=>{this.dropdown.position(),this.dropdown.render()}),setTimeout(()=>{this.trigger("dropdown:show",this.DOM.dropdown)})}},hide(h){var p=this.DOM,y=p.scope,m=p.dropdown,b="manual"==this.settings.dropdown.position&&!h;if(m&&document.body.contains(m)&&!b)return window.removeEventListener("resize",this.dropdown.position),this.dropdown.events.binding.call(this,!1),y.setAttribute("aria-expanded",!1),m.parentNode.removeChild(m),setTimeout(()=>{this.state.dropdown.visible=!1},100),this.state.dropdown.query=this.state.ddItemData=this.state.ddItemElm=this.state.selection=null,this.state.tag&&this.state.tag.value.length&&(this.state.flaggedTags[this.state.tag.baseOffset]=this.state.tag),this.trigger("dropdown:hide",m),this},toggle(h){this.dropdown[this.state.dropdown.visible&&!h?"hide":"show"]()},render(){var p,y,m=((y=this.DOM.dropdown.cloneNode(!0)).style.cssText="position:fixed; top:-9999px; opacity:0",document.body.appendChild(y),p=y.clientHeight,y.parentNode.removeChild(y),p),b=this.settings;return"number"==typeof b.dropdown.enabled&&b.dropdown.enabled>=0?(this.DOM.scope.setAttribute("aria-expanded",!0),document.body.contains(this.DOM.dropdown)||(this.DOM.dropdown.classList.add(b.classNames.dropdownInital),this.dropdown.position(m),b.dropdown.appendTarget.appendChild(this.DOM.dropdown),setTimeout(()=>this.DOM.dropdown.classList.remove(b.classNames.dropdownInital))),this):this},fill(h){h="string"==typeof h?h:this.dropdown.createListHTML(h||this.suggestedListItems);var p,y=this.settings.templates.dropdownContent.call(this,h);this.DOM.dropdown.content.innerHTML=(p=y)?p.replace(/\>[\r\n ]+\</g,"><").split(/>\s+</).join("><").trim():""},fillHeaderFooter(){var h=this.dropdown.filterListItems(this.state.dropdown.query),p=this.parseTemplate("dropdownHeader",[h]),y=this.parseTemplate("dropdownFooter",[h]),m=this.dropdown.getHeaderRef(),b=this.dropdown.getFooterRef();p&&m?.parentNode.replaceChild(p,m),y&&b?.parentNode.replaceChild(y,b)},refilter(h){this.suggestedListItems=this.dropdown.filterListItems(h=h||this.state.dropdown.query||""),this.dropdown.fill(),this.suggestedListItems.length||this.dropdown.hide(),this.trigger("dropdown:updated",this.DOM.dropdown)},position(h){var p=this.settings.dropdown;if("manual"!=p.position){var y,m,b,x,D,R,F=this.DOM.dropdown,le=p.placeAbove,we=p.appendTarget===document.body,re=we?window.pageYOffset:p.appendTarget.scrollTop,ie=document.fullscreenElement||document.webkitFullscreenElement||document.documentElement,Se=ie.clientHeight,ee=Math.max(ie.clientWidth||0,window.innerWidth||0)>480?p.position:"all",Ye=this.DOM["input"==ee?"input":"scope"];if(h=h||F.clientHeight,this.state.dropdown.visible){if("text"==ee?(b=(y=function(){const Ge=document.getSelection();if(Ge.rangeCount){const Yt=Ge.getRangeAt(0),wt=Yt.startContainer,ui=Yt.startOffset;let Bn,bd;if(ui>0)return bd=document.createRange(),bd.setStart(wt,ui-1),bd.setEnd(wt,ui),Bn=bd.getBoundingClientRect(),{left:Bn.right,top:Bn.top,bottom:Bn.bottom};if(wt.getBoundingClientRect)return wt.getBoundingClientRect()}return{left:-9999,top:-9999}}()).bottom,m=y.top,x=y.left,D="auto"):(R=function(Ge){for(var Yt=0,wt=0;Ge&&Ge!=ie;)Yt+=Ge.offsetLeft||0,wt+=Ge.offsetTop||0,Ge=Ge.parentNode;return{left:Yt,top:wt}}(p.appendTarget),m=(y=Ye.getBoundingClientRect()).top-R.top,b=y.bottom-1-R.top,x=y.left-R.left,D=y.width+"px"),!we){let Ge=function(){for(var Yt=0,wt=p.appendTarget.parentNode;wt;)Yt+=wt.scrollTop||0,wt=wt.parentNode;return Yt}();m+=Ge,b+=Ge}m=Math.floor(m),b=Math.ceil(b),le=void 0===le?Se-y.bottom<h:le,F.style.cssText="left:"+(x+window.pageXOffset)+"px; width:"+D+";"+(le?"top: "+(m+re)+"px":"top: "+(b+re)+"px"),F.setAttribute("placement",le?"top":"bottom"),F.setAttribute("position",ee)}}},events:{binding(){let h=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var p=this.dropdown.events.callbacks,y=this.listeners.dropdown=this.listeners.dropdown||{position:this.dropdown.position.bind(this,null),onKeyDown:p.onKeyDown.bind(this),onMouseOver:p.onMouseOver.bind(this),onMouseLeave:p.onMouseLeave.bind(this),onClick:p.onClick.bind(this),onScroll:p.onScroll.bind(this)},m=h?"addEventListener":"removeEventListener";"manual"!=this.settings.dropdown.position&&(document[m]("scroll",y.position,!0),window[m]("resize",y.position),window[m]("keydown",y.onKeyDown)),this.DOM.dropdown[m]("mouseover",y.onMouseOver),this.DOM.dropdown[m]("mouseleave",y.onMouseLeave),this.DOM.dropdown[m]("mousedown",y.onClick),this.DOM.dropdown.content[m]("scroll",y.onScroll)},callbacks:{onKeyDown(h){if(this.state.hasFocus&&!this.state.composing){var p=this.DOM.dropdown.querySelector(this.settings.classNames.dropdownItemActiveSelector),y=this.dropdown.getSuggestionDataByNode(p);switch(h.key){case"ArrowDown":case"ArrowUp":case"Down":case"Up":h.preventDefault();var m=this.dropdown.getAllSuggestionsRefs(),b="ArrowUp"==h.key||"Up"==h.key;p&&(p=this.dropdown.getNextOrPrevOption(p,!b)),p&&p.matches(this.settings.classNames.dropdownItemSelector)||(p=m[b?m.length-1:0]),this.dropdown.highlightOption(p,!0);break;case"Escape":case"Esc":this.dropdown.hide();break;case"ArrowRight":if(this.state.actions.ArrowLeft)return;case"Tab":if("mix"!=this.settings.mode&&p&&!this.settings.autoComplete.rightKey&&!this.state.editing){h.preventDefault();var x=this.dropdown.getMappedValue(y);return this.input.autocomplete.set.call(this,x),!1}return!0;case"Enter":h.preventDefault(),this.settings.hooks.suggestionClick(h,{tagify:this,tagData:y,suggestionElm:p}).then(()=>{if(p)return this.dropdown.selectOption(p),p=this.dropdown.getNextOrPrevOption(p,!b),void this.dropdown.highlightOption(p);this.dropdown.hide(),"mix"!=this.settings.mode&&this.addTags(this.state.inputText.trim(),!0)}).catch(D=>D);break;case"Backspace":{if("mix"==this.settings.mode||this.state.editing.scope)return;const D=this.input.raw.call(this);""!=D&&8203!=D.charCodeAt(0)||(!0===this.settings.backspace?this.removeTags():"edit"==this.settings.backspace&&setTimeout(this.editTag.bind(this),0))}}}},onMouseOver(h){var p=h.target.closest(this.settings.classNames.dropdownItemSelector);p&&this.dropdown.highlightOption(p)},onMouseLeave(h){this.dropdown.highlightOption()},onClick(h){if(0==h.button&&h.target!=this.DOM.dropdown&&h.target!=this.DOM.dropdown.content){var p=h.target.closest(this.settings.classNames.dropdownItemSelector),y=this.dropdown.getSuggestionDataByNode(p);this.state.actions.selectOption=!0,setTimeout(()=>this.state.actions.selectOption=!1,50),this.settings.hooks.suggestionClick(h,{tagify:this,tagData:y,suggestionElm:p}).then(()=>{p?this.dropdown.selectOption(p,h):this.dropdown.hide()}).catch(m=>console.warn(m))}},onScroll(h){var p=h.target;this.trigger("dropdown:scroll",{percentage:Math.round(p.scrollTop/(p.scrollHeight-p.parentNode.clientHeight)*100)})}}},getSuggestionDataByNode(h){var p=h&&h.getAttribute("value");return this.suggestedListItems.find(y=>y.value==p)||null},getNextOrPrevOption(h){let p=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var y=this.dropdown.getAllSuggestionsRefs(),m=y.findIndex(b=>b===h);return p?y[m+1]:y[m-1]},highlightOption(h,p){var y,m=this.settings.classNames.dropdownItemActive;if(this.state.ddItemElm&&(this.state.ddItemElm.classList.remove(m),this.state.ddItemElm.removeAttribute("aria-selected")),!h)return this.state.ddItemData=null,this.state.ddItemElm=null,void this.input.autocomplete.suggest.call(this);y=this.dropdown.getSuggestionDataByNode(h),this.state.ddItemData=y,this.state.ddItemElm=h,h.classList.add(m),h.setAttribute("aria-selected",!0),p&&(h.parentNode.scrollTop=h.clientHeight+h.offsetTop-h.parentNode.clientHeight),this.settings.autoComplete&&(this.input.autocomplete.suggest.call(this,y),this.dropdown.position())},selectOption(h,p){var y=this.settings.dropdown,m=y.clearOnSelect,b=y.closeOnSelect;if(!h)return this.addTags(this.state.inputText,!0),void(b&&this.dropdown.hide());p=p||{};var x=h.getAttribute("value"),D="noMatch"==x,R=this.suggestedListItems.find(F=>(F.value??F)==x);this.trigger("dropdown:select",{data:R,elm:h,event:p}),x&&(R||D)?(this.state.editing?this.onEditTagDone(null,Nt({__isValid:!0},this.normalizeTags([R])[0])):this["mix"==this.settings.mode?"addMixTags":"addTags"]([R||this.input.raw.call(this)],m),this.DOM.input.parentNode&&(setTimeout(()=>{this.DOM.input.focus(),this.toggleFocusClass(!0)}),b&&setTimeout(this.dropdown.hide.bind(this)),h.addEventListener("transitionend",()=>{this.dropdown.fillHeaderFooter(),setTimeout(()=>h.remove(),100)},{once:!0}),h.classList.add(this.settings.classNames.dropdownItemHidden))):b&&setTimeout(this.dropdown.hide.bind(this))},selectAll(h){this.suggestedListItems.length=0,this.dropdown.hide(),this.dropdown.filterListItems("");var p=this.dropdown.filterListItems("");return h||(p=this.state.dropdown.suggestions),this.addTags(p,!0),this},filterListItems(h,p){var y,m,b,x,D,R=this.settings,F=R.dropdown,le=(p=p||{},[]),we=[],re=R.whitelist,ie=F.maxItems>=0?F.maxItems:1/0,Se=F.searchKeys,ee=0;if(!(h="select"==R.mode&&this.value.length&&this.value[0][R.tagTextProp]==h?"":h)||!Se.length)return le=F.includeSelectedTags?re:re.filter(Ge=>!this.isTagDuplicate(_r(Ge)?Ge.value:Ge)),this.state.dropdown.suggestions=le,le.slice(0,ie);function Ye(Ge,Yt){return Yt.toLowerCase().split(" ").every(wt=>Ge.includes(wt.toLowerCase()))}for(D=F.caseSensitive?""+h:(""+h).toLowerCase();ee<re.length;ee++){let Ge,Yt;y=re[ee]instanceof Object?re[ee]:{value:re[ee]};let wt=Object.keys(y).some(ui=>Se.includes(ui))?Se:["value"];F.fuzzySearch&&!p.exact?(b=wt.reduce((ui,Bn)=>ui+" "+(y[Bn]||""),"").toLowerCase().trim(),F.accentedSearch&&(b=Gc(b),D=Gc(D)),Ge=0==b.indexOf(D),Yt=b===D,m=Ye(b,D)):(Ge=!0,m=wt.some(ui=>{var Bn=""+(y[ui]||"");return F.accentedSearch&&(Bn=Gc(Bn),D=Gc(D)),F.caseSensitive||(Bn=Bn.toLowerCase()),Yt=Bn===D,p.exact?Bn===D:0==Bn.indexOf(D)})),x=!F.includeSelectedTags&&this.isTagDuplicate(_r(y)?y.value:y),m&&!x&&(Yt&&Ge?we.push(y):"startsWith"==F.sortby&&Ge?le.unshift(y):le.push(y))}return this.state.dropdown.suggestions=we.concat(le),"function"==typeof F.sortby?F.sortby(we.concat(le),D):we.concat(le).slice(0,ie)},getMappedValue(h){var p=this.settings.dropdown.mapValueTo;return p?"function"==typeof p?p(h):h[p]||h.value:h.value},createListHTML(h){return Nt([],h).map((p,y)=>{"string"!=typeof p&&"number"!=typeof p||(p={value:p});var m=this.dropdown.getMappedValue(p);return m="string"==typeof m?Zn(m):m,this.settings.templates.dropdownItem.apply(this,[Si(Si({},p),{},{mappedValue:m}),this])}).join("")}};const li="@yaireo/tagify/";var ya,SI={empty:"empty",exceed:"number of tags exceeded",pattern:"pattern mismatch",duplicate:"already exists",notAllowed:"not allowed"},AI={customBinding(){this.customEventsList.forEach(h=>{this.on(h,this.settings.callbacks[h])})},binding(){let h=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];var p,y=this.events.callbacks,m=h?"addEventListener":"removeEventListener";if(!this.state.mainEvents||!h){for(var b in this.state.mainEvents=h,h&&!this.listeners.main&&(this.events.bindGlobal.call(this),this.settings.isJQueryPlugin&&jQuery(this.DOM.originalInput).on("tagify.removeAllTags",this.removeAllTags.bind(this))),p=this.listeners.main=this.listeners.main||{focus:["input",y.onFocusBlur.bind(this)],keydown:["input",y.onKeydown.bind(this)],click:["scope",y.onClickScope.bind(this)],dblclick:["scope",y.onDoubleClickScope.bind(this)],paste:["input",y.onPaste.bind(this)],drop:["input",y.onDrop.bind(this)],compositionstart:["input",y.onCompositionStart.bind(this)],compositionend:["input",y.onCompositionEnd.bind(this)]})this.DOM[p[b][0]][m](b,p[b][1]);clearInterval(this.listeners.main.originalInputValueObserverInterval),this.listeners.main.originalInputValueObserverInterval=setInterval(y.observeOriginalInputValue.bind(this),500);var x=this.listeners.main.inputMutationObserver||new MutationObserver(y.onInputDOMChange.bind(this));x.disconnect(),"mix"==this.settings.mode&&x.observe(this.DOM.input,{childList:!0})}},bindGlobal(h){var p,y=this.events.callbacks,m=h?"removeEventListener":"addEventListener";if(this.listeners&&(h||!this.listeners.global))for(p of(this.listeners.global=this.listeners.global||[{type:this.isIE?"keydown":"input",target:this.DOM.input,cb:y[this.isIE?"onInputIE":"onInput"].bind(this)},{type:"keydown",target:window,cb:y.onWindowKeyDown.bind(this)},{type:"blur",target:this.DOM.input,cb:y.onFocusBlur.bind(this)},{type:"click",target:document,cb:y.onClickAnywhere.bind(this)}],this.listeners.global))p.target[m](p.type,p.cb)},unbindGlobal(){this.events.bindGlobal.call(this,!0)},callbacks:{onFocusBlur(h){var p=this.settings,y=h.target?this.trim(h.target.textContent):"",m=this.value?.[0]?.[p.tagTextProp],b=h.type,x=p.dropdown.enabled>=0,D={relatedTarget:h.relatedTarget},R=this.state.actions.selectOption&&(x||!p.dropdown.closeOnSelect),F=this.state.actions.addNew&&x,le=h.relatedTarget&&Ai.call(this,h.relatedTarget)&&this.DOM.scope.contains(h.relatedTarget);if("blur"==b){if(h.relatedTarget===this.DOM.scope)return this.dropdown.hide(),void this.DOM.input.focus();this.postUpdate(),p.onChangeAfterBlur&&this.triggerChangeEvent()}if(!R&&!F)if(this.state.hasFocus="focus"==b&&+new Date,this.toggleFocusClass(this.state.hasFocus),"mix"!=p.mode){if("focus"==b)return this.trigger("focus",D),void(0!==p.dropdown.enabled&&p.userInput||this.dropdown.show(this.value.length?"":void 0));"blur"==b&&(this.trigger("blur",D),this.loading(!1),"select"==p.mode&&(le&&(this.removeTags(),y=""),m===y&&(y="")),y&&!this.state.actions.selectOption&&p.addTagOnBlur&&this.addTags(y,!0)),this.DOM.input.removeAttribute("style"),this.dropdown.hide()}else"focus"==b?this.trigger("focus",D):"blur"==h.type&&(this.trigger("blur",D),this.loading(!1),this.dropdown.hide(),this.state.dropdown.visible=void 0,this.setStateSelection())},onCompositionStart(h){this.state.composing=!0},onCompositionEnd(h){this.state.composing=!1},onWindowKeyDown(h){var p,y=document.activeElement,m=Ai.call(this,y)&&this.DOM.scope.contains(document.activeElement),b=m&&y.hasAttribute("readonly");if(m&&!b)switch(p=y.nextElementSibling,h.key){case"Backspace":this.settings.readonly||(this.removeTags(y),(p||this.DOM.input).focus());break;case"Enter":setTimeout(this.editTag.bind(this),0,y)}},onKeydown(h){var p=this.settings;if(!this.state.composing&&p.userInput){"select"==p.mode&&p.enforceWhitelist&&this.value.length&&"Tab"!=h.key&&h.preventDefault();var y=this.trim(h.target.textContent);if(this.trigger("keydown",{event:h}),"mix"==p.mode){switch(h.key){case"Left":case"ArrowLeft":this.state.actions.ArrowLeft=!0;break;case"Delete":case"Backspace":if(this.state.editing)return;var m=document.getSelection(),b="Delete"==h.key&&m.anchorOffset==(m.anchorNode.length||0),x=m.anchorNode.previousSibling,D=1==m.anchorNode.nodeType||!m.anchorOffset&&x&&1==x.nodeType&&m.anchorNode.previousSibling;yd(this.DOM.input.innerHTML);var R,F,le,we=this.getTagElms(),re=1===m.anchorNode.length&&m.anchorNode.nodeValue==String.fromCharCode(8203);if("edit"==p.backspace&&D)return R=1==m.anchorNode.nodeType?null:m.anchorNode.previousElementSibling,setTimeout(this.editTag.bind(this),0,R),void h.preventDefault();if(Cg()&&D instanceof Element)return le=vd(D),D.hasAttribute("readonly")||D.remove(),this.DOM.input.focus(),void setTimeout(()=>{ps(le),this.DOM.input.click()});if("BR"==m.anchorNode.nodeName)return;if((b||D)&&1==m.anchorNode.nodeType?F=0==m.anchorOffset?b?we[0]:null:we[Math.min(we.length,m.anchorOffset)-1]:b?F=m.anchorNode.nextElementSibling:D instanceof Element&&(F=D),3==m.anchorNode.nodeType&&!m.anchorNode.nodeValue&&m.anchorNode.previousElementSibling&&h.preventDefault(),(D||b)&&!p.backspace||"Range"!=m.type&&!m.anchorOffset&&m.anchorNode==this.DOM.input&&"Delete"!=h.key)return void h.preventDefault();if("Range"!=m.type&&F&&F.hasAttribute("readonly"))return void ps(vd(F));"Delete"==h.key&&re&&He(m.anchorNode.nextSibling)&&this.removeTags(m.anchorNode.nextSibling),clearTimeout(ya),ya=setTimeout(()=>{document.getSelection(),yd(this.DOM.input.innerHTML),this.value=[].map.call(we,(Se,ee)=>{var Ye=He(Se);if(Se.parentNode||Ye.readonly)return Ye;this.trigger("remove",{tag:Se,index:ee,data:Ye})}).filter(Se=>Se)},20)}return!0}switch(h.key){case"Backspace":"select"==p.mode&&p.enforceWhitelist&&this.value.length?this.removeTags():this.state.dropdown.visible&&"manual"!=p.dropdown.position||""!=h.target.textContent&&8203!=y.charCodeAt(0)||(!0===p.backspace?this.removeTags():"edit"==p.backspace&&setTimeout(this.editTag.bind(this),0));break;case"Esc":case"Escape":if(this.state.dropdown.visible)return;h.target.blur();break;case"Down":case"ArrowDown":this.state.dropdown.visible||this.dropdown.show();break;case"ArrowRight":{let ie=this.state.inputSuggestion||this.state.ddItemData;if(ie&&p.autoComplete.rightKey)return void this.addTags([ie],!0);break}case"Tab":if(!y||"select"==p.mode)return!0;h.preventDefault();case"Enter":if(this.state.dropdown.visible&&"manual"!=p.dropdown.position)return;h.preventDefault(),setTimeout(()=>{this.state.dropdown.visible||this.state.actions.selectOption||this.addTags(y,!0)})}}},onInput(h){this.postUpdate();var p=this.settings;if("mix"==p.mode)return this.events.callbacks.onMixTagsInput.call(this,h);var y=this.input.normalize.call(this),m=y.length>=p.dropdown.enabled,b={value:y,inputElm:this.DOM.input},x=this.validateTag({value:y});"select"==p.mode&&this.toggleScopeValidation(x),b.isValid=x,this.state.inputText!=y&&(this.input.set.call(this,y,!1),-1!=y.search(p.delimiters)?this.addTags(y)&&this.input.set.call(this):p.dropdown.enabled>=0&&this.dropdown[m?"show":"hide"](y),this.trigger("input",b))},onMixTagsInput(h){var p,y,m,b,x,D,R,F,le=this.settings,we=this.value.length,re=this.getTagElms(),ie=document.createDocumentFragment(),Se=window.getSelection().getRangeAt(0),ee=[].map.call(re,Ye=>He(Ye).value);if("deleteContentBackward"==h.inputType&&Cg()&&this.events.callbacks.onKeydown.call(this,{target:h.target,key:"Backspace"}),zc(this.getTagElms()),this.value.slice().forEach(Ye=>{Ye.readonly&&!ee.includes(Ye.value)&&ie.appendChild(this.createTagElem(Ye))}),ie.childNodes.length&&(Se.insertNode(ie),this.setRangeAtStartEnd(!1,ie.lastChild)),re.length!=we)return this.value=[].map.call(this.getTagElms(),Ye=>He(Ye)),void this.update({withoutChangeEvent:!0});if(this.hasMaxTags())return!0;if(window.getSelection&&(D=window.getSelection()).rangeCount>0&&3==D.anchorNode.nodeType){if((Se=D.getRangeAt(0).cloneRange()).collapse(!0),Se.setStart(D.focusNode,0),m=(p=Se.toString().slice(0,Se.endOffset)).split(le.pattern).length-1,(y=p.match(le.pattern))&&(b=p.slice(p.lastIndexOf(y[y.length-1]))),b){if(this.state.actions.ArrowLeft=!1,this.state.tag={prefix:b.match(le.pattern)[0],value:b.replace(le.pattern,"")},this.state.tag.baseOffset=D.baseOffset-this.state.tag.value.length,F=this.state.tag.value.match(le.delimiters))return this.state.tag.value=this.state.tag.value.replace(le.delimiters,""),this.state.tag.delimiters=F[0],this.addTags(this.state.tag.value,le.dropdown.clearOnSelect),void this.dropdown.hide();x=this.state.tag.value.length>=le.dropdown.enabled;try{R=(R=this.state.flaggedTags[this.state.tag.baseOffset]).prefix==this.state.tag.prefix&&R.value[0]==this.state.tag.value[0],this.state.flaggedTags[this.state.tag.baseOffset]&&!this.state.tag.value&&delete this.state.flaggedTags[this.state.tag.baseOffset]}catch{}(R||m<this.state.mixMode.matchedPatternCount)&&(x=!1)}else this.state.flaggedTags={};this.state.mixMode.matchedPatternCount=m}setTimeout(()=>{this.update({withoutChangeEvent:!0}),this.trigger("input",Nt({},this.state.tag,{textContent:this.DOM.input.textContent})),this.state.tag&&this.dropdown[x?"show":"hide"](this.state.tag.value)},10)},onInputIE(h){var p=this;setTimeout(function(){p.events.callbacks.onInput.call(p,h)})},observeOriginalInputValue(){this.DOM.originalInput.parentNode||this.destroy(),this.DOM.originalInput.value!=this.DOM.originalInput.tagifyValue&&this.loadOriginalValues()},onClickAnywhere(h){h.target==this.DOM.scope||this.DOM.scope.contains(h.target)||(this.toggleFocusClass(!1),this.state.hasFocus=!1)},onClickScope(h){var p=this.settings,y=h.target.closest("."+p.classNames.tag),m=+new Date-this.state.hasFocus;if(h.target!=this.DOM.scope){if(!h.target.classList.contains(p.classNames.tagX))return y?(this.trigger("click",{tag:y,index:this.getNodeIndex(y),data:He(y),event:h}),void(1!==p.editTags&&1!==p.editTags.clicks||this.events.callbacks.onDoubleClickScope.call(this,h))):void(h.target==this.DOM.input&&("mix"==p.mode&&this.fixFirefoxLastTagNoCaret(),m>500)?this.state.dropdown.visible?this.dropdown.hide():0===p.dropdown.enabled&&"mix"!=p.mode&&this.dropdown.show(this.value.length?"":void 0):"select"!=p.mode||0!==p.dropdown.enabled||this.state.dropdown.visible||this.dropdown.show());this.removeTags(h.target.parentNode)}else this.DOM.input.focus()},onPaste(h){h.preventDefault();var p,y,m=this.settings;if("select"==m.mode&&m.enforceWhitelist||!m.userInput)return!1;m.readonly||(p=h.clipboardData||window.clipboardData,y=p.getData("Text"),m.hooks.beforePaste(h,{tagify:this,pastedText:y,clipboardData:p}).then(b=>{void 0===b&&(b=y),b&&(this.injectAtCaret(b,window.getSelection().getRangeAt(0)),"mix"==this.settings.mode?this.events.callbacks.onMixTagsInput.call(this,h):this.settings.pasteAsTags?this.addTags(this.state.inputText+b,!0):this.state.inputText=b)}).catch(b=>b))},onDrop(h){h.preventDefault()},onEditTagInput(h,p){var y=h.closest("."+this.settings.classNames.tag),m=this.getNodeIndex(y),b=He(y),x=this.input.normalize.call(this,h),D={[this.settings.tagTextProp]:x,__tagId:b.__tagId},R=this.validateTag(D);this.editTagChangeDetected(Nt(b,D))||!0!==h.originalIsValid||(R=!0),y.classList.toggle(this.settings.classNames.tagInvalid,!0!==R),b.__isValid=R,y.title=!0===R?b.title||b.value:R,x.length>=this.settings.dropdown.enabled&&(this.state.editing&&(this.state.editing.value=x),this.dropdown.show(x)),this.trigger("edit:input",{tag:y,index:m,data:Nt({},this.value[m],{newValue:x}),event:p})},onEditTagPaste(h,p){var y=(p.clipboardData||window.clipboardData).getData("Text");p.preventDefault();var m=xi(y);this.setRangeAtStartEnd(!1,m)},onEditTagFocus(h){this.state.editing={scope:h,input:h.querySelector("[contenteditable]")}},onEditTagBlur(h){if(this.state.hasFocus||this.toggleFocusClass(),this.DOM.scope.contains(h)){var p,y,m=this.settings,b=h.closest("."+m.classNames.tag),x=He(b),D=this.input.normalize.call(this,h),R={[m.tagTextProp]:D,__tagId:x.__tagId},F=x.__originalData,le=this.editTagChangeDetected(Nt(x,R)),we=this.validateTag(R);if(D)if(le){if(p=this.hasMaxTags(),y=Nt({},F,{[m.tagTextProp]:this.trim(D),__isValid:we}),m.transformTag.call(this,y,F),!0!==(we=(!p||!0===F.__isValid)&&this.validateTag(y))){if(this.trigger("invalid",{data:y,tag:b,message:we}),m.editTags.keepInvalid)return;m.keepInvalidTags?y.__isValid=we:y=F}else m.keepInvalidTags&&(delete y.title,delete y["aria-invalid"],delete y.class);this.onEditTagDone(b,y)}else this.onEditTagDone(b,F);else this.onEditTagDone(b)}},onEditTagkeydown(h,p){if(!this.state.composing)switch(this.trigger("edit:keydown",{event:h}),h.key){case"Esc":case"Escape":p.parentNode.replaceChild(p.__tagifyTagData.__originalHTML,p),this.state.editing=!1;case"Enter":case"Tab":h.preventDefault(),h.target.blur()}},onDoubleClickScope(h){var p,y,m=h.target.closest("."+this.settings.classNames.tag),b=He(m),x=this.settings;m&&x.userInput&&!1!==b.editable&&(p=m.classList.contains(this.settings.classNames.tagEditing),y=m.hasAttribute("readonly"),"select"==x.mode||x.readonly||p||y||!this.settings.editTags||this.editTag(m),this.toggleFocusClass(!0),this.trigger("dblclick",{tag:m,index:this.getNodeIndex(m),data:He(m)}))},onInputDOMChange(h){h.forEach(y=>{y.addedNodes.forEach(m=>{if("<div><br></div>"==m.outerHTML)m.replaceWith(document.createElement("br"));else if(1==m.nodeType&&m.querySelector(this.settings.classNames.tagSelector)){let b=document.createTextNode("");3==m.childNodes[0].nodeType&&"BR"!=m.previousSibling.nodeName&&(b=document.createTextNode("\n")),m.replaceWith(b,...[...m.childNodes].slice(0,-1)),ps(b)}else if(Ai.call(this,m))if(3!=m.previousSibling?.nodeType||m.previousSibling.textContent||m.previousSibling.remove(),m.previousSibling&&"BR"==m.previousSibling.nodeName){m.previousSibling.replaceWith("\n\u200b");let b=m.nextSibling,x="";for(;b;)x+=b.textContent,b=b.nextSibling;x.trim()&&ps(m.previousSibling)}else m.previousSibling&&!He(m.previousSibling)||m.before("\u200b")}),y.removedNodes.forEach(m=>{m&&"BR"==m.nodeName&&Ai.call(this,p)&&(this.removeTags(p),this.fixFirefoxLastTagNoCaret())})});var p=this.DOM.input.lastChild;p&&""==p.nodeValue&&p.remove(),p&&"BR"==p.nodeName||this.DOM.input.appendChild(document.createElement("br"))}}};function oo(h,p){if(!h){console.warn("Tagify:","input element not found",h);const m=new Proxy(this,{get:()=>()=>m});return m}if(h.__tagify)return console.warn("Tagify: ","input element is already Tagified - Same instance is returned.",h),h.__tagify;var y,m;Nt(this,function(m){var b=document.createTextNode("");function x(D,R,F){F&&R.split(/\s+/g).forEach(le=>b[D+"EventListener"].call(b,le,F))}return{off(D,R){return x("remove",D,R),this},on(D,R){return R&&"function"==typeof R&&x("add",D,R),this},trigger(D,R,F){var le;if(F=F||{cloneData:!0},D)if(m.settings.isJQueryPlugin)"remove"==D&&(D="removeTag"),jQuery(m.DOM.originalInput).triggerHandler(D,[R]);else{try{var we="object"==typeof R?R:{value:R};if((we=F.cloneData?Nt({},we):we).tagify=this,R.event&&(we.event=this.cloneEvent(R.event)),R instanceof Object)for(var re in R)R[re]instanceof HTMLElement&&(we[re]=R[re]);le=new CustomEvent(D,{detail:we})}catch(ie){console.warn(ie)}b.dispatchEvent(le)}}}}(this)),this.isFirefox=/firefox|fxios/i.test(navigator.userAgent)&&!/seamonkey/i.test(navigator.userAgent),this.isIE=window.document.documentMode,this.getPersistedData=(y=(p=p||{}).id,m=>{let b,x="/"+m;if(1==localStorage.getItem(li+y+"/v",1))try{b=JSON.parse(localStorage[li+y+x])}catch{}return b}),this.setPersistedData=(m=p.id)?(localStorage.setItem(li+m+"/v",1),(b,x)=>{let D="/"+x,R=JSON.stringify(b);b&&x&&(localStorage.setItem(li+m+D,R),dispatchEvent(new Event("storage")))}):()=>{},this.clearPersistedData=(m=>b=>{const x=li+"/"+m+"/";if(b)localStorage.removeItem(x+b);else for(let D in localStorage)D.includes(x)&&localStorage.removeItem(D)})(p.id),this.applySettings(h,p),this.state={inputText:"",editing:!1,composing:!1,actions:{},mixMode:{},dropdown:{},flaggedTags:{}},this.value=[],this.listeners={},this.DOM={},this.build(h),Id.call(this),this.getCSSVars(),this.loadOriginalValues(),this.events.customBinding.call(this),this.events.binding.call(this),h.autofocus&&this.DOM.input.focus(),h.__tagify=this}return oo.prototype={_dropdown:DI,getSetTagData:He,helpers:{sameStr:fs,removeCollectionProp:_a,omit:rn,isObject:_r,parseHTML:$c,escapeHTML:Zn,extend:Nt,concatWithoutDups:Hc,getUID:Dg,isNodeTag:Ai},customEventsList:["change","add","remove","invalid","input","click","keydown","focus","blur","edit:input","edit:beforeUpdate","edit:updated","edit:start","edit:keydown","dropdown:show","dropdown:hide","dropdown:select","dropdown:updated","dropdown:noMatch","dropdown:scroll"],dataProps:["__isValid","__removed","__originalData","__originalHTML","__tagId"],trim(h){return this.settings.trim&&h&&"string"==typeof h?h.trim():h},parseHTML:$c,templates:{wrapper:(h,p)=>`<tags class="${p.classNames.namespace} ${p.mode?`${p.classNames[p.mode+"Mode"]}`:""} ${h.className}"\n                    ${p.readonly?"readonly":""}\n                    ${p.disabled?"disabled":""}\n                    ${p.required?"required":""}\n                    ${"select"===p.mode?"spellcheck='false'":""}\n                    tabIndex="-1">\n            <span ${!p.readonly&&p.userInput?"contenteditable":""} tabIndex="0" data-placeholder="${p.placeholder||"&#8203;"}" aria-placeholder="${p.placeholder||""}"\n                class="${p.classNames.input}"\n                role="textbox"\n                aria-autocomplete="both"\n                aria-multiline="${"mix"==p.mode}"></span>\n                &#8203;\n        </tags>`,tag(h,p){let y=p.settings;return`<tag title="${h.title||h.value}"\n                    contenteditable='false'\n                    spellcheck='false'\n                    tabIndex="${y.a11y.focusableTags?0:-1}"\n                    class="${y.classNames.tag} ${h.class||""}"\n                    ${this.getAttributes(h)}>\n            <x title='' class="${y.classNames.tagX}" role='button' aria-label='remove tag'></x>\n            <div>\n                <span class="${y.classNames.tagText}">${h[y.tagTextProp]||h.value}</span>\n            </div>\n        </tag>`},dropdown(h){var p=h.dropdown;return`<div class="${"manual"==p.position?"":`${h.classNames.dropdown}`} ${p.classname}" role="listbox" aria-labelledby="dropdown">\n                    <div data-selector='tagify-suggestions-wrapper' class="${h.classNames.dropdownWrapper}"></div>\n                </div>`},dropdownContent(h){var p=this.settings,y=this.state.dropdown.suggestions;return`\n            ${p.templates.dropdownHeader.call(this,y)}\n            ${h}\n            ${p.templates.dropdownFooter.call(this,y)}\n        `},dropdownItem(h){return`<div ${this.getAttributes(h)}\n                    class='${this.settings.classNames.dropdownItem} ${h.class?h.class:""}'\n                    tabindex="0"\n                    role="option">${h.mappedValue||h.value}</div>`},dropdownHeader(h){return`<header data-selector='tagify-suggestions-header' class="${this.settings.classNames.dropdownHeader}"></header>`},dropdownFooter(h){var p=h.length-this.settings.dropdown.maxItems;return p>0?`<footer data-selector='tagify-suggestions-footer' class="${this.settings.classNames.dropdownFooter}">\n                ${p} more items. Refine your search.\n            </footer>`:""},dropdownItemNoMatch:null},parseTemplate(h,p){return $c((h=this.settings.templates[h]||h).apply(this,p))},set whitelist(h){const p=h&&Array.isArray(h);this.settings.whitelist=p?h:[],this.setPersistedData(p?h:[],"whitelist")},get whitelist(){return this.settings.whitelist},generateClassSelectors(h){for(let p in h){let y=p;Object.defineProperty(h,y+"Selector",{get(){return"."+this[y].split(" ")[0]}})}},applySettings(h,p){wd.templates=this.templates;var y=Nt({},wd,"mix"==p.mode?{dropdown:{position:"text"}}:{}),m=this.settings=Nt({},y,p);if(m.disabled=h.hasAttribute("disabled"),m.readonly=m.readonly||h.hasAttribute("readonly"),m.placeholder=Zn(h.getAttribute("placeholder")||m.placeholder||""),m.required=h.hasAttribute("required"),this.generateClassSelectors(m.classNames),void 0===m.dropdown.includeSelectedTags&&(m.dropdown.includeSelectedTags=m.duplicates),this.isIE&&(m.autoComplete=!1),["whitelist","blacklist"].forEach(x=>{var D=h.getAttribute("data-"+x);D&&(D=D.split(m.delimiters))instanceof Array&&(m[x]=D)}),"autoComplete"in p&&!_r(p.autoComplete)&&(m.autoComplete=wd.autoComplete,m.autoComplete.enabled=p.autoComplete),"mix"==m.mode&&(m.pattern=m.pattern||/@/,m.autoComplete.rightKey=!0,m.delimiters=p.delimiters||null,m.tagTextProp&&!m.dropdown.searchKeys.includes(m.tagTextProp)&&m.dropdown.searchKeys.push(m.tagTextProp)),h.pattern)try{m.pattern=new RegExp(h.pattern)}catch{}if(m.delimiters){m._delimiters=m.delimiters;try{m.delimiters=new RegExp(this.settings.delimiters,"g")}catch{}}m.disabled&&(m.userInput=!1),this.TEXTS=Si(Si({},SI),m.texts||{}),("select"!=m.mode||p.dropdown?.enabled)&&m.userInput||(m.dropdown.enabled=0),m.dropdown.appendTarget=p.dropdown?.appendTarget||document.body;let b=this.getPersistedData("whitelist");Array.isArray(b)&&(this.whitelist=Array.isArray(m.whitelist)?Hc(m.whitelist,b):b)},getAttributes(h){var p,y=this.getCustomAttributes(h),m="";for(p in y)m+=" "+p+(void 0!==h[p]?`="${y[p]}"`:"");return m},getCustomAttributes(h){if(!_r(h))return"";var p,y={};for(p in h)"__"!=p.slice(0,2)&&"class"!=p&&h.hasOwnProperty(p)&&void 0!==h[p]&&(y[p]=Zn(h[p]));return y},setStateSelection(){var h=window.getSelection(),p={anchorOffset:h.anchorOffset,anchorNode:h.anchorNode,range:h.getRangeAt&&h.rangeCount&&h.getRangeAt(0)};return this.state.selection=p,p},getCSSVars(){var h=getComputedStyle(this.DOM.scope,null);this.CSSVars={tagHideTransition:(y=>{let m=y.value;return"s"==y.unit?1e3*m:m})(function(y){if(!y)return{};var m=(y=y.trim().split(" ")[0]).split(/\d+/g).filter(b=>b).pop().trim();return{value:+y.split(m).filter(b=>b)[0].trim(),unit:m}}(("tag-hide-transition",h.getPropertyValue("--tag-hide-transition"))))}},build(h){var p=this.DOM;this.settings.mixMode.integrated?(p.originalInput=null,p.scope=h,p.input=h):(p.originalInput=h,p.originalInput_tabIndex=h.tabIndex,p.scope=this.parseTemplate("wrapper",[h,this.settings]),p.input=p.scope.querySelector(this.settings.classNames.inputSelector),h.parentNode.insertBefore(p.scope,h),h.tabIndex=-1)},destroy(){this.events.unbindGlobal.call(this),this.DOM.scope.parentNode.removeChild(this.DOM.scope),this.DOM.originalInput.tabIndex=this.DOM.originalInput_tabIndex,delete this.DOM.originalInput.__tagify,this.dropdown.hide(!0),clearTimeout(this.dropdownHide__bindEventsTimeout),clearInterval(this.listeners.main.originalInputValueObserverInterval)},loadOriginalValues(h){var p,y=this.settings;if(this.state.blockChangeEvent=!0,void 0===h){const m=this.getPersistedData("value");h=m&&!this.DOM.originalInput.value?m:y.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value}if(this.removeAllTags(),h)if("mix"==y.mode)this.parseMixTags(h),(p=this.DOM.input.lastChild)&&"BR"==p.tagName||this.DOM.input.insertAdjacentHTML("beforeend","<br>");else{try{JSON.parse(h)instanceof Array&&(h=JSON.parse(h))}catch{}this.addTags(h,!0).forEach(m=>m&&m.classList.add(y.classNames.tagNoAnimation))}else this.postUpdate();this.state.lastOriginalValueReported=y.mixMode.integrated?"":this.DOM.originalInput.value},cloneEvent(h){var p={};for(var y in h)"path"!=y&&(p[y]=h[y]);return p},loading(h){return this.state.isLoading=h,this.DOM.scope.classList[h?"add":"remove"](this.settings.classNames.scopeLoading),this},tagLoading(h,p){return h&&h.classList[p?"add":"remove"](this.settings.classNames.tagLoading),this},toggleClass(h,p){"string"==typeof h&&this.DOM.scope.classList.toggle(h,p)},toggleScopeValidation(h){var p=!0===h||void 0===h;!this.settings.required&&h&&h===this.TEXTS.empty&&(p=!0),this.toggleClass(this.settings.classNames.tagInvalid,!p),this.DOM.scope.title=p?"":h},toggleFocusClass(h){this.toggleClass(this.settings.classNames.focus,!!h)},triggerChangeEvent:function(){if(!this.settings.mixMode.integrated){var h=this.DOM.originalInput,p=this.state.lastOriginalValueReported!==h.value,y=new CustomEvent("change",{bubbles:!0});p&&(this.state.lastOriginalValueReported=h.value,y.simulated=!0,h._valueTracker&&h._valueTracker.setValue(Math.random()),h.dispatchEvent(y),this.trigger("change",this.state.lastOriginalValueReported),h.value=this.state.lastOriginalValueReported)}},events:AI,fixFirefoxLastTagNoCaret(){},setRangeAtStartEnd(h,p){if(p){h="number"==typeof h?h:!!h,p=p.lastChild||p;var y=document.getSelection();if(y.focusNode instanceof Element&&!this.DOM.input.contains(y.focusNode))return!0;try{y.rangeCount>=1&&["Start","End"].forEach(m=>y.getRangeAt(0)["set"+m](p,h||p.length))}catch{}}},insertAfterTag(h,p){if(p=p||this.settings.mixMode.insertAfterTag,h&&h.parentNode&&p)return p="string"==typeof p?document.createTextNode(p):p,h.parentNode.insertBefore(p,h.nextSibling),p},editTagChangeDetected(h){var p=h.__originalData;for(var y in p)if(!this.dataProps.includes(y)&&h[y]!=p[y])return!0;return!1},getTagTextNode(h){return h.querySelector(this.settings.classNames.tagTextSelector)},setTagTextNode(h,p){this.getTagTextNode(h).innerHTML=Zn(p)},editTag(h,p){h=h||this.getLastTag(),p=p||{},this.dropdown.hide();var y=this.settings,m=this.getTagTextNode(h),b=this.getNodeIndex(h),x=He(h),D=this.events.callbacks,R=this,F=!0;if(m){if(!(x instanceof Object&&"editable"in x)||x.editable)return x=He(h,{__originalData:Nt({},x),__originalHTML:h.cloneNode(!0)}),He(x.__originalHTML,x.__originalData),m.setAttribute("contenteditable",!0),h.classList.add(y.classNames.tagEditing),m.addEventListener("focus",D.onEditTagFocus.bind(this,h)),m.addEventListener("blur",function(){setTimeout(()=>D.onEditTagBlur.call(R,R.getTagTextNode(h)))}),m.addEventListener("input",D.onEditTagInput.bind(this,m)),m.addEventListener("paste",D.onEditTagPaste.bind(this,m)),m.addEventListener("keydown",le=>D.onEditTagkeydown.call(this,le,h)),m.addEventListener("compositionstart",D.onCompositionStart.bind(this)),m.addEventListener("compositionend",D.onCompositionEnd.bind(this)),p.skipValidation||(F=this.editTagToggleValidity(h)),m.originalIsValid=F,this.trigger("edit:start",{tag:h,index:b,data:x,isValid:F}),m.focus(),this.setRangeAtStartEnd(!1,m),this}else console.warn("Cannot find element in Tag template: .",y.classNames.tagTextSelector)},editTagToggleValidity(h,p){var y;if(p=p||He(h))return(y=!("__isValid"in p)||!0===p.__isValid)||this.removeTagsFromValue(h),this.update(),h.classList.toggle(this.settings.classNames.tagNotAllowed,!y),p.__isValid=y,p.__isValid;console.warn("tag has no data: ",h,p)},onEditTagDone(h,p){p=p||{};var y={tag:h=h||this.state.editing.scope,index:this.getNodeIndex(h),previousData:He(h),data:p};this.trigger("edit:beforeUpdate",y,{cloneData:!1}),this.state.editing=!1,delete p.__originalData,delete p.__originalHTML,h&&p[this.settings.tagTextProp]?(h=this.replaceTag(h,p),this.editTagToggleValidity(h,p),this.settings.a11y.focusableTags?h.focus():ps(h)):h&&this.removeTags(h),this.trigger("edit:updated",y),this.dropdown.hide(),this.settings.keepInvalidTags&&this.reCheckInvalidTags()},replaceTag(h,p){p&&p.value||(p=h.__tagifyTagData),p.__isValid&&1!=p.__isValid&&Nt(p,this.getInvalidTagAttrs(p,p.__isValid));var y=this.createTagElem(p);return h.parentNode.replaceChild(y,h),this.updateValueByDOMTags(),y},updateValueByDOMTags(){this.value.length=0,[].forEach.call(this.getTagElms(),h=>{h.classList.contains(this.settings.classNames.tagNotAllowed.split(" ")[0])||this.value.push(He(h))}),this.update()},injectAtCaret(h,p){return!(p=p||this.state.selection?.range)&&h?(this.appendMixTags(h),this):(xi(h,p),this.setRangeAtStartEnd(!1,h),this.updateValueByDOMTags(),this.update(),this)},input:{set(){let h=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",p=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];var y=this.settings.dropdown.closeOnSelect;this.state.inputText=h,p&&(this.DOM.input.innerHTML=Zn(""+h)),!h&&y&&this.dropdown.hide.bind(this),this.input.autocomplete.suggest.call(this),this.input.validate.call(this)},raw(){return this.DOM.input.textContent},validate(){var h=!this.state.inputText||!0===this.validateTag({value:this.state.inputText});return this.DOM.input.classList.toggle(this.settings.classNames.inputInvalid,!h),h},normalize(h){var y=[];(h||this.DOM.input).childNodes.forEach(m=>3==m.nodeType&&y.push(m.nodeValue)),y=y.join("\n");try{y=y.replace(/(?:\r\n|\r|\n)/g,this.settings.delimiters.source.charAt(0))}catch{}return y=y.replace(/\s/g," "),this.trim(y)},autocomplete:{suggest(h){if(this.settings.autoComplete.enabled){"string"==typeof(h=h||{value:""})&&(h={value:h});var p=this.dropdown.getMappedValue(h);if("number"!=typeof p){var y=p.substr(0,this.state.inputText.length).toLowerCase(),m=p.substring(this.state.inputText.length);p&&this.state.inputText&&y==this.state.inputText.toLowerCase()?(this.DOM.input.setAttribute("data-suggest",m),this.state.inputSuggestion=h):(this.DOM.input.removeAttribute("data-suggest"),delete this.state.inputSuggestion)}}},set(h){var p=this.DOM.input.getAttribute("data-suggest"),y=h||(p?this.state.inputText+p:null);return!!y&&("mix"==this.settings.mode?this.replaceTextWithNode(document.createTextNode(this.state.tag.prefix+y)):(this.input.set.call(this,y),this.setRangeAtStartEnd(!1,this.DOM.input)),this.input.autocomplete.suggest.call(this),this.dropdown.hide(),!0)}}},getTagIdx(h){return this.value.findIndex(p=>p.__tagId==(h||{}).__tagId)},getNodeIndex(h){var p=0;if(h)for(;h=h.previousElementSibling;)p++;return p},getTagElms(){for(var h=arguments.length,p=new Array(h),y=0;y<h;y++)p[y]=arguments[y];var m="."+[...this.settings.classNames.tag.split(" "),...p].join(".");return[].slice.call(this.DOM.scope.querySelectorAll(m))},getLastTag(){var h=this.DOM.scope.querySelectorAll(`${this.settings.classNames.tagSelector}:not(.${this.settings.classNames.tagHide}):not([readonly])`);return h[h.length-1]},isTagDuplicate(h,p,y){var m=0;if("select"==this.settings.mode)return!1;for(let b of this.value)fs(this.trim(""+h),b.value,p)&&y!=b.__tagId&&m++;return m},getTagIndexByValue(h){var p=[],y=this.settings.dropdown.caseSensitive;return this.getTagElms().forEach((m,b)=>{m.__tagifyTagData&&fs(this.trim(m.__tagifyTagData.value),h,y)&&p.push(b)}),p},getTagElmByValue(h){var p=this.getTagIndexByValue(h)[0];return this.getTagElms()[p]},flashTag(h){h&&(h.classList.add(this.settings.classNames.tagFlash),setTimeout(()=>{h.classList.remove(this.settings.classNames.tagFlash)},100))},isTagBlacklisted(h){return h=this.trim(h.toLowerCase()),this.settings.blacklist.filter(p=>(""+p).toLowerCase()==h).length},isTagWhitelisted(h){return!!this.getWhitelistItem(h)},getWhitelistItem(h,p,y){p=p||"value";var m,b=this.settings;return(y=y||b.whitelist).some(x=>{if(fs("string"==typeof x?x:x[p]||x.value,h,b.dropdown.caseSensitive,b.trim))return m="string"==typeof x?{value:x}:x,!0}),m||"value"!=p||"value"==b.tagTextProp||(m=this.getWhitelistItem(h,b.tagTextProp,y)),m},validateTag(h){var p=this.settings,y="value"in h?"value":p.tagTextProp,m=this.trim(h[y]+"");return(h[y]+"").trim()?"mix"!=p.mode&&p.pattern&&p.pattern instanceof RegExp&&!p.pattern.test(m)?this.TEXTS.pattern:!p.duplicates&&this.isTagDuplicate(m,p.dropdown.caseSensitive,h.__tagId)?this.TEXTS.duplicate:this.isTagBlacklisted(m)||p.enforceWhitelist&&!this.isTagWhitelisted(m)?this.TEXTS.notAllowed:!p.validate||p.validate(h):this.TEXTS.empty},getInvalidTagAttrs(h,p){return{"aria-invalid":!0,class:`${h.class||""} ${this.settings.classNames.tagNotAllowed}`.trim(),title:p}},hasMaxTags(){return this.value.length>=this.settings.maxTags&&this.TEXTS.exceed},setReadonly(h,p){var y=this.settings;document.activeElement.blur(),y[p||"readonly"]=h,this.DOM.scope[(h?"set":"remove")+"Attribute"](p||"readonly",!0),this.settings.userInput=!0,this.setContentEditable(!h)},setContentEditable(h){this.settings.userInput&&(this.DOM.input.contentEditable=h,this.DOM.input.tabIndex=h?0:-1)},setDisabled(h){this.setReadonly(h,"disabled")},normalizeTags(h){var p=this.settings,y=p.whitelist,m=p.delimiters,b=p.mode,x=p.tagTextProp,D=[],R=!!y&&y[0]instanceof Object,F=Array.isArray(h),le=F&&h[0].value,we=re=>(re+"").split(m).filter(ie=>ie).map(ie=>({[x]:this.trim(ie),value:this.trim(ie)}));if("number"==typeof h&&(h=h.toString()),"string"==typeof h){if(!h.trim())return[];h=we(h)}else F&&(h=[].concat(...h.map(re=>null!=re.value?re:we(re))));return R&&!le&&(h.forEach(re=>{var ie=D.map(Ye=>Ye.value),Se=this.dropdown.filterListItems.call(this,re[x],{exact:!0});this.settings.duplicates||(Se=Se.filter(Ye=>!ie.includes(Ye.value)));var ee=Se.length>1?this.getWhitelistItem(re[x],x,Se):Se[0];ee&&ee instanceof Object?D.push(ee):"mix"!=b&&(null==re.value&&(re.value=re[x]),D.push(re))}),D.length&&(h=D)),h},parseMixTags(h){var p=this.settings,y=p.mixTagsInterpolator,m=p.duplicates,b=p.transformTag,x=p.enforceWhitelist,D=p.maxTags,R=p.tagTextProp,F=[];h=h.split(y[0]).map((we,re)=>{var ie,Se,ee,Ye=we.split(y[1]),Ge=Ye[0],Yt=F.length==D;try{if(Ge==+Ge)throw Error;Se=JSON.parse(Ge)}catch{Se=this.normalizeTags(Ge)[0]||{value:Ge}}if(b.call(this,Se),Yt||!(Ye.length>1)||x&&!this.isTagWhitelisted(Se.value)||!m&&this.isTagDuplicate(Se.value)){if(we)return re?y[0]+we:we}else Se[ie=Se[R]?R:"value"]=this.trim(Se[ie]),ee=this.createTagElem(Se),F.push(Se),ee.classList.add(this.settings.classNames.tagNoAnimation),Ye[0]=ee.outerHTML,this.value.push(Se);return Ye.join("")}).join(""),this.DOM.input.innerHTML=h,this.DOM.input.appendChild(document.createTextNode("")),this.DOM.input.normalize();var le=this.getTagElms();return le.forEach((we,re)=>He(we,F[re])),this.update({withoutChangeEvent:!0}),zc(le,this.state.hasFocus),h},replaceTextWithNode(h,p){if(this.state.tag||p){p=p||this.state.tag.prefix+this.state.tag.value;var y,m,b=this.state.selection||window.getSelection(),x=b.anchorNode;return x.splitText(b.anchorOffset-(this.state.tag.delimiters?this.state.tag.delimiters.length:0)),-1==(y=x.nodeValue.lastIndexOf(p))||(m=x.splitText(y),h&&x.parentNode.replaceChild(h,m)),!0}},selectTag(h,p){var y=this.settings;if(!y.enforceWhitelist||this.isTagWhitelisted(p.value)){this.input.set.call(this,p[y.tagTextProp]||p.value,!0),this.state.actions.selectOption&&setTimeout(()=>this.setRangeAtStartEnd(!1,this.DOM.input));var m=this.getLastTag();return m?this.replaceTag(m,p):this.appendTag(h),this.value[0]=p,this.update(),this.trigger("add",{tag:h,data:p}),[h]}},addEmptyTag(h){var p=Nt({value:""},h||{}),y=this.createTagElem(p);He(y,p),this.appendTag(y),this.editTag(y,{skipValidation:!0})},addTags(h,p,y){var m=[],b=this.settings,x=[],D=document.createDocumentFragment();if(y=y||b.skipInvalid,!h||0==h.length)return m;switch(h=this.normalizeTags(h),b.mode){case"mix":return this.addMixTags(h);case"select":p=!1,this.removeAllTags()}return this.DOM.input.removeAttribute("style"),h.forEach(R=>{var F,le={},we=Object.assign({},R,{value:R.value+""});if(R=Object.assign({},we),b.transformTag.call(this,R),R.__isValid=this.hasMaxTags()||this.validateTag(R),!0!==R.__isValid){if(y)return;if(Nt(le,this.getInvalidTagAttrs(R,R.__isValid),{__preInvalidData:we}),R.__isValid==this.TEXTS.duplicate&&this.flashTag(this.getTagElmByValue(R.value)),!b.createInvalidTags)return void x.push(R.value)}if("readonly"in R&&(R.readonly?le["aria-readonly"]=!0:delete R.readonly),F=this.createTagElem(R,le),m.push(F),"select"==b.mode)return this.selectTag(F,R);D.appendChild(F),R.__isValid&&!0===R.__isValid?(this.value.push(R),this.trigger("add",{tag:F,index:this.value.length-1,data:R})):(this.trigger("invalid",{data:R,index:this.value.length,tag:F,message:R.__isValid}),b.keepInvalidTags||setTimeout(()=>this.removeTags(F,!0),1e3)),this.dropdown.position()}),this.appendTag(D),this.update(),h.length&&p&&(this.input.set.call(this,b.createInvalidTags?"":x.join(b._delimiters)),this.setRangeAtStartEnd(!1,this.DOM.input)),b.dropdown.enabled&&this.dropdown.refilter(),m},addMixTags(h){if((h=this.normalizeTags(h))[0].prefix||this.state.tag)return this.prefixedTextToTag(h[0]);var p=document.createDocumentFragment();return h.forEach(y=>{var m=this.createTagElem(y);p.appendChild(m)}),this.appendMixTags(p),p},appendMixTags(h){var p=!!this.state.selection;p?this.injectAtCaret(h):(this.DOM.input.focus(),(p=this.setStateSelection()).range.setStart(this.DOM.input,p.range.endOffset),p.range.setEnd(this.DOM.input,p.range.endOffset),this.DOM.input.appendChild(h),this.updateValueByDOMTags(),this.update())},prefixedTextToTag(h){var p,y=this.settings,m=this.state.tag.delimiters;if(y.transformTag.call(this,h),h.prefix=h.prefix||this.state.tag?this.state.tag.prefix:(y.pattern.source||y.pattern)[0],p=this.createTagElem(h),this.replaceTextWithNode(p)||this.DOM.input.appendChild(p),setTimeout(()=>p.classList.add(this.settings.classNames.tagNoAnimation),300),this.value.push(h),this.update(),!m){var b=this.insertAfterTag(p)||p;setTimeout(ps,0,b)}return this.state.tag=null,this.trigger("add",Nt({},{tag:p},{data:h})),p},appendTag(h){var p=this.DOM;p.scope.insertBefore(h,p.input)},createTagElem(h,p){h.__tagId=Dg();var y,m=Nt({},h,Si({value:Zn(h.value+"")},p));return function(b){for(var x,D=document.createNodeIterator(b,NodeFilter.SHOW_TEXT,null,!1);x=D.nextNode();)x.textContent.trim()||x.parentNode.removeChild(x)}(y=this.parseTemplate("tag",[m,this])),He(y,h),y},reCheckInvalidTags(){var h=this.settings;this.getTagElms(h.classNames.tagNotAllowed).forEach((p,y)=>{var m=He(p),b=this.hasMaxTags(),x=this.validateTag(m),D=!0===x&&!b;if("select"==h.mode&&this.toggleScopeValidation(x),D)return this.replaceTag(p,m=m.__preInvalidData?m.__preInvalidData:{value:m.value});p.title=b||x})},removeTags(h,p,y){var m,b=this.settings;if(h=h&&h instanceof HTMLElement?[h]:h instanceof Array?h:h?[h]:[this.getLastTag()],m=h.reduce((x,D)=>{D&&"string"==typeof D&&(D=this.getTagElmByValue(D));var R=He(D);return D&&R&&!R.readonly&&x.push({node:D,idx:this.getTagIdx(R),data:He(D,{__removed:!0})}),x},[]),y="number"==typeof y?y:this.CSSVars.tagHideTransition,"select"==b.mode&&(y=0,this.input.set.call(this)),1==m.length&&"select"!=b.mode&&m[0].node.classList.contains(b.classNames.tagNotAllowed)&&(p=!0),m.length)return b.hooks.beforeRemoveTag(m,{tagify:this}).then(()=>{function x(D){D.node.parentNode&&(D.node.parentNode.removeChild(D.node),p?b.keepInvalidTags&&this.trigger("remove",{tag:D.node,index:D.idx}):(this.trigger("remove",{tag:D.node,index:D.idx,data:D.data}),this.dropdown.refilter(),this.dropdown.position(),this.DOM.input.normalize(),b.keepInvalidTags&&this.reCheckInvalidTags()))}y&&y>10&&1==m.length?function(D){D.node.style.width=parseFloat(window.getComputedStyle(D.node).width)+"px",document,D.node.classList.add(b.classNames.tagHide),setTimeout(x.bind(this),y,D)}.call(this,m[0]):m.forEach(x.bind(this)),p||(this.removeTagsFromValue(m.map(D=>D.node)),this.update(),"select"==b.mode&&this.setContentEditable(!0))}).catch(x=>{})},removeTagsFromDOM(){[].slice.call(this.getTagElms()).forEach(h=>h.parentNode.removeChild(h))},removeTagsFromValue(h){(h=Array.isArray(h)?h:[h]).forEach(p=>{var y=He(p),m=this.getTagIdx(y);m>-1&&this.value.splice(m,1)})},removeAllTags(h){h=h||{},this.value=[],"mix"==this.settings.mode?this.DOM.input.innerHTML="":this.removeTagsFromDOM(),this.dropdown.refilter(),this.dropdown.position(),this.state.dropdown.visible&&setTimeout(()=>{this.DOM.input.focus()}),"select"==this.settings.mode&&(this.input.set.call(this),this.setContentEditable(!0)),this.update(h)},postUpdate(){this.state.blockChangeEvent=!1;var h=this.settings,p=h.classNames,y="mix"==h.mode?h.mixMode.integrated?this.DOM.input.textContent:this.DOM.originalInput.value.trim():this.value.length+this.input.raw.call(this).length;this.toggleClass(p.hasMaxTags,this.value.length>=h.maxTags),this.toggleClass(p.hasNoTags,!this.value.length),this.toggleClass(p.empty,!y),"select"==h.mode&&this.toggleScopeValidation(this.value?.[0]?.__isValid)},setOriginalInputValue(h){var p=this.DOM.originalInput;this.settings.mixMode.integrated||(p.value=h,p.tagifyValue=p.value,this.setPersistedData(h,"value"))},update(h){clearTimeout(this.debouncedUpdateTimeout),this.debouncedUpdateTimeout=setTimeout(function(){var p=this.getInputValue();this.setOriginalInputValue(p),this.settings.onChangeAfterBlur&&(h||{}).withoutChangeEvent||this.state.blockChangeEvent||this.triggerChangeEvent(),this.postUpdate()}.bind(this),100)},getInputValue(){var h=this.getCleanValue();return"mix"==this.settings.mode?this.getMixedTagsAsString(h):h.length?this.settings.originalInputValueFormat?this.settings.originalInputValueFormat(h):JSON.stringify(h):""},getCleanValue(h){return _a(h||this.value,this.dataProps)},getMixedTagsAsString(){var h="",p=this,y=this.settings,m=y.originalInputValueFormat||JSON.stringify,b=y.mixTagsInterpolator;return function x(D){D.childNodes.forEach(R=>{if(1==R.nodeType){const F=He(R);if("BR"==R.tagName&&(h+="\r\n"),F&&Ai.call(p,R)){if(F.__removed)return;h+=b[0]+m(rn(F,p.dataProps))+b[1]}else R.getAttribute("style")||["B","I","U"].includes(R.tagName)?h+=R.textContent:"DIV"!=R.tagName&&"P"!=R.tagName||(h+="\r\n",x(R))}else h+=R.textContent})}(this.DOM.input),h}},oo.prototype.removeTag=oo.prototype.removeTags,oo}()}},_d=>{_d(_d.s=527)}]);